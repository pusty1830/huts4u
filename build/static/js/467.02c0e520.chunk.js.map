{"version":3,"file":"static/js/467.02c0e520.chunk.js","mappings":"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","sources":["components/Payments/RanderPayments.tsx","pages/Account/LoginOtpModal.tsx","pages/BookingSummary.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { bookingConfirm, createHotelPayment, createMyPayment, postBooking, verifyPayment } from \"../../services/services\";\r\nimport { R_KEY_ID } from \"../../services/Secret\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n} from \"@mui/material\";\r\nimport color from \"../color\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getUserId, getUserName } from \"../../services/axiosClient\";\r\nimport dayjs from \"dayjs\";\r\n\r\ninterface BookingDetails {\r\n    hotel: any;\r\n    room: any;\r\n    guestInfo: {\r\n        name: string;\r\n        email: string;\r\n        phoneNumber: string;\r\n    };\r\n    timing: {\r\n        checkInDate: string;\r\n        checkInTime: string;\r\n        checkOutDate: string;\r\n        checkOutTime: string;\r\n        duration: string;\r\n    };\r\n    pricingDetails: any;\r\n    bookingType: string | null;\r\n    rooms: string | null;\r\n    adults: string | null;\r\n    children: string | null;\r\n}\r\n\r\ninterface RenderRazorpayProps {\r\n    orderDetails: any;\r\n    amount: any;\r\n    bookingDetails: BookingDetails;\r\n\r\n}\r\n\r\n\r\nconst RenderRazorpay: React.FC<RenderRazorpayProps> = ({\r\n    orderDetails,\r\n    // amount,\r\n    bookingDetails\r\n\r\n}) => {\r\n    console.log(bookingDetails)\r\n\r\n\r\n    const navigate = useNavigate();\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const loadScript = (src: string): Promise<boolean> =>\r\n        new Promise((resolve) => {\r\n            const script = document.createElement(\"script\");\r\n            script.src = src;\r\n            script.onload = () => resolve(true);\r\n            script.onerror = () => resolve(false);\r\n            document.body.appendChild(script);\r\n        });\r\n\r\n    const displayRazorpay = async () => {\r\n        const isScriptLoaded = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\r\n        if (!isScriptLoaded || !(window as any).Razorpay) {\r\n            alert(\"Failed to load Razorpay SDK.\");\r\n            return;\r\n        }\r\n\r\n        // if (!isScriptLoaded) {\r\n        //     alert(\r\n        //         \"Failed to load Razorpay SDK. Please check your internet connection.\"\r\n        //     );\r\n        //     return;\r\n        // }\r\n\r\n        // if (!(window as any).Razorpay) {\r\n        //     alert(\"Razorpay SDK is not available. Try reloading the page.\");\r\n        //     return;\r\n        // }\r\n\r\n        // console.log(orderDetails)\r\n        const options = {\r\n            key: R_KEY_ID || \"\",\r\n            amount: orderDetails.data.amount,\r\n            currency: orderDetails.data.currency,\r\n            order_id: orderDetails.data.id,\r\n            prefill: {\r\n                name: bookingDetails?.guestInfo?.name,\r\n                email: bookingDetails?.guestInfo?.email,\r\n                contact: bookingDetails?.guestInfo?.phoneNumber,\r\n            },\r\n            handler: async (response: any) => {\r\n                try {\r\n                    const res = await verifyPayment({\r\n                        orderId: response.razorpay_order_id,\r\n                        paymentId: response.razorpay_payment_id,\r\n                        signature: response.razorpay_signature,\r\n                    });\r\n                    console.log(res);\r\n                    alert(\"Payment Successful\");\r\n                    const payLoad = {\r\n                        userId: getUserId(),\r\n                        hotelId: bookingDetails?.hotel?.id,\r\n                        geustName: bookingDetails?.guestInfo?.name,\r\n                        amountPaid: orderDetails.data.amount,\r\n                        checkInDate: bookingDetails?.timing?.checkInDate,\r\n                        checkInTime: bookingDetails?.timing?.checkInTime,\r\n                        checkOutDate: bookingDetails?.timing?.checkOutDate,\r\n                        checkOutTime: bookingDetails?.timing?.checkOutTime,\r\n                        bookingType: bookingDetails?.bookingType,\r\n                        geustDetails: bookingDetails?.guestInfo,\r\n                        adults: bookingDetails?.adults,\r\n                        children: bookingDetails?.children,\r\n                        hotelName: bookingDetails?.hotel?.propertyName,\r\n                        status: 'pending',\r\n                        paymentId: res?.data?.data?.id\r\n                    }\r\n                    console.log(payLoad)\r\n\r\n\r\n                    postBooking(payLoad).then((res) => {\r\n                        const payoutPayLoad = {\r\n                            userId: getUserId(),\r\n                            paymentId: res?.data?.data?.id,\r\n                            hotelId: bookingDetails?.hotel?.id,\r\n                            bookingId: res?.data?.data?.id,                   // integer (FK)\r\n                            amountPaise: bookingDetails?.pricingDetails?.totalPrice * 100,             // ₹2,500.00 -> 250000 paise\r\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,                 // platform/gateway total fees -> 250.00 -> 25000 paise\r\n                            netAmountPaise: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase) * 100,          // amountPaise - feePaise -> 2250.00 -> 225000 paise\r\n                            currency: \"INR\",\r\n                            bookingsIncluded: [\r\n                                res?.data?.data?.id\r\n                            ],\r\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\r\n                            status: \"pending\",\r\n                            transactionRef: null,\r\n                            gatewayResponse: null,\r\n                            failureReason: null,\r\n                            processedBy: null,\r\n                            note: \"Daily PayOut \",\r\n                        };\r\n\r\n                        // Example payload for a payment attempt (gateway)\r\n                        const mypaymentPayload = {\r\n                            userId: getUserId(),\r\n                            paymentId: res?.data?.data?.id,\r\n                            hotelId: bookingDetails?.hotel?.id,\r\n                            bookingId: res?.data?.data?.id,\r\n\r\n                            // amounts in paise\r\n                            amountPaise: bookingDetails?.pricingDetails?.totalPrice * 100,        // ₹2250.00 gross\r\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,            // ₹250.00 fee\r\n                            netmyAmountPaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,   // ₹2000.00 net to vendor\r\n\r\n                            currency: \"INR\",\r\n\r\n                            bookingsIncluded: [res?.data?.data?.id],   // array of booking IDs\r\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\r\n                            initiatedAt: new Date(),          // JS Date object\r\n                            processedAt: null,                // will fill after payment gateway finishes\r\n\r\n                            status: \"pending\",                // pending | processing | completed | failed | cancelled\r\n\r\n                            transactionRef: null,             // will fill after gateway\r\n                            gatewayResponse: null,            // store raw gateway JSON later\r\n                            failureReason: null,\r\n\r\n                            processedBy: null,                // admin user ID if needed\r\n                            note: \"Auto payout settlement\",   // optional\r\n                        };\r\n                        createMyPayment(mypaymentPayload).then((res) => {\r\n                            console.log(\"My Payment is scheduled\");\r\n                        }).catch((err) => {\r\n                            console.log(\"error while creating the mypayment\", err)\r\n                        })\r\n                        createHotelPayment(payoutPayLoad).then((res) => {\r\n                            console.log(\"My Payout is scheduled\");\r\n                        }).catch((err) => {\r\n                            console.log(\"error while creating the PayOut \", err);\r\n                        })\r\n\r\n                        toast(res?.data?.msg)\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    })\r\n\r\n                    const messagetamplet = {\r\n                        guestName: bookingDetails?.guestInfo?.name,\r\n                        location: bookingDetails?.hotel?.address,\r\n                        hotelName: bookingDetails?.hotel?.propertyName,\r\n                        checkInDate: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\r\n                        checkInTime: bookingDetails?.timing?.checkInTime,\r\n                        phone: bookingDetails?.guestInfo?.phoneNumber, // send full E.164, don't substring\r\n                        amountPaid: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase),\r\n                        basePrice: bookingDetails?.pricingDetails?.basePrice,\r\n                        gstOnBase: bookingDetails?.pricingDetails?.gstOnBase,\r\n                        razorpayfee: (bookingDetails?.pricingDetails?.gstTotal - (bookingDetails?.pricingDetails?.gstOnBase + bookingDetails?.pricingDetails?.gstOnPlatform)),\r\n                        platformFee: bookingDetails?.pricingDetails?.platformFee,\r\n                        gstOnPlatform: bookingDetails?.pricingDetails?.gstOnPlatform,\r\n                        totalPrice: bookingDetails?.pricingDetails?.totalPrice,\r\n                        adults: bookingDetails?.adults,\r\n                        children: bookingDetails?.children,\r\n                        rooms: 1,\r\n                        checkOutTime: bookingDetails?.timing?.checkOutTime,\r\n                        checkOutDate: dayjs(bookingDetails?.timing?.checkOutDate, \"DD MMM YYYY\").format(\"DD MMM YYYY\"),\r\n                        hotelEmail: bookingDetails?.hotel?.receptionEmail,\r\n                        receptionistPhone: bookingDetails?.hotel?.receptionMobile,\r\n                    };\r\n\r\n                    console.log(messagetamplet)\r\n                    bookingConfirm(messagetamplet).then((res) => {\r\n                        console.log(\"message send to the wp\", res)\r\n                    }).catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                    navigate('/my-bookings');\r\n\r\n                } catch (error) {\r\n                    alert(\"Payment verification failed. Please try again.\");\r\n                }\r\n            },\r\n        };\r\n\r\n        const razorpay = new (window as any).Razorpay(options);\r\n        razorpay.open();\r\n    };\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"xs\"\r\n                fullWidth\r\n                sx={{\r\n                    \"& .MuiPaper-root\": {\r\n                        padding: \"8px\",\r\n                        borderRadius: \"16px\",\r\n                    },\r\n                }}\r\n            >\r\n                <DialogTitle>Complete Your Payment</DialogTitle>\r\n                <DialogContent>\r\n                    <p>Ensure your payment details are correct before proceeding.</p>\r\n                </DialogContent>\r\n                <DialogActions style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <Button\r\n                        style={{\r\n                            textTransform: \"none\",\r\n                            color: \"black\",\r\n                        }}\r\n                        onClick={handleClose}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={displayRazorpay}\r\n                        variant=\"contained\"\r\n                        style={{\r\n                            background: color.firstColor,\r\n                            fontSize: \"18px\",\r\n                            textTransform: \"none\",\r\n                            border: \"solid 1px white\",\r\n                        }}\r\n                        sx={{\r\n                            padding: \"2px 10px\",\r\n                            transition: \"all 0.4s ease\",\r\n                            \"&:hover\": {\r\n                                paddingRight: \"20px\",\r\n                            },\r\n                        }}\r\n                    >\r\n                        Proceed to Pay\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RenderRazorpay;\r\n","import { Edit } from \"@mui/icons-material\";\r\nimport { Box, Button, Grid, Modal, TextField, Typography } from \"@mui/material\";\r\nimport { useRef, useState } from \"react\";\r\nimport \"react-phone-input-2/lib/material.css\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport color from \"../../components/color\";\r\nimport { verifyOTP } from \"../../services/services\";\r\nimport \"./Login.css\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  setCurrentAccessToken,\r\n  setCurrentUser,\r\n} from \"../../services/axiosClient\";\r\n\r\ninterface LoginOtpModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onVerificationSuccess: () => void;\r\n  phone: string;\r\n  name: string;\r\n  email: string;\r\n  token: string;\r\n}\r\n\r\nconst LoginOtpModal = ({ open,\r\n  onClose,\r\n  onVerificationSuccess,\r\n  phone,\r\n  name,\r\n  email,\r\n  token\r\n}: LoginOtpModalProps) => {\r\n  const [step, setStep] = useState(1);\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [countryCode, setCountryCode] = useState(\"in\");\r\n  const [sessionId, setSessionId] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const location = useLocation();\r\n  // const state = location.state;\r\n  // const queryParams = new URLSearchParams(location.search);\r\n  // const phone = queryParams.get(\"phone\");\r\n  // const name = queryParams.get(\"name\");\r\n  // const session = queryParams.get(\"token\");\r\n  // const email = queryParams.get(\"email\");\r\n\r\n  const [otp, setOtp] = useState(Array(4).fill(\"\"));\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  const otpRefs = Array.from({ length: 4 }, () =>\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    useRef<HTMLInputElement>(null)\r\n  );\r\n\r\n  const isModalOpen =\r\n    new URLSearchParams(location.search).get(\"login\") === \"true\";\r\n\r\n  const handleClose = () => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n\r\n    searchParams.delete(\"login\");\r\n    searchParams.delete(\"phone\");\r\n    searchParams.delete(\"name\");\r\n    searchParams.delete(\"email\");\r\n    searchParams.delete(\"token\");\r\n\r\n    navigate(`${location.pathname}?${searchParams.toString()}`, {\r\n      replace: true,\r\n      state: { ...location.state },\r\n    });\r\n  };\r\n\r\n  // const phoneFormik = useFormik({\r\n  //   initialValues: { phone: \"\" },\r\n  //   validationSchema: Yup.object({\r\n  //     phone: Yup.string()\r\n  //       .required(\"Phone number is required\")\r\n  //       .matches(/^\\d+$/, \"Only numbers allowed\"),\r\n  //   }),\r\n  //   onSubmit: (values) => {\r\n\r\n  //   },\r\n  // });\r\n\r\n  const handleOtpChange = (index: number, value: string) => {\r\n    if (!/^\\d*$/.test(value)) return;\r\n    const newOtp = [...otp];\r\n    newOtp[index] = value;\r\n    setOtp(newOtp);\r\n\r\n    if (value && index < 3) {\r\n      otpRefs[index + 1].current?.focus();\r\n    }\r\n  };\r\n\r\n  const handleOtpSubmit = () => {\r\n    if (otp.join(\"\").length === 4) {\r\n      verifyOTP({\r\n        otp: otp.join(\"\"),\r\n        sessionId: token,\r\n        phone,\r\n        name,\r\n        email\r\n      })\r\n        .then((res) => {\r\n          setCurrentAccessToken(res?.data?.data?.token);\r\n          setCurrentUser(res?.data?.data?.user);\r\n          toast.success(\"Verified successfully!\");\r\n          onVerificationSuccess(); // Call the success callback\r\n          onClose();\r\n        })\r\n        .catch((err) => {\r\n          toast.error(\"Verification failed\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose}>\r\n      <Box sx={modalStyle}>\r\n        {/* {step === 1 ? (\r\n          <form\r\n            onSubmit={phoneFormik.handleSubmit}\r\n            style={{ height: \"100%\", borderRadius: \"12px\" }}\r\n          >\r\n            <div\r\n              className=\"subscribe\"\r\n              style={{\r\n                background: color.background,\r\n                color: \"white\",\r\n                position: \"relative\",\r\n                boxShadow: \"-4px -4px 10px rgba(255, 255, 255, 0.36) inset\",\r\n                borderRadius: \"12px\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              <Box\r\n                sx={{\r\n                  background: \"url('/assets/footer.webp')\",\r\n                  backgroundSize: { xs: \"70%\", md: \"70%\" },\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundPosition: \"bottom left\",\r\n                  position: \"absolute\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                }}\r\n              ></Box>\r\n\r\n              <Typography variant=\"h6\">Enter Phone Number</Typography>\r\n              <Typography\r\n                mb={4}\r\n                variant=\"body2\"\r\n                sx={{ fontSize: \"12px\", textAlign: \"left\", maxWidth: \"80%\" }}\r\n              >\r\n                Login to create a booking!\r\n              </Typography>\r\n              <PhoneInput\r\n                country={\"in\"}\r\n                value={phoneFormik.values.phone}\r\n                onChange={(value, country) => {\r\n                  const countryData = country as CountryData;\r\n                  setCountryCode(countryData.countryCode);\r\n                  phoneFormik.setFieldValue(\r\n                    \"phone\",\r\n                    value.replace(/[^0-9]/g, \"\")\r\n                  );\r\n                }}\r\n                inputStyle={{\r\n                  width: \"100%\",\r\n                  fontFamily: \"CustomFontM\",\r\n                  color: \"black\",\r\n                  background: color.thirdColor,\r\n                }}\r\n                containerStyle={{ position: \"relative\" }}\r\n              />\r\n              {phoneFormik.touched.phone && phoneFormik.errors.phone && (\r\n                <Typography sx={{ color: \"white\", fontSize: \"14px\" }}>\r\n                  *{phoneFormik.errors.phone}\r\n                </Typography>\r\n              )}\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                sx={{\r\n                  background: color.thirdColor,\r\n\r\n                  color: color.firstColor,\r\n                  fontSize: \"14px\",\r\n                  fontWeight: \"bold\",\r\n                  textTransform: \"none\",\r\n                  m: \"auto\",\r\n                  mt: 4,\r\n                  width: \"100%\",\r\n                  display: \"block\",\r\n                  position: \"absolute\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                  borderRadius: 0,\r\n                  py: 2,\r\n                  boxShadow: \"0px -6px 50px rgba(7, 7, 7, 0.11)\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                Send OTP\r\n              </Button>\r\n\r\n              {/* <div className=\"submit-btn\">SUBMIT</div> */}\r\n        {/* </div> */}\r\n        {/* </form> */}\r\n        {/* ) : (  */}\r\n        <>\r\n          <div\r\n            className=\"subscribe\"\r\n            style={{\r\n              background: color.background,\r\n              color: \"white\",\r\n              position: \"relative\",\r\n              boxShadow: \"-4px -4px 10px rgba(255, 255, 255, 0.36) inset\",\r\n              borderRadius: \"12px\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                background: \"url('/assets/footer.webp')\",\r\n                backgroundSize: { xs: \"70%\", md: \"70%\" },\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"bottom left\",\r\n                position: \"absolute\",\r\n                top: 0,\r\n                left: 0,\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n              }}\r\n            ></Box>\r\n            <Typography variant=\"h6\">Enter OTP</Typography>\r\n            <Typography variant=\"body2\" sx={{ mb: 1 }}>\r\n              Sent to: +{phone}{\" \"}\r\n              <Button\r\n                size=\"small\"\r\n                onClick={() => handleClose()}\r\n                sx={{\r\n                  color: color.firstColor,\r\n                  background: color.thirdColor,\r\n                  p: 0,\r\n                  px: 1,\r\n                  minWidth: 0,\r\n                  ml: 1,\r\n                  textTransform: \"none\",\r\n                }}\r\n              >\r\n                <Edit sx={{ fontSize: \"14px\" }}></Edit> Edit\r\n              </Button>\r\n            </Typography>\r\n            <Grid container spacing={1} justifyContent=\"center\" mt={3}>\r\n              {otp.map((_, index) => (\r\n                <Grid item key={index}>\r\n                  <TextField\r\n                    inputRef={otpRefs[index]}\r\n                    value={otp[index]}\r\n                    onChange={(e) => handleOtpChange(index, e.target.value)}\r\n                    inputProps={{\r\n                      maxLength: 1,\r\n                      style: {\r\n                        textAlign: \"center\",\r\n                        fontSize: 18,\r\n                        borderColor: \"transparent\",\r\n                      },\r\n                    }}\r\n                    // sx={{ width: 40 }}\r\n\r\n                    sx={{\r\n                      width: 40,\r\n                      bgcolor: color.thirdColor,\r\n                      borderRadius: 2,\r\n                      // minWidth: \"200px\",\r\n                      border: \"none\",\r\n                      outline: \"none\",\r\n                      boxShadow: \"none\",\r\n                      \"& fieldset\": {\r\n                        border: \"none\",\r\n                      },\r\n                      \"&:hover\": {\r\n                        bgcolor: \"#f5f5f5\",\r\n                      },\r\n                      \"& .MuiInputBase-input\": {\r\n                        color: color.firstColor,\r\n                        fontFamily: \"CustomFontB\",\r\n                        fontSize: \"20px\",\r\n                      },\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n            <Button\r\n              onClick={handleOtpSubmit}\r\n              type=\"submit\"\r\n              sx={{\r\n                background: color.thirdColor,\r\n                color: color.firstColor,\r\n                fontSize: \"14px\",\r\n                fontWeight: \"bold\",\r\n                textTransform: \"none\",\r\n                m: \"auto\",\r\n                mt: 4,\r\n                width: \"100%\",\r\n                display: \"block\",\r\n                position: \"absolute\",\r\n                bottom: 0,\r\n                left: 0,\r\n                borderRadius: 0,\r\n                py: 2,\r\n                boxShadow: \"0px -6px 50px rgba(7, 7, 7, 0.11)\",\r\n              }}\r\n            >\r\n              Verify OTP\r\n            </Button>\r\n          </div>\r\n        </>\r\n        {/* )} */}\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst modalStyle = {\r\n  position: \"absolute\" as \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  maxWidth: 400,\r\n  width: \"90%\",\r\n  height: 240,\r\n  background: color.thirdColor,\r\n  borderRadius: \"12px\",\r\n  //   p: 4,\r\n};\r\n\r\nexport default LoginOtpModal;\r\n","import {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Divider,\r\n  Typography,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Yup from \"yup\";\r\nimport CustomButton from \"../components/CustomButton\";\r\nimport RenderRazorpay from \"../components/Payments/RanderPayments\";\r\nimport color from \"../components/color\";\r\nimport { BoxStyle, CustomTextField } from \"../components/style\";\r\nimport { isLoggedIn } from \"../services/axiosClient\";\r\nimport { createOrder, getProfile, sendOTP } from \"../services/services\";\r\nimport LoginOtpModal from \"./Account/LoginOtpModal\";\r\n\r\nconst bookingData = {\r\n  hotelName: \"Best Western Ashoka\",\r\n  location: \"Lakdi ka pool\",\r\n  rating: 4.3,\r\n  reviews: 130,\r\n  checkInDate: \"27 Feb 25\",\r\n  checkInTime: \"2:00 PM\",\r\n  checkOutDate: \"27 Feb 25\",\r\n  checkOutTime: \"5:00 PM\",\r\n  duration: \"3 Hours\",\r\n  roomInfo: \"1 Room, 2 Guests\",\r\n  roomPrice: \"700.00\",\r\n  roomName: \"Superior Double Room\",\r\n  guest: {\r\n    name: \"\",\r\n    email: \"\",\r\n  },\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  name: Yup.string().required(\"Name is required\"),\r\n  email: Yup.string().email(\"Invalid email\").optional(),\r\n});\r\n\r\n// ---------------- new helper (same formula you used earlier) ----------------\r\nconst calculatePriceBreakdown = (basePrice: number) => {\r\n  const numericBase = Number(basePrice) || 0;\r\n\r\n  if (!numericBase || numericBase <= 0) {\r\n    return {\r\n      basePrice: 0,\r\n      platformFee: 0,\r\n      gstOnBase: 0,\r\n      gstOnPlatform: 0,\r\n      gstTotal: 0,\r\n      finalPrice: 0,\r\n    };\r\n  }\r\n\r\n  // 5% GST on base\r\n  const gstOnBase = numericBase * 0.05;\r\n  // platform fee = 13% on (base + gstOnBase)\r\n  const platformFee = (numericBase + gstOnBase) * 0.13;\r\n  // 18% GST on platform fee\r\n  const gstOnPlatform = platformFee * 0.18;\r\n  const gstTotal = gstOnBase + gstOnPlatform;\r\n  const finalPrice = numericBase + platformFee + gstTotal;\r\n\r\n  return {\r\n    basePrice: numericBase,\r\n    platformFee,\r\n    gstOnBase,\r\n    gstOnPlatform,\r\n    gstTotal,\r\n    finalPrice,\r\n  };\r\n};\r\n// ---------------------------------------------------------------------------\r\n\r\nconst BookingSummary = () => {\r\n  const location = useLocation();\r\n  const hotel = location.state?.hotelData;\r\n  const room = location.state?.selectedRoom;\r\n  const selectedSlot = location.state?.selectedSlot;\r\n  const pricingDetails = location.state?.pricingDetails;\r\n  const queryParams = new URLSearchParams(location.search);\r\n\r\n  const bookingType = queryParams.get(\"bookingType\");\r\n  const checkinTime = queryParams.get(\"time\");\r\n  const checkinDate = queryParams.get(\"checkinDate\");\r\n  const checkOutDate = queryParams.get(\"checkOutDate\");\r\n  const rooms = queryParams.get(\"rooms\");\r\n  const adults = queryParams.get(\"adults\");\r\n  const children = queryParams.get(\"children\");\r\n\r\n  const value = selectedSlot?.slot;\r\n  const number = value?.match(/\\d+/)?.[0];\r\n  const extractedNumber = number ? parseInt(number, 10) : null;\r\n\r\n  const [user, setUser] = useState<any>({});\r\n  const [showOtpModal, setShowOtpModal] = useState(false);\r\n  const [otpData, setOtpData] = useState({\r\n    phone: \"\",\r\n    name: \"\",\r\n    email: \"\",\r\n    token: \"\",\r\n  });\r\n  const [orderDetails, setOrderDetails] = useState<any>(null);\r\n\r\n  // Terms & Conditions state\r\n  const [termsChecked, setTermsChecked] = useState(false);\r\n  const [termsOpen, setTermsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn()) {\r\n      getProfile()\r\n        .then((res) => {\r\n          setUser(res?.data?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  // Use pricingDetails if passed from previous screen, otherwise compute from room base\r\n  const roomBaseFromState = Number(pricingDetails?.basePrice) || 0;\r\n  const platformFromState = Number(pricingDetails?.platformFee) || 0;\r\n  const gstOnBaseFromState = Number(pricingDetails?.gstOnBase) || 0;\r\n  const gstOnPlatformFromState = Number(pricingDetails?.gstOnPlatform) || 0;\r\n  const gstTotalFromState = Number(pricingDetails?.gstTotal) || 0;\r\n  const finalFromState = Number(pricingDetails?.totalPrice) || 0;\r\n\r\n  // If pricingDetails exist, use them; else compute breakdown from the raw room base (if available)\r\n  const computedFromBase =\r\n    roomBaseFromState > 0\r\n      ? {\r\n        basePrice: roomBaseFromState,\r\n        platformFee: platformFromState,\r\n        gstOnBase: gstOnBaseFromState,\r\n        gstOnPlatform: gstOnPlatformFromState,\r\n        gstTotal: gstTotalFromState,\r\n        finalPrice: finalFromState,\r\n      }\r\n      : calculatePriceBreakdown(Number(room?.rateFor1Night || room?.rateFor3Hour || 0));\r\n\r\n  const roomBase = computedFromBase.basePrice;\r\n  const platformFee = computedFromBase.platformFee;\r\n  const gstOnBase = computedFromBase.gstOnBase;\r\n  const gstOnPlatform = computedFromBase.gstOnPlatform;\r\n  const gstTotal = computedFromBase.gstTotal;\r\n  const finalTotal = computedFromBase.finalPrice;\r\n\r\n  // allow extraFees from pricingDetails if any\r\n  const extraFees = Number(pricingDetails?.extraFees) || 0;\r\n\r\n  // values to display (nights multiplier already handled in pricingDetails in your flow)\r\n  const displayBase = roomBase;\r\n  const displayBasePlus700 = displayBase + 700; // top struck-through\r\n  const displayCombinedBasePlatform = roomBase + platformFee; // main visible price (base + platform)\r\n  const displayGstBase = gstOnBase;\r\n  const displayGstPlatform = gstOnPlatform;\r\n  const displayGstTotal = displayGstBase + displayGstPlatform;\r\n  const displayFinal = finalTotal + extraFees; // include extraFees if present\r\n\r\n  const totalAmount = Number(pricingDetails?.totalPrice) || displayFinal;\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      if (!totalAmount || totalAmount <= 0) {\r\n        alert(\"Booking amount cannot be zero.\");\r\n        return;\r\n      }\r\n\r\n      const payLoad = {\r\n       amount: Math.round(totalAmount),\r\n        currency: \"INR\",\r\n      };\r\n\r\n      const response = await createOrder(payLoad);\r\n\r\n      if (response?.data) {\r\n        setOrderDetails(response.data);\r\n      } else {\r\n        alert(\"Payment failed. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during payment:\", error);\r\n      alert(\"Payment failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // formik must be created after termsChecked exists so onSubmit can access termsChecked\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: user.userName || \"\",\r\n      email: user.email || \"\",\r\n      phoneNumber: `91${user.phoneNumber}` || \"\",\r\n    },\r\n    validationSchema,\r\n    enableReinitialize: true,\r\n    onSubmit: (values) => {\r\n      // Prevent submission if user hasn't accepted terms\r\n      if (!termsChecked) {\r\n        toast.error(\"Please accept Terms & Conditions before proceeding.\");\r\n        return;\r\n      }\r\n\r\n      if (isLoggedIn()) {\r\n        handlePayment();\r\n      } else {\r\n        const payLoad = {\r\n          name: values.name,\r\n          email: values.email,\r\n          phone: values.phoneNumber.slice(2),\r\n        };\r\n        sendOTP(payLoad)\r\n          .then((res) => {\r\n            console.log(res);\r\n            setShowOtpModal(true);\r\n            toast(\"Otp send Succesfully please verify the OTP\");\r\n            setOtpData({\r\n              phone: values.phoneNumber.slice(2),\r\n              name: values.name,\r\n              email: values.email,\r\n              token: res?.data?.data,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleOtpSuccess = () => {\r\n    setShowOtpModal(false);\r\n    handlePayment();\r\n  };\r\n\r\n  const textContainerRef = useRef<HTMLDivElement>(null);\r\n  const [imageHeight, setImageHeight] = useState(\"auto\");\r\n\r\n  const calculateCheckoutTime = () => {\r\n    if (bookingType === \"hourly\" && checkinTime && extractedNumber) {\r\n      const checkInDateTime = dayjs(`${checkinDate} ${checkinTime}`);\r\n      const checkOutDateTime = checkInDateTime.add(extractedNumber, \"hour\");\r\n\r\n      return {\r\n        checkInDate: checkInDateTime.format(\"DD MMM YYYY\"),\r\n        checkInTime: checkInDateTime.format(\"hh:mm A\"),\r\n        checkOutDate: checkOutDateTime.format(\"DD MMM YYYY\"),\r\n        checkOutTime: checkOutDateTime.format(\"hh:mm A\"),\r\n        duration: `${extractedNumber} hrs`,\r\n      };\r\n    } else {\r\n      return {\r\n        checkInDate: dayjs(checkinDate).format(\"DD MMM YYYY\"),\r\n        checkInTime: \"12.00 PM\",\r\n        checkOutDate: dayjs(checkOutDate).format(\"DD MMM YYYY\"),\r\n        checkOutTime: \"11.00 AM\",\r\n        duration:\r\n          dayjs(checkOutDate).diff(dayjs(checkinDate), \"day\") +\r\n          1 +\r\n          \" night(s)\",\r\n      };\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (textContainerRef.current) {\r\n      setImageHeight(`${textContainerRef.current.clientHeight}px`);\r\n    }\r\n  }, [hotel]);\r\n\r\n  // show a fallback grand total (keeps old semantics)\r\n  const feeAndGst =\r\n    (Number(pricingDetails?.platformFee) || platformFee) +\r\n    (Number(pricingDetails?.gstTotal) || gstTotal) +\r\n    (Number(pricingDetails?.extraFees) || 0);\r\n  const grandTotal = Number(pricingDetails?.totalPrice) || displayFinal;\r\n\r\n  // T&C modal content (replace with your actual policy text)\r\n  const termsText = `By booking you agree to the property's terms and conditions, cancellation policy and house rules. Please ensure you have read and understood them.`;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        ...BoxStyle,\r\n        background: \"#f6f6f6\",\r\n        mt: 0,\r\n        py: 4,\r\n        px: { xs: 1, md: 3 },\r\n        display: \"flex\",\r\n        flexDirection: { xs: \"column\", md: \"row\" },\r\n        justifyContent: \"center\",\r\n        gap: \"20px\",\r\n      }}\r\n    >\r\n      {/* LEFT: Booking + Guest Info */}\r\n      <Card\r\n        sx={{\r\n          p: 1,\r\n          background: \"white\",\r\n          maxWidth: \"700px\",\r\n          border: \"none\",\r\n          boxShadow: 0,\r\n          borderRadius: \"12px\",\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"h6\"\r\n            gutterBottom\r\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n          >\r\n            Your Booking Summary\r\n          </Typography>\r\n\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: { xs: \"column\", md: \"row\" },\r\n              gap: { xs: 0, md: 2 },\r\n              position: \"relative\",\r\n              mt: 2,\r\n              height: \"fit-content\",\r\n              alignItems: \"stretch\",\r\n            }}\r\n          >\r\n            <CardMedia\r\n              component=\"img\"\r\n              sx={{\r\n                width: { xs: \"100%\", md: \"250px\" },\r\n                borderRadius: \"12px\",\r\n                objectFit: \"cover\",\r\n                height: imageHeight,\r\n                transition: \"height 0.3s ease\",\r\n              }}\r\n              image={hotel?.propertyImages?.[0]}\r\n            />\r\n            <div style={{ height: \"fit-content\" }} ref={textContainerRef}>\r\n              <Typography\r\n                sx={{\r\n                  fontSize: \"20px\",\r\n                  fontWeight: 600,\r\n                  color: color.firstColor,\r\n                  mt: { xs: 1.5, md: 1 },\r\n                  display: \"-webkit-box\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  WebkitLineClamp: 1,\r\n                  WebkitBoxOrient: \"vertical\",\r\n                }}\r\n              >\r\n                {hotel?.propertyName}\r\n              </Typography>\r\n              <Typography\r\n                sx={{\r\n                  fontFamily: \"CustomFontSB\",\r\n                  fontSize: { xs: \"12px\", md: \"14px\" },\r\n                  display: \"-webkit-box\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  WebkitLineClamp: 1,\r\n                  WebkitBoxOrient: \"vertical\",\r\n                }}\r\n              >\r\n                {hotel?.address}\r\n              </Typography>\r\n\r\n              <div\r\n                style={{\r\n                  marginTop: \"10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  flexDirection: \"column\",\r\n                  gap: \"4px\",\r\n                }}\r\n              >\r\n                {bookingType === \"hourly\" ? (\r\n                  <>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-In:</strong>{\" \"}\r\n                      {dayjs(checkinDate).format(\"DD MMM YYYY\")},{\" \"}\r\n                      {checkinTime\r\n                        ? dayjs(checkinTime, \"HH:mm\").format(\"hh:mm A\")\r\n                        : \"\"}\r\n                    </Typography>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Duration: </strong>\r\n                      {extractedNumber} hrs\r\n                    </Typography>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-In:</strong> {dayjs(checkinDate).format(\"DD MMM YYYY\")}\r\n                    </Typography>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-Out:</strong> {dayjs(checkOutDate).format(\"DD MMM YYYY\")}\r\n                    </Typography>\r\n                  </>\r\n                )}\r\n\r\n                <Typography sx={typoStyle}>\r\n                  <strong>Room type:</strong> {room?.roomCategory}\r\n                </Typography>\r\n                <Typography sx={typoStyle}>\r\n                  <strong>Room Info: </strong>\r\n                  {rooms} Room, {adults} Adults, {children} Children\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n          </Box>\r\n\r\n          {/* GUEST FORM */}\r\n          <form onSubmit={formik.handleSubmit}>\r\n            <Typography\r\n              variant=\"h6\"\r\n              mt={4}\r\n              sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n            >\r\n              Guest Information\r\n            </Typography>\r\n\r\n            <CustomTextField\r\n              label=\"Guest Name\"\r\n              name=\"name\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              value={formik.values.name}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.name && Boolean(formik.errors.name)}\r\n            />\r\n\r\n            <Box mt={1}>\r\n              <PhoneInput\r\n                country={\"in\"}\r\n                value={formik.values.phoneNumber}\r\n                onChange={(value) => formik.setFieldValue(\"phoneNumber\", value)}\r\n                onBlur={() => formik.setFieldTouched(\"phoneNumber\", true)}\r\n                inputStyle={{\r\n                  width: \"100%\",\r\n                  height: \"56px\",\r\n                  borderRadius: \"52px\",\r\n                  border: \"none\",\r\n                  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\r\n                  color: color.firstColor,\r\n                  paddingLeft: \"58px\",\r\n                  fontSize: \"16px\",\r\n                  backgroundColor: \"white\",\r\n                  transition: \"border-color 0.2s ease\",\r\n                }}\r\n                buttonStyle={{\r\n                  borderRadius: \"52px 0 0 52px\",\r\n                  margin: \"5px\",\r\n                  backgroundColor: \"white\",\r\n                }}\r\n                containerStyle={{\r\n                  width: \"100%\",\r\n                }}\r\n              />\r\n              {formik.touched.phoneNumber && formik.errors.phoneNumber && (\r\n                <Typography\r\n                  sx={{\r\n                    color: \"red\",\r\n                    fontSize: \"12px\",\r\n                    mt: 0.5,\r\n                    ml: \"14px\",\r\n                  }}\r\n                >\r\n                  {formik.errors.phoneNumber}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <CustomTextField\r\n              label=\"Email Address (Optional)\"\r\n              name=\"email\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              value={formik.values.email}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.email && Boolean(formik.errors.email)}\r\n            />\r\n\r\n            {/* Terms acceptance checkbox */}\r\n            <Box sx={{ mt: 2 }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={termsChecked}\r\n                    onChange={(e) => setTermsChecked(e.target.checked)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label={\r\n                  <span>\r\n                    I accept the{\" \"}\r\n                    <span\r\n                      style={{ color: color.firstColor, cursor: \"pointer\", textDecoration: \"underline\" }}\r\n                      onClick={() => setTermsOpen(true)}\r\n                    >\r\n                      Terms & Conditions\r\n                    </span>\r\n                  </span>\r\n                }\r\n              />\r\n            </Box>\r\n\r\n            {/* disable buttons until terms are accepted */}\r\n            {isLoggedIn() ? (\r\n              <CustomButton\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n                type=\"submit\"\r\n                disabled={!termsChecked}\r\n              >\r\n                Pay Now\r\n              </CustomButton>\r\n            ) : (\r\n              <CustomButton\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n                type=\"submit\"\r\n                disabled={!termsChecked}\r\n              >\r\n                verify Phone & Pay\r\n              </CustomButton>\r\n            )}\r\n\r\n            <LoginOtpModal\r\n              open={showOtpModal}\r\n              onClose={() => setShowOtpModal(false)}\r\n              onVerificationSuccess={handleOtpSuccess}\r\n              phone={otpData.phone}\r\n              name={otpData.name}\r\n              email={otpData.email}\r\n              token={otpData.token}\r\n            />\r\n\r\n            {/* Razorpay */}\r\n            {orderDetails && (\r\n              <RenderRazorpay\r\n                orderDetails={orderDetails}\r\n                amount={grandTotal} // using actual total\r\n                bookingDetails={{\r\n                  hotel,\r\n                  room,\r\n                  guestInfo: formik.values,\r\n                  timing: calculateCheckoutTime(),\r\n                  pricingDetails,\r\n                  bookingType,\r\n                  rooms,\r\n                  adults,\r\n                  children,\r\n                }}\r\n              />\r\n            )}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* RIGHT: BILL SUMMARY (UPDATED FORMAT) */}\r\n      <Card\r\n        sx={{\r\n          p: 1,\r\n          background: \"white\",\r\n          border: \"none\",\r\n          boxShadow: 0,\r\n          borderRadius: \"12px\",\r\n          height: \"fit-content\",\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"h6\"\r\n            gutterBottom\r\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n          >\r\n            Your Bill Summary\r\n          </Typography>\r\n\r\n          <div\r\n            style={{\r\n              marginTop: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              flexDirection: \"column\",\r\n              gap: \"8px\",\r\n              alignItems: \"flex-end\",\r\n            }}\r\n          >\r\n            {/* 1) Top struck-through bigger: base + 700 */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"16px\",\r\n                color: color.forthColor,\r\n                textDecoration: \"line-through\",\r\n                fontWeight: 600,\r\n                opacity: 0.95,\r\n              }}\r\n            >\r\n              {displayBase > 0 ? `₹ ${displayBasePlus700.toFixed(0)}` : \"---\"}\r\n            </Typography>\r\n\r\n            {/* 2) Main bold price = base + platform */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"24px\",\r\n                color: color.firstColor,\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              {displayCombinedBasePlatform > 0 ? `₹ ${displayCombinedBasePlatform.toFixed(0)}` : \"—\"}\r\n            </Typography>\r\n\r\n            {/* 3) GST breakdown: Base GST + Platform GST = total GST */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"13px\",\r\n                color: color.forthColor,\r\n                textAlign: \"right\",\r\n              }}\r\n            >\r\n              {displayGstBase > 0 || displayGstPlatform > 0 ? (\r\n                <>\r\n                  ₹{displayGstTotal.toFixed(0)} taxes & fees\r\n                </>\r\n              ) : (\r\n                \"—\"\r\n              )}\r\n            </Typography>\r\n            <Divider sx={{ width: \"100%\", mt: 1 }} />\r\n\r\n\r\n            {/* 4) Final total */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"16px\",\r\n                color: color.firstColor,\r\n                fontWeight: \"700\",\r\n              }}\r\n            >\r\n              {displayFinal > 0 ? `Final: ₹ ${displayFinal.toFixed(0)}` : \"---\"}\r\n            </Typography>\r\n\r\n\r\n\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Terms & Conditions Dialog */}\r\n      <Dialog open={termsOpen} onClose={() => setTermsOpen(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Terms & Conditions</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"body2\" sx={{ whiteSpace: \"pre-line\" }}>\r\n            {termsText}\r\n          </Typography>\r\n          {/* Add longer T&C text here as needed */}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setTermsOpen(false);\r\n            }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BookingSummary;\r\n\r\nconst typoStyle = {\r\n  borderRadius: \"52px\",\r\n  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\r\n  color: color.firstColor,\r\n  background: \"white\",\r\n  fontSize: { xs: \"12px\", md: \"14px\" },\r\n  width: \"fit-content\",\r\n  p: 1,\r\n  px: 2,\r\n  mb: 1,\r\n};\r\n"],"names":["_ref","orderDetails","bookingDetails","console","log","navigate","useNavigate","open","setOpen","useState","handleClose","_jsx","children","_jsxs","Dialog","onClose","maxWidth","fullWidth","sx","padding","borderRadius","DialogTitle","DialogContent","DialogActions","style","display","justifyContent","Button","textTransform","color","onClick","async","_bookingDetails$guest","_bookingDetails$guest2","_bookingDetails$guest3","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","window","Razorpay","alert","options","key","R_KEY_ID","amount","data","currency","order_id","id","prefill","name","guestInfo","email","contact","phoneNumber","handler","_bookingDetails$hotel","_bookingDetails$guest4","_bookingDetails$timin","_bookingDetails$timin2","_bookingDetails$timin3","_bookingDetails$timin4","_bookingDetails$hotel2","_res$data","_res$data$data","_bookingDetails$guest5","_bookingDetails$hotel5","_bookingDetails$hotel6","_bookingDetails$timin7","_bookingDetails$timin8","_bookingDetails$guest6","_bookingDetails$prici11","_bookingDetails$prici12","_bookingDetails$prici13","_bookingDetails$prici14","_bookingDetails$prici15","_bookingDetails$prici16","_bookingDetails$prici17","_bookingDetails$prici18","_bookingDetails$prici19","_bookingDetails$prici20","_bookingDetails$timin9","_bookingDetails$timin10","_bookingDetails$hotel7","_bookingDetails$hotel8","res","verifyPayment","orderId","response","razorpay_order_id","paymentId","razorpay_payment_id","signature","razorpay_signature","payLoad","userId","getUserId","hotelId","hotel","geustName","amountPaid","checkInDate","timing","checkInTime","checkOutDate","checkOutTime","bookingType","geustDetails","adults","hotelName","propertyName","status","postBooking","then","_res$data2","_res$data2$data","_bookingDetails$hotel3","_res$data3","_res$data3$data","_bookingDetails$prici","_bookingDetails$prici2","_bookingDetails$prici3","_bookingDetails$prici4","_bookingDetails$prici5","_res$data4","_res$data4$data","_bookingDetails$timin5","_res$data5","_res$data5$data","_bookingDetails$hotel4","_res$data6","_res$data6$data","_bookingDetails$prici6","_bookingDetails$prici7","_bookingDetails$prici8","_bookingDetails$prici9","_bookingDetails$prici10","_res$data7","_res$data7$data","_bookingDetails$timin6","_res$data8","payoutPayLoad","bookingId","amountPaise","pricingDetails","totalPrice","feePaise","platformFee","gstOnPlatform","netAmountPaise","basePrice","gstOnBase","bookingsIncluded","scheduledAt","dayjs","toDate","transactionRef","gatewayResponse","failureReason","processedBy","note","mypaymentPayload","netmyAmountPaise","initiatedAt","Date","processedAt","createMyPayment","catch","err","createHotelPayment","toast","msg","messagetamplet","guestName","location","address","format","phone","razorpayfee","gstTotal","rooms","hotelEmail","receptionEmail","receptionistPhone","receptionMobile","bookingConfirm","error","variant","background","firstColor","fontSize","border","transition","paddingRight","modalStyle","position","top","left","transform","width","height","thirdColor","onVerificationSuccess","token","step","setStep","setPhoneNumber","countryCode","setCountryCode","sessionId","setSessionId","useLocation","otp","setOtp","Array","fill","otpRefs","from","length","useRef","URLSearchParams","search","get","Modal","Box","_Fragment","className","boxShadow","overflow","backgroundSize","xs","md","backgroundRepeat","backgroundPosition","Typography","mb","size","searchParams","delete","pathname","toString","replace","state","p","px","minWidth","ml","Edit","Grid","container","spacing","mt","map","_","index","item","TextField","inputRef","value","onChange","e","handleOtpChange","test","newOtp","_otpRefs$current","current","focus","target","inputProps","maxLength","textAlign","borderColor","bgcolor","outline","fontFamily","handleOtpSubmit","join","verifyOTP","setCurrentAccessToken","setCurrentUser","user","success","type","fontWeight","m","bottom","py","validationSchema","Yup","required","optional","BookingSummary","_location$state","_location$state2","_location$state3","_location$state4","_value$match","_hotel$propertyImages","hotelData","room","selectedRoom","selectedSlot","queryParams","checkinTime","checkinDate","slot","number","match","extractedNumber","parseInt","setUser","showOtpModal","setShowOtpModal","otpData","setOtpData","setOrderDetails","termsChecked","setTermsChecked","termsOpen","setTermsOpen","useEffect","isLoggedIn","getProfile","roomBaseFromState","Number","platformFromState","gstOnBaseFromState","gstOnPlatformFromState","gstTotalFromState","finalFromState","computedFromBase","finalPrice","numericBase","calculatePriceBreakdown","rateFor1Night","rateFor3Hour","roomBase","displayBase","displayBasePlus700","displayCombinedBasePlatform","displayGstBase","displayGstPlatform","displayGstTotal","displayFinal","extraFees","totalAmount","handlePayment","Math","round","createOrder","formik","useFormik","initialValues","userName","enableReinitialize","onSubmit","values","slice","sendOTP","textContainerRef","imageHeight","setImageHeight","clientHeight","grandTotal","BoxStyle","flexDirection","gap","Card","CardContent","gutterBottom","alignItems","CardMedia","component","objectFit","image","propertyImages","ref","textOverflow","WebkitLineClamp","WebkitBoxOrient","marginTop","flexWrap","typoStyle","roomCategory","handleSubmit","CustomTextField","label","margin","handleChange","onBlur","handleBlur","touched","Boolean","errors","PhoneInput","country","setFieldValue","setFieldTouched","inputStyle","paddingLeft","backgroundColor","buttonStyle","containerStyle","FormControlLabel","control","Checkbox","checked","cursor","textDecoration","CustomButton","disabled","LoginOtpModal","handleOtpSuccess","RenderRazorpay","calculateCheckoutTime","checkInDateTime","checkOutDateTime","add","duration","diff","forthColor","opacity","toFixed","Divider","whiteSpace"],"sourceRoot":""}