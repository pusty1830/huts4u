"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[825],{16825:(e,n,o)=>{o.r(n),o.d(n,{default:()=>j});var i=o(83560),r=o(7353),a=o(81045),l=o(94496),t=o(11906),s=o(65043),d=o(33580),h=o(13892),x=o(80899),c=o(31716),u=o(67809),m=o(70579);const p=x.Ik({name:x.Yj().required("Name is required"),phone:x.Yj().matches(/^[0-9]{10}$/,"Phone number must be exactly 10 digits").required("Phone number is required")}),b=e=>{let{initialValues:n,onSubmit:o,onCancel:i}=e;return(0,m.jsx)(h.l1,{initialValues:n,validationSchema:p,onSubmit:o,children:e=>{let{errors:n,touched:o,handleChange:a,setFieldValue:s,values:x}=e;return(0,m.jsx)(h.lV,{children:(0,m.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",gap:2,maxWidth:600,margin:"auto",padding:3,background:"#f6f6f6",boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.11) inset",borderRadius:2,minHeight:"fit-content",zIndex:2,position:"relative"},children:[(0,m.jsx)(l.A,{variant:"h5",fontWeight:"bold",mb:1,children:"Edit Profile"}),(0,m.jsx)(u.XY,{label:"Name",name:"name",value:x.name,onChange:a,error:o.name&&Boolean(n.name),helperText:o.name&&n.name,fullWidth:!0}),(0,m.jsx)(u.XY,{label:"Phone Number",name:"phone",value:x.phone,onChange:a,error:o.phone&&Boolean(n.phone),helperText:o.phone&&n.phone,fullWidth:!0}),(0,m.jsx)(u.XY,{label:"Email",name:"email",value:x.email,onChange:a,error:o.email&&Boolean(n.email),helperText:o.email&&n.email,fullWidth:!0}),(0,m.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",marginTop:2},children:[(0,m.jsx)(c.A,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,m.jsx)(t.A,{style:{color:d.A.firstColor,textTransform:"none"},variant:"outlined",color:"secondary",onClick:i,children:"Cancel"})]})]})})}})};var f=o(69995),g=o(57488);const j=()=>{const[e,n]=(0,s.useState)(!1),[o,h]=(0,s.useState)({}),[x,c]=(0,s.useState)({name:"",email:"",phone:""});(0,s.useEffect)((()=>{(0,f.E$)().then((e=>{var n;h(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)}))}),[]),(0,s.useEffect)((()=>{(o.userName||o.email||o.phoneNumber)&&c({name:o.userName||"",email:o.email||"",phone:o.phoneNumber||""})}),[o]);return(0,m.jsxs)(r.A,{sx:{margin:"auto",minHeight:"fit-content",p:4,background:"url('/assets/bg.jpg')",backgroundSize:"cover",backgroundPosition:"bottom",position:"relative"},children:[(0,m.jsx)(r.A,{sx:{height:"100%",width:"100%",top:0,left:0,position:"absolute",zIndex:1,backdropFilter:"blur(2px)"}}),e?(0,m.jsx)(b,{initialValues:x,onSubmit:e=>{c(e);const o={userName:e.name,email:e.email,phoneNumber:e.phone};console.log(e),console.log(o),(0,f.gw)(o).then((e=>{var n;console.log(e),(0,g.oR)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.msg)})).catch((e=>{console.error("Error updating profile:",e)})),n(!1)},onCancel:()=>n(!1)}):(0,m.jsx)("div",{style:{display:"flex",flexDirection:"column",maxWidth:600,margin:"auto",zIndex:2,position:"relative"},children:(0,m.jsx)(r.A,{children:(0,m.jsxs)("div",{style:{padding:"32px",display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"12px",position:"relative",overflow:"hidden",backdropFilter:"blur(10px)",background:"#f6f6f6"},children:[(0,m.jsxs)(r.A,{sx:{position:"absolute",top:0,left:0,boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.38)",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",py:2,height:"120px",zIndex:100,background:d.A.background,color:"white"},children:[(0,m.jsx)(a.A,{sx:{height:"64px",width:"64px"}}),(0,m.jsxs)(l.A,{variant:"h5",fontWeight:"bold",my:2,children:["Hi, ",o.userName]})]}),(0,m.jsxs)(r.A,{sx:{mt:"150px",width:"100%",borderRadius:"8px",color:d.A.firstColor},children:[(0,m.jsx)(l.A,{variant:"h5",fontWeight:"bold",children:"Your Basic Information"}),(0,m.jsx)(l.A,{fontSize:"12px",mt:.5,children:"Make sure this information matches your travel ID, like your passport or licence."}),(0,m.jsxs)(r.A,{sx:{marginTop:2,display:"flex",flexDirection:"column",gap:.5},children:[(0,m.jsxs)(l.A,{variant:"body1",sx:v,children:[(0,m.jsx)("strong",{children:"Name:"})," ",x.name," "]}),(0,m.jsxs)(l.A,{variant:"body1",sx:v,children:[(0,m.jsx)("strong",{children:"Phone No:"})," ",x.phone," "]}),(0,m.jsxs)(l.A,{variant:"body1",sx:v,children:[(0,m.jsx)("strong",{children:"Email:"})," ",x.email]})]}),(0,m.jsxs)(t.A,{variant:"contained",onClick:()=>{n(!0)},sx:{marginTop:4,background:"transparent",border:"solid 2px",color:d.A.firstColor,borderColor:d.A.firstColor,borderRadius:"44px",textTransform:"none",marginLeft:"auto",display:"flex",alignItems:"center"},children:[(0,m.jsx)(i.A,{sx:{mr:1}}),"Edit profile"]})]})]})})})]})},v={borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:d.A.firstColor,background:"white",p:2,mb:1}},83560:(e,n,o)=>{o.d(n,{A:()=>a});var i=o(59662),r=o(70579);const a=(0,i.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=825.4d4e0559.chunk.js.map