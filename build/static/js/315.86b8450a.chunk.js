"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[315],{79315:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(91082),s=r(59662),a=r(70579);const i=(0,s.A)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var n=r(7353),l=r(12110),d=r(94496),c=r(36591),p=r(26494),x=r(76641),u=r(92382),h=r(33580),g=r(67809),f=r(65043),m=r(69995),b=r(60446),v=r.n(b),A=r(73216);const y=()=>{const{isBelow400px:e}=(0,g.lm)(),[t,r]=(0,f.useState)([]),s={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,nextArrow:(0,a.jsx)(g.KU,{}),responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]};(0,f.useEffect)((()=>{(async()=>{try{var e,t;const s={data:{filter:"",status:"Approved"},page:0,pageSize:50,order:[["createdAt","ASC"]]},a=await(0,m.Vy)(s),i=((null===a||void 0===a||null===(e=a.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)||[]).map((e=>e.id));let n=[];for(const e of i){const t={id:e,secondTable:"Room"},r=await(0,m.YT)(t),s=(null===r||void 0===r?void 0:r.data)||null;var o;if(s)n.push(null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o[0])}const l=n.sort(((e,t)=>t.ratings.rating-e.ratings.rating)).slice(0,10);r(l)}catch(s){console.error("Error fetching hotels with rooms:",s)}})()}),[]);const b=(0,A.Zp)();return(0,a.jsx)(u.A,{...s,children:t.map((t=>{const{rate:r,label:s}=(e=>{var t;const r=null===e||void 0===e||null===(t=e.rooms)||void 0===t?void 0:t[0];if(!r)return{rate:0,label:""};const o=[{rate:Number(r.rateFor3Hour||0),label:"per 3 hour"},{rate:Number(r.rateFor6Hour||0),label:"per 6 hour"},{rate:Number(r.rateFor12Hour||0),label:"per 12 hour"},{rate:Number(r.rateFor1Night||0),label:"per night"}].filter((e=>e.rate>0));return o.length?o.reduce(((e,t)=>t.rate<e.rate?t:e)):{rate:0,label:""}})(t),{finalPrice:u,platformFee:g,gstTotal:f}=(e=>{const t=Number(e)||0;if(!t||t<=0)return{basePrice:0,platformFee:0,gstOnBase:0,gstOnPlatform:0,gstTotal:0,finalPrice:0};const r=.05*t,o=.13*(t+r),s=.18*o,a=r+s+.02*(t+o+(r+s));return{basePrice:t,platformFee:o,gstOnBase:r,gstOnPlatform:s,gstTotal:a,finalPrice:t+o+a}})(r);return(0,a.jsx)(n.A,{p:2,display:"flex",alignItems:"center",children:(0,a.jsxs)(l.A,{onClick:()=>(e=>{const t={bookingType:e.rooms[0].stayType.toLowerCase(),time:v()().format("HH:mm"),checkinDate:v()(),checkOutDate:v()(),rooms:1,adults:2,children:0},r=new URLSearchParams;Object.entries(t).forEach((e=>{let[t,o]=e;void 0!==o&&null!==o&&r.append(t,String(o))})),b(`/hotel/${e.id}?${r.toString()}`,{state:{hotelData:e}})})(t),sx:{width:e?"300px":"320px",boxShadow:"none",borderRadius:"12px",border:"solid 3px",borderColor:h.A.firstColor,position:"relative"},children:[(0,a.jsx)(d.A,{sx:{position:"absolute",top:0,right:0,px:1.5,background:h.A.background,color:"white",borderRadius:"0px 0px 0px 12px",fontSize:"14px",pb:.3},children:"Featured"}),(0,a.jsx)(c.A,{component:"img",height:"200",image:t.propertyImages[0],alt:t.propertyName}),(0,a.jsxs)(p.A,{children:[(0,a.jsxs)(n.A,{display:"flex",alignItems:"center",mb:1,children:[(0,a.jsx)(x.A,{value:t.ratings.rating,precision:.1,readOnly:!0}),(0,a.jsx)(d.A,{sx:{fontSize:"16px",color:h.A.secondColor,ml:1},children:t.ratings.rating})]}),(0,a.jsx)(d.A,{sx:{fontFamily:"CustomFontB",mb:.5},variant:"h6",children:t.propertyName}),(0,a.jsxs)(d.A,{variant:"h6",children:["\u20b9",u.toFixed(0)," ",(0,a.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold"},children:s})]}),(0,a.jsxs)(d.A,{sx:{fontSize:"12px",color:"#555",mt:.2},children:["Includes \u20b9",(g+f).toFixed(0)," fees & GST"]}),(0,a.jsxs)(n.A,{display:"flex",justifyContent:"space-between",sx:{background:h.A.background,mt:1.5,p:1,py:1.5,borderRadius:"12px"},children:[(0,a.jsxs)(d.A,{sx:{fontSize:"12px",color:"white",px:2,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(o.A,{style:{fontSize:"18px",paddingRight:"4px"}})," ",t.city]}),(0,a.jsxs)(d.A,{sx:{fontSize:"12px",color:"white",px:2,display:"flex",alignItems:"center"},children:[(0,a.jsx)(i,{style:{fontSize:"18px",paddingRight:"4px"}})," ",t.rooms[0].standardRoomOccupancy]})]})]})]})},t.id)}))})}}}]);
//# sourceMappingURL=315.86b8450a.chunk.js.map