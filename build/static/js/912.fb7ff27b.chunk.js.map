{"version":3,"file":"static/js/912.fb7ff27b.chunk.js","mappings":"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","sources":["pages/Hotel/BookingTable.tsx","../node_modules/@mui/icons-material/esm/StarRateRounded.js","pages/Hotel/Dashboard.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Chip,\r\n  FormControl,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport color from \"../../components/color\";\r\nimport { editHotel, getHotel, updateBookings } from \"../../services/services\";\r\n\r\ninterface Booking {\r\n  id: string;\r\n  avatar?: string;\r\n  geustName?: string;\r\n  phoneNumber?: string;\r\n  geustDetails?: any;\r\n  checkInDate?: string;\r\n  checkInTime?: string;\r\n  checkOutDate?: string;\r\n  checkOutTime?: string;\r\n  status?: string;\r\n  statusColor?: string;\r\n  // include any other fields your booking objects have\r\n}\r\n\r\ninterface BookingTableProps {\r\n  bookings?: Booking[];\r\n  hotelId?: string;\r\n  onCheckIn?: (bookingId: string) => void;\r\n  onCheckOut?: (bookingId: string) => void;\r\n}\r\n\r\nconst BookingTable = ({ bookings = [], hotelId, onCheckIn, onCheckOut }: BookingTableProps) => {\r\n  const [availability, setAvailability] = useState<string | null>(null);\r\n  const [loadingAvailability, setLoadingAvailability] = useState(false);\r\n\r\n  // local copy of bookings for optimistic updates\r\n  const [localBookings, setLocalBookings] = useState<Booking[]>(bookings);\r\n\r\n  // track loading booking ids (so we can disable only the clicked booking's buttons)\r\n  const [loadingIds, setLoadingIds] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    setLocalBookings(bookings);\r\n  }, [bookings]);\r\n\r\n  // Fetch hotel availability on mount / hotel change\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (!hotelId) {\r\n      setAvailability(null);\r\n      return;\r\n    }\r\n\r\n    setLoadingAvailability(true);\r\n    getHotel(hotelId)\r\n      .then((res) => {\r\n        if (!mounted) return;\r\n        const avail = res?.data?.data?.roomAvailable ?? \"Unavailable\";\r\n        setAvailability(avail);\r\n      })\r\n      .catch(() => {\r\n        if (!mounted) return;\r\n        setAvailability(\"Unavailable\");\r\n      })\r\n      .finally(() => {\r\n        if (!mounted) return;\r\n        setLoadingAvailability(false);\r\n      });\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [hotelId]);\r\n\r\n  const toggleAvailability = () => {\r\n    if (!hotelId || availability == null) return;\r\n\r\n    const prev = availability;\r\n    const newStatus = availability === \"Available\" ? \"Unavailable\" : \"Available\";\r\n    setAvailability(newStatus);\r\n\r\n    editHotel(hotelId, { roomAvailable: newStatus })\r\n      .then(() => {\r\n        console.log(\"Availability updated to\", newStatus);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error updating availability:\", err);\r\n        // Revert on error\r\n        setAvailability(prev);\r\n      });\r\n  };\r\n\r\n  // Button logic helpers (adjust statuses if your API uses different strings)\r\n  const canCheckIn = (booking: Booking) => {\r\n    const s = (booking.status || \"\").toLowerCase();\r\n    return s === \"pending\" || s === \"booked\";\r\n  };\r\n\r\n  const canCheckOut = (booking: Booking) => {\r\n    const s = (booking.status || \"\").toLowerCase();\r\n    // backend status value for checked in is \"checkedIn\" -> lowercased becomes \"checkedin\"\r\n    return s === \"checkedin\";\r\n  };\r\n\r\n  // helper to toggle id in loadingIds\r\n  const setLoadingForId = (id: string, loading: boolean) => {\r\n    setLoadingIds((prev) => {\r\n      if (loading) {\r\n        if (prev.includes(id)) return prev;\r\n        return [...prev, id];\r\n      } else {\r\n        return prev.filter((x) => x !== id);\r\n      }\r\n    });\r\n  };\r\n\r\n  // map status -> color for optimistic update\r\n  const statusColorFor = (status: string) => {\r\n    const s = status.toLowerCase();\r\n    if (s === \"checkedin\") return \"rgba(163,228,215,0.8)\";\r\n    if (s === \"checkedout\") return \"rgba(245,183,177,0.9)\";\r\n    return \"rgba(0,0,0,0.08)\";\r\n  };\r\n\r\n  // Update booking status (optimistic update + backend call + rollback on failure)\r\n  const updateBookingStatus = async (bookingId: string, newStatus: \"checkedIn\" | \"checkedOut\") => {\r\n    // snapshot for rollback\r\n    const prev = localBookings.map((b) => ({ ...b }));\r\n\r\n    setLoadingForId(bookingId, true);\r\n\r\n    // optimistic update (store camelCase status)\r\n    setLocalBookings((list) =>\r\n      list.map((b) =>\r\n        b.id === bookingId ? { ...b, status: newStatus, statusColor: statusColorFor(newStatus) } : b\r\n      )\r\n    );\r\n\r\n    try {\r\n      // === CALL BACKEND ===\r\n      // NOTE: I call updateBookings as (id, payload). If your service expects a different signature,\r\n      // replace the following line with the correct call.\r\n      await updateBookings(bookingId, { status: newStatus });\r\n\r\n      // notify parent so it can refresh canonical server data if needed\r\n      if (newStatus === \"checkedIn\") onCheckIn?.(bookingId);\r\n      else if (newStatus === \"checkedOut\") onCheckOut?.(bookingId);\r\n    } catch (err) {\r\n      // rollback on error\r\n      console.error(\"Failed to update booking status\", err);\r\n      setLocalBookings(prev);\r\n    } finally {\r\n      setLoadingForId(bookingId, false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        padding: 2,\r\n        background: color.thirdColor,\r\n        boxShadow: \"0px 0px 14px rgba(0, 0, 0, 0.14)\",\r\n        borderRadius: \"12px\",\r\n      }}\r\n    >\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n        <div>\r\n          <Typography variant=\"h6\" fontWeight=\"bold\">\r\n            New bookings\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"gray\">\r\n            {localBookings.length > 0 ? \"Recent guest reservations list\" : \"No bookings found\"}\r\n          </Typography>\r\n        </div>\r\n\r\n        <FormControl sx={{ width: \"fit-content\", color: color.firstColor }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color={availability === \"Available\" ? \"success\" : \"error\"}\r\n            onClick={toggleAvailability}\r\n            disabled={!hotelId || loadingAvailability}\r\n            sx={{ textTransform: \"none\" }}\r\n          >\r\n            {availability ?? (loadingAvailability ? \"Loading...\" : \"Unavailable\")}\r\n          </Button>\r\n        </FormControl>\r\n      </Box>\r\n\r\n      {localBookings.length > 0 ? (\r\n        // make only the table area scrollable by setting maxHeight on TableContainer + sticky header\r\n        <TableContainer component={Paper} sx={{ marginTop: 2, boxShadow: \"none\", maxHeight: 420 }}>\r\n          <Table aria-label=\"bookings table\" sx={{ background: color.thirdColor }} stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                {[\r\n                  \"Booking ID\",\r\n                  \"Guest name\",\r\n                  \"Phone Number\",\r\n                  \"Checked In Date\",\r\n                  \"Checked In Time\",\r\n                  \"Checked Out Date\",\r\n                  \"Checked Out Time\",\r\n                  \"Status\",\r\n                  \"Actions\",\r\n                ].map((header) => (\r\n                  <TableCell\r\n                    key={header}\r\n                    sx={{ fontWeight: \"bold\", color: \"gray\", fontSize: \"14px\", whiteSpace: \"nowrap\" }}\r\n                  >\r\n                    {header}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n\r\n            <TableBody>\r\n              {localBookings.map((booking) => {\r\n                const isLoading = loadingIds.includes(booking.id);\r\n                return (\r\n                  <TableRow key={booking.id} sx={{ border: \"none\" }}>\r\n                    <TableCell sx={{ verticalAlign: \"middle\" }}>{booking.id}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                        <Avatar src={booking.avatar} alt={booking.geustName ?? \"guest\"} />\r\n                        <Typography>{booking.geustName ?? \"Guest\"}</Typography>\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell>+{booking?.geustDetails?.phoneNumber ?? \"-\"}</TableCell>\r\n\r\n                    <TableCell>{booking.checkInDate ?? \"-\"}</TableCell>\r\n                    <TableCell>{booking.checkInTime ?? \"-\"}</TableCell>\r\n                    <TableCell>{booking.checkOutDate ?? \"-\"}</TableCell>\r\n                    <TableCell>{booking.checkOutTime ?? \"-\"}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={booking.status ?? \"unknown\"}\r\n                        sx={{\r\n                          backgroundColor: booking.statusColor ?? statusColorFor(booking.status ?? \"\"),\r\n                          color: \"#000\",\r\n                          fontWeight: \"bold\",\r\n                          textTransform: \"capitalize\",\r\n                        }}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {/* Actions cell */}\r\n                    <TableCell>\r\n                      <Box display=\"flex\" gap={1} alignItems=\"center\">\r\n                        <Button\r\n                          size=\"small\"\r\n                          variant=\"contained\"\r\n                          sx={{\r\n                            background: color.firstColor,\r\n                            textTransform: \"none\",\r\n                            borderRadius: \"20px\",\r\n                            \"&:disabled\": { opacity: 0.6 },\r\n                          }}\r\n                          disabled={!canCheckIn(booking) || isLoading}\r\n                          onClick={() => updateBookingStatus(booking.id, \"checkedIn\")}\r\n                        >\r\n                          {isLoading && canCheckIn(booking) ? \"Processing...\" : \"Check-In\"}\r\n                        </Button>\r\n\r\n                        <Button\r\n                          size=\"small\"\r\n                          variant=\"outlined\"\r\n                          sx={{\r\n                            color: color.firstColor,\r\n                            borderColor: color.firstColor,\r\n                            textTransform: \"none\",\r\n                            borderRadius: \"20px\",\r\n                            \"&:disabled\": { opacity: 0.5 },\r\n                          }}\r\n                          disabled={!canCheckOut(booking) || isLoading}\r\n                          onClick={() => updateBookingStatus(booking.id, \"checkedOut\")}\r\n                        >\r\n                          {isLoading && canCheckOut(booking) ? \"Processing...\" : \"Check-Out\"}\r\n                        </Button>\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      ) : (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\" sx={{ background: color.thirdColor }}>\r\n          <Typography variant=\"body1\" color=\"textSecondary\">\r\n            No bookings available for this hotel\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BookingTable;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.43 10-1.47-4.84c-.29-.95-1.63-.95-1.91 0L9.57 10H5.12c-.97 0-1.37 1.25-.58 1.81l3.64 2.6-1.43 4.61c-.29.93.79 1.68 1.56 1.09l3.69-2.8 3.69 2.81c.77.59 1.85-.16 1.56-1.09l-1.43-4.61 3.64-2.6c.79-.57.39-1.81-.58-1.81h-4.45z\"\n}), 'StarRateRounded');","// Dashboard.tsx\r\nimport {\r\n  CalendarMonth,\r\n  CurrencyRupeeRounded,\r\n  StarRateRounded,\r\n  TrendingDown,\r\n  TrendingUp,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n  Button,\r\n  Avatar,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport {\r\n  CartesianGrid,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from \"recharts\";\r\nimport color from \"../../components/color\";\r\nimport BookingTable from \"./BookingTable\";\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  getAllHotels,\r\n  getAllMyBookings,\r\n  getAllRatings,\r\n  getAllHotelRevenue,\r\n} from \"../../services/services\";\r\nimport { getUserId } from \"../../services/axiosClient\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst CARD_HEIGHT = 140;\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // chart placeholder\r\n  const [chartData, setChartData] = useState<any[]>([\r\n    { name: \"Dec 27\", revenue: 100000 },\r\n    { name: \"Jan 28\", revenue: 250000 },\r\n    { name: \"Feb 28\", revenue: 215060 },\r\n  ]);\r\n\r\n  // state\r\n  const [hotels, setHotels] = useState<Array<{ id: string; name: string }>>([]);\r\n  const [hotelBookings, setHotelBookings] = useState<Record<string, any[]>>({});\r\n  const [selectedHotelId, setSelectedHotelId] = useState<string>(\"\");\r\n  const [newBookingsCount, setNewBookingsCount] = useState<number>(0);\r\n\r\n  // ratings\r\n  const [ratingHotelId, setRatingHotelId] = useState<string>(\"\");\r\n  const [ratingsMap, setRatingsMap] = useState<Record<string, { avg: number; count: number }>>(\r\n    {}\r\n  );\r\n  const [ratingsListMap, setRatingsListMap] = useState<Record<string, any[]>>({});\r\n\r\n  // revenue\r\n  const [revenueMap, setRevenueMap] = useState<Record<string, { total: number }>>({});\r\n\r\n  // fetch hotels + bookings + metrics\r\n  useEffect(() => {\r\n    const fetchHotels = async () => {\r\n      const payLoad = {\r\n        data: { filter: \"\", userId: getUserId() },\r\n        page: 0,\r\n        pageSize: 50,\r\n        order: [[\"createdAt\", \"ASC\"]],\r\n      };\r\n\r\n      try {\r\n        const res = await getAllHotels(payLoad);\r\n        if (res?.data?.data?.rows) {\r\n          const hotelData = res.data.data.rows.map((hotel: any) => ({\r\n            id: hotel.id,\r\n            name: hotel.propertyName ?? hotel.name ?? `Hotel ${hotel.id}`,\r\n          }));\r\n          setHotels(hotelData);\r\n          if (hotelData.length > 0) {\r\n            setSelectedHotelId((prev) => prev || hotelData[0].id);\r\n            setRatingHotelId((prev) => prev || hotelData[0].id);\r\n          }\r\n          return hotelData.map((hotel: any) => hotel.id);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching hotels:\", error);\r\n      }\r\n      return [];\r\n    };\r\n\r\n    const fetchBookingsForHotels = async (ids: string[]) => {\r\n      if (ids.length === 0) return;\r\n      const bookingsMap: Record<string, any[]> = {};\r\n      await Promise.all(\r\n        ids.map(async (hotelId) => {\r\n          try {\r\n            const payLoad = {\r\n              data: { filter: \"\", hotelId },\r\n              page: 0,\r\n              pageSize: 50,\r\n              order: [[\"checkInDate\", \"ASC\"]],\r\n            };\r\n            const bookingsRes = await getAllMyBookings(payLoad);\r\n            bookingsMap[hotelId] = bookingsRes?.data?.data?.rows || [];\r\n          } catch (error) {\r\n            console.error(`Error fetching bookings for hotel ${hotelId}:`, error);\r\n            bookingsMap[hotelId] = [];\r\n          }\r\n        })\r\n      );\r\n      setHotelBookings(bookingsMap);\r\n    };\r\n\r\n    fetchHotels().then(async (ids) => {\r\n      await fetchBookingsForHotels(ids ?? []);\r\n      await fetchNewBookingsCount();\r\n      if (ids && ids.length > 0) {\r\n        await Promise.all(\r\n          ids.map((id: any) =>\r\n            Promise.all([fetchRatingsForHotel(id), fetchRevenueForHotel(id)])\r\n          )\r\n        );\r\n      }\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!selectedHotelId) return;\r\n    void fetchRevenueForHotel(selectedHotelId);\r\n    if (!ratingsMap[selectedHotelId]) void fetchRatingsForHotel(selectedHotelId);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedHotelId]);\r\n\r\n  const fetchNewBookingsCount = async () => {\r\n    try {\r\n      const payload = {\r\n        data: { filter: \"\", userId: getUserId() },\r\n        page: 0,\r\n        pageSize: 100,\r\n        order: [[\"createdAt\", \"DESC\"]],\r\n      };\r\n      const res = await getAllMyBookings(payload);\r\n      const total =\r\n        res?.data?.data?.count ??\r\n        res?.data?.data?.total ??\r\n        (Array.isArray(res?.data?.data?.rows) ? res.data.data.rows.length : 0);\r\n      setNewBookingsCount(total ?? 0);\r\n    } catch (err) {\r\n      console.error(\"Error fetching new bookings count:\", err);\r\n      setNewBookingsCount(0);\r\n    }\r\n  };\r\n\r\n  const fetchRatingsForHotel = async (hotelId: string) => {\r\n    if (!hotelId) return;\r\n    try {\r\n      const payload = {\r\n        data: { filter: \"\", hotelId },\r\n        page: 0,\r\n        pageSize: 1000,\r\n        order: [[\"createdAt\", \"DESC\"]],\r\n      };\r\n      const res = await getAllRatings(payload);\r\n      const rows = res?.data?.data?.rows || [];\r\n      const count = rows.length;\r\n      let avg = 0;\r\n      if (count > 0) {\r\n        const sum = rows.reduce((s: number, r: any) => {\r\n          const val = Number(r.rating ?? r.score ?? 0);\r\n          return s + (isNaN(val) ? 0 : val);\r\n        }, 0);\r\n        avg = +(sum / count).toFixed(2);\r\n      }\r\n      setRatingsMap((m) => ({ ...m, [hotelId]: { avg, count } }));\r\n      setRatingsListMap((m) => ({ ...m, [hotelId]: rows }));\r\n    } catch (err) {\r\n      console.error(`Error fetching ratings for hotel ${hotelId}:`, err);\r\n      setRatingsMap((m) => ({ ...m, [hotelId]: { avg: 0, count: 0 } }));\r\n      setRatingsListMap((m) => ({ ...m, [hotelId]: [] }));\r\n    }\r\n  };\r\n\r\n  const fetchRevenueForHotel = async (hotelId: string) => {\r\n    if (!hotelId) return;\r\n    try {\r\n      const payload = {\r\n        data: { filter: \"\", hotelId },\r\n        page: 0,\r\n        pageSize: 1000,\r\n        order: [[\"createdAt\", \"ASC\"]],\r\n      };\r\n      const res = await getAllHotelRevenue(payload);\r\n      const rows = res?.data?.data?.rows ?? [];\r\n      let total = 0;\r\n      const chart: any[] = [];\r\n      if (Array.isArray(rows) && rows.length > 0) {\r\n        rows.forEach((r: any, idx: number) => {\r\n          const paise = Number(r.netAmountPaise || 0);\r\n          const revenue = paise / 100;\r\n          total += revenue;\r\n          const name = r.createdAt ? dayjs(r.createdAt).format(\"DD MMM\") : `Rec ${idx + 1}`;\r\n          chart.push({ name, revenue });\r\n        });\r\n      }\r\n      setRevenueMap((m) => ({ ...m, [hotelId]: { total } }));\r\n      if (chart.length) setChartData(chart);\r\n    } catch (err) {\r\n      console.error(`Error fetching revenue for hotel ${hotelId}:`, err);\r\n    }\r\n  };\r\n\r\n  // simple formatter for INR\r\n  const formatINR = (val: number) =>\r\n    val.toLocaleString(\"en-IN\", { maximumFractionDigits: 0 });\r\n\r\n  // NAV handlers: always navigate to dedicated pages\r\n  const goToBookings = () => {\r\n    if (!selectedHotelId) return;\r\n    navigate(`/booking`);\r\n  };\r\n  const goToReviews = () => {\r\n    const id = ratingHotelId || selectedHotelId;\r\n    if (!id) return;\r\n    navigate(`/review`);\r\n  };\r\n  const goToPayments = () => {\r\n    if (!selectedHotelId) return;\r\n    navigate(`/hotel-payment`);\r\n  };\r\n\r\n  // handlers for select changes\r\n  const handleHotelChange = (event: any) => setSelectedHotelId(event.target.value);\r\n  const handleRatingHotelChange = (event: any) => {\r\n    const id = event.target.value;\r\n    setRatingHotelId(id);\r\n    void fetchRatingsForHotel(id);\r\n  };\r\n\r\n  // clickable metric card props\r\n  const metrics = [\r\n    {\r\n      key: \"newBookings\",\r\n      title: \"New Bookings\",\r\n      value: newBookingsCount,\r\n      icon: <CalendarMonth />,\r\n      change: \"8.70%\",\r\n      onClick: goToBookings,\r\n      hoverText: \"Go to Bookings\",\r\n    },\r\n    {\r\n      key: \"guestRatings\",\r\n      title: \"Guest ratings\",\r\n      value: ratingsMap[ratingHotelId] ? `${ratingsMap[ratingHotelId].avg}/5` : \"—/5\",\r\n      icon: <StarRateRounded />,\r\n      change: \"-3.56%\",\r\n      onClick: goToReviews,\r\n      hoverText: \"Go to Reviews\",\r\n    },\r\n    {\r\n      key: \"revenue\",\r\n      title: \"Total Revenue\",\r\n      value: revenueMap[selectedHotelId] ? `₹${formatINR(revenueMap[selectedHotelId].total)}` : \"₹0\",\r\n      icon: <CurrencyRupeeRounded />,\r\n      change: \"5.70%\",\r\n      onClick: goToPayments,\r\n      hoverText: \"Go to Payments\",\r\n    },\r\n  ];\r\n\r\n  // optimistic check-in/out handlers for passing to BookingTable\r\n  const handleCheckIn = async (bookingId: string) => {\r\n    if (!selectedHotelId) return;\r\n    const prev = hotelBookings[selectedHotelId] ?? [];\r\n    setHotelBookings((pb) => {\r\n      const next = { ...pb };\r\n      next[selectedHotelId] = (next[selectedHotelId] || []).map((b: any) =>\r\n        b.id === bookingId ? { ...b, status: \"checkedin\" } : b\r\n      );\r\n      return next;\r\n    });\r\n    try {\r\n      // call API if desired\r\n    } catch (err) {\r\n      setHotelBookings((pb) => ({ ...pb, [selectedHotelId]: prev }));\r\n    }\r\n  };\r\n\r\n  const handleCheckOut = async (bookingId: string) => {\r\n    if (!selectedHotelId) return;\r\n    const prev = hotelBookings[selectedHotelId] ?? [];\r\n    setHotelBookings((pb) => {\r\n      const next = { ...pb };\r\n      next[selectedHotelId] = (next[selectedHotelId] || []).map((b: any) =>\r\n        b.id === bookingId ? { ...b, status: \"checkedout\" } : b\r\n      );\r\n      return next;\r\n    });\r\n    try {\r\n      // call API if desired\r\n    } catch (err) {\r\n      setHotelBookings((pb) => ({ ...pb, [selectedHotelId]: prev }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box p={3} sx={{ background: color.thirdColor }}>\r\n      <Grid container spacing={3}>\r\n        {/* Header + Hotel select */}\r\n        <Grid item xs={12}>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n            <Typography variant=\"h5\" sx={{ color: color.firstColor }}>Hotel Dashboard</Typography>\r\n            <Box display=\"flex\" gap={2} alignItems=\"center\">\r\n              <FormControl sx={{ minWidth: 300 }}>\r\n                <Select value={selectedHotelId ?? \"\"} onChange={handleHotelChange} displayEmpty>\r\n                  {hotels.map((h) => <MenuItem key={h.id} value={h.id}>{h.name}</MenuItem>)}\r\n                </Select>\r\n              </FormControl>\r\n              <Button variant=\"outlined\" onClick={() => { if (selectedHotelId) { void fetchRevenueForHotel(selectedHotelId); void fetchRatingsForHotel(selectedHotelId); } }}>Refresh</Button>\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n\r\n        {/* Metrics */}\r\n        <Grid item xs={12}>\r\n          <Grid container spacing={2.5}>\r\n            {metrics.map((item) => (\r\n              <Grid key={item.key} item xs={12} sm={6} md={4}>\r\n                <Card\r\n                  onClick={item.onClick}\r\n                  sx={{\r\n                    background: color.thirdColor,\r\n                    boxShadow: \"0px 0px 14px rgba(0, 0, 0, 0.14)\",\r\n                    borderRadius: \"12px\",\r\n                    minHeight: CARD_HEIGHT,\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    cursor: \"pointer\",\r\n                    transition: \"transform 0.15s ease\",\r\n                    \"&:hover\": { transform: \"translateY(-4px)\" },\r\n                  }}\r\n                >\r\n                  <CardContent sx={{ width: \"100%\" }}>\r\n                    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                      <Typography color=\"#7c7c7c\" fontSize={\"14px\"}>{item.title}</Typography>\r\n                      <IconButton sx={{ background: color.firstColor, color: \"white\", borderRadius: \"8px\" }} size=\"small\">{item.key === \"revenue\" ? <CurrencyRupeeRounded /> : item.key === \"guestRatings\" ? <StarRateRounded /> : <CalendarMonth />}</IconButton>\r\n                    </Box>\r\n\r\n                    <Box display=\"flex\" gap={2} alignItems=\"center\" mt={1}>\r\n                      {item.key === \"guestRatings\" ? (\r\n                        <FormControl size=\"small\" sx={{ minWidth: 160 }}>\r\n                          <Select size=\"small\" value={ratingHotelId} onChange={handleRatingHotelChange} onClick={(e) => e.stopPropagation()}>\r\n                            {hotels.map(h => <MenuItem key={h.id} value={h.id}>{h.name}</MenuItem>)}\r\n                          </Select>\r\n                        </FormControl>\r\n                      ) : null}\r\n\r\n                      <Typography variant=\"h5\" fontWeight={600}>{item.value}</Typography>\r\n                    </Box>\r\n\r\n                    <Typography mt={2} display=\"flex\" alignItems=\"center\" gap={1} sx={{ color: item.change.includes(\"-\") ? \"red\" : \"green\", width: \"fit-content\", px: 2, borderRadius: \"4px\", border: \"solid 1px\", fontSize: \"14px\" }}>\r\n                      {item.change.includes(\"-\") ? <TrendingDown /> : <TrendingUp />} {item.change} from last week\r\n                    </Typography>\r\n\r\n                    <Typography mt={1} color=\"#7c7c7c\" fontSize=\"12px\"><em>{item.hoverText}</em></Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Booking table */}\r\n        <Grid item xs={12}>\r\n          <Card sx={{ background: color.thirdColor, borderRadius: 2 }}>\r\n            <CardContent>\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n                <Typography fontWeight=\"bold\" variant=\"h6\">Upcoming Bookings</Typography>\r\n                <Typography color=\"textSecondary\">{hotels.find(h => h.id === selectedHotelId)?.name ?? \"—\"}</Typography>\r\n              </Box>\r\n              {selectedHotelId && (\r\n                <BookingTable\r\n                  bookings={hotelBookings[selectedHotelId] || []}\r\n                  hotelId={selectedHotelId}\r\n                  onCheckIn={handleCheckIn}\r\n                  onCheckOut={handleCheckOut}\r\n                />\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Charts */}\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ background: color.firstColor, color: \"white\", borderRadius: 2, padding: 2, height: 300 }}>\r\n            <CardContent sx={{ p: 0, height: \"100%\" }}>\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n                <Typography fontWeight=\"bold\" variant=\"h6\">Booking Overview</Typography>\r\n                <FormControl sx={{ width: \"fit-content\", color: \"white\" }}>\r\n                  <Select size=\"small\" value=\"Last 6 Months\">\r\n                    <MenuItem value=\"Last 6 Months\">Last 6 Months</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n              <Box sx={{ height: \"220px\" }}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <LineChart data={chartData}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"white\" />\r\n                    <XAxis dataKey=\"name\" stroke=\"white\" style={{ fontSize: 10 }} />\r\n                    <YAxis stroke=\"white\" style={{ fontSize: 10 }} />\r\n                    <Tooltip contentStyle={{ backgroundColor: color.firstColor, border: \"solid 1.5px white\", borderRadius: 4, color: \"white\" }} />\r\n                    <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"white\" strokeWidth={3} dot={{ r: 6 }} />\r\n                  </LineChart>\r\n                </ResponsiveContainer>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n          <Card sx={{ background: color.firstColor, color: \"white\", borderRadius: 2, padding: 2, height: 300 }}>\r\n            <CardContent sx={{ p: 0, height: \"100%\" }}>\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n                <Typography fontWeight=\"bold\" variant=\"h6\">Revenue</Typography>\r\n                <FormControl sx={{ width: \"fit-content\", color: \"white\" }}>\r\n                  <Select size=\"small\" value=\"Last 6 Months\">\r\n                    <MenuItem value=\"Last 6 Months\">Last 6 Months</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n              <Box sx={{ height: \"220px\" }}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <LineChart data={chartData}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"white\" />\r\n                    <XAxis dataKey=\"name\" stroke=\"white\" style={{ fontSize: 10 }} />\r\n                    <YAxis stroke=\"white\" style={{ fontSize: 10 }} />\r\n                    <Tooltip contentStyle={{ backgroundColor: color.firstColor, border: \"solid 1.5px white\", borderRadius: 4, color: \"white\" }} />\r\n                    <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"white\" strokeWidth={3} dot={{ r: 6 }} />\r\n                  </LineChart>\r\n                </ResponsiveContainer>\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Reviews section */}\r\n        <Grid item xs={12}>\r\n          <Card sx={{ borderRadius: 2 }}>\r\n            <CardContent>\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={1}>\r\n                <Typography fontWeight=\"bold\" variant=\"h6\">Guest Reviews</Typography>\r\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                  <Typography color=\"textSecondary\">{hotels.find(h => h.id === selectedHotelId)?.name ?? \"—\"}</Typography>\r\n                  <Typography color=\"textSecondary\">{ratingsMap[selectedHotelId] ? `${ratingsMap[selectedHotelId].count} reviews • ${ratingsMap[selectedHotelId].avg}/5` : \"No reviews\"}</Typography>\r\n                </Box>\r\n              </Box>\r\n\r\n              <Divider sx={{ mb: 2 }} />\r\n\r\n              {(!ratingsListMap[selectedHotelId] || ratingsListMap[selectedHotelId].length === 0) ? (\r\n                <Typography color=\"textSecondary\">No reviews for this hotel.</Typography>\r\n              ) : (\r\n                <Box display=\"flex\" flexDirection=\"column\" gap={2}>\r\n                  {ratingsListMap[selectedHotelId].map((r: any) => (\r\n                    <Box key={r.id} sx={{ p: 2, borderRadius: 1, background: color.thirdColor }}>\r\n                      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                        <Box display=\"flex\" gap={2} alignItems=\"center\">\r\n                          <Avatar src={r.userAvatar || undefined} />\r\n                          <Box>\r\n                            <Typography fontWeight={700}>{r.userName ?? r.userId ?? \"Guest\"}</Typography>\r\n                            <Typography fontSize={12} color=\"textSecondary\">{r.comment ? (r.comment.length > 120 ? r.comment.substring(0, 120) + \"...\" : r.comment) : \"No comment\"}</Typography>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box textAlign=\"right\">\r\n                          <Typography fontWeight={700}>{Number(r.rating ?? 0).toFixed(1)} / 5</Typography>\r\n                          <Typography fontSize={12} color=\"textSecondary\">{r.createdAt ? dayjs(r.createdAt).format(\"DD MMM YYYY, hh:mm A\") : \"-\"}</Typography>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":["_ref","bookings","hotelId","onCheckIn","onCheckOut","availability","setAvailability","useState","loadingAvailability","setLoadingAvailability","localBookings","setLocalBookings","loadingIds","setLoadingIds","useEffect","mounted","getHotel","then","res","_res$data$data$roomAv","_res$data","_res$data$data","avail","data","roomAvailable","catch","finally","canCheckIn","booking","s","status","toLowerCase","canCheckOut","setLoadingForId","id","loading","prev","includes","filter","x","statusColorFor","updateBookingStatus","async","bookingId","newStatus","map","b","list","statusColor","updateBookings","err","console","error","_jsxs","Box","sx","padding","background","color","thirdColor","boxShadow","borderRadius","children","display","justifyContent","alignItems","mb","_jsx","Typography","variant","fontWeight","length","FormControl","width","firstColor","Button","onClick","toggleAvailability","editHotel","log","disabled","textTransform","TableContainer","component","Paper","marginTop","maxHeight","Table","stickyHeader","TableHead","TableRow","header","TableCell","fontSize","whiteSpace","TableBody","_booking$geustName","_booking$geustName2","_booking$geustDetails","_booking$geustDetails2","_booking$checkInDate","_booking$checkInTime","_booking$checkOutDate","_booking$checkOutTime","_booking$status","_booking$statusColor","_booking$status2","isLoading","border","verticalAlign","gap","Avatar","src","avatar","alt","geustName","geustDetails","phoneNumber","checkInDate","checkInTime","checkOutDate","checkOutTime","Chip","label","backgroundColor","size","opacity","borderColor","minHeight","createSvgIcon","d","Dashboard","_hotels$find$name","_hotels$find","_hotels$find$name2","_hotels$find2","navigate","useNavigate","chartData","setChartData","name","revenue","hotels","setHotels","hotelBookings","setHotelBookings","selectedHotelId","setSelectedHotelId","newBookingsCount","setNewBookingsCount","ratingHotelId","setRatingHotelId","ratingsMap","setRatingsMap","ratingsListMap","setRatingsListMap","revenueMap","setRevenueMap","payLoad","userId","getUserId","page","pageSize","order","getAllHotels","rows","hotelData","hotel","_hotel$propertyName","propertyName","fetchHotels","ids","bookingsMap","Promise","all","_bookingsRes$data","_bookingsRes$data$dat","bookingsRes","getAllMyBookings","fetchBookingsForHotels","fetchNewBookingsCount","fetchRatingsForHotel","fetchRevenueForHotel","_ref2","_res$data$data$count","_res$data2","_res$data2$data","_res$data3","_res$data3$data","_res$data4","_res$data4$data","payload","total","count","Array","isArray","_res$data5","_res$data5$data","getAllRatings","avg","sum","reduce","r","_ref3","_r$rating","val","Number","rating","score","isNaN","toFixed","m","_res$data$data$rows","_res$data6","_res$data6$data","getAllHotelRevenue","chart","forEach","idx","netAmountPaise","createdAt","dayjs","format","push","handleRatingHotelChange","event","target","value","metrics","key","title","icon","CalendarMonth","change","goToBookings","hoverText","StarRateRounded","goToReviews","toLocaleString","maximumFractionDigits","CurrencyRupeeRounded","goToPayments","p","Grid","container","spacing","item","xs","minWidth","Select","onChange","displayEmpty","h","MenuItem","sm","md","Card","cursor","transition","transform","CardContent","IconButton","mt","e","stopPropagation","px","TrendingDown","TrendingUp","find","BookingTable","_hotelBookings$select","pb","next","_hotelBookings$select2","height","ResponsiveContainer","LineChart","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","style","YAxis","Tooltip","contentStyle","Line","type","strokeWidth","dot","Divider","flexDirection","_ref4","_r$userName","_r$rating2","userAvatar","undefined","userName","comment","substring","textAlign"],"sourceRoot":""}