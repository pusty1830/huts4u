"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[324],{8881:(e,i,o)=>{o.d(i,{A:()=>b});var n=o(65043),t=o(7353),s=o(94496),l=o(53193),r=o(11906),a=o(79650),d=o(61596),c=o(71806),x=o(84882),u=o(28076),m=o(10039),h=o(73460),p=o(81045),A=o(43845),g=o(33580),f=o(69995),v=o(70579);const b=e=>{let{bookings:i=[],hotelId:o,onCheckIn:b,onCheckOut:j}=e;const[C,S]=(0,n.useState)(null),[y,k]=(0,n.useState)(!1),[z,w]=(0,n.useState)(i),[R,I]=(0,n.useState)([]);(0,n.useEffect)((()=>{w(i)}),[i]),(0,n.useEffect)((()=>{let e=!0;if(o)return k(!0),(0,f.hb)(o).then((i=>{var o,n,t;if(!e)return;const s=null!==(o=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.roomAvailable)&&void 0!==o?o:"Unavailable";S(s)})).catch((()=>{e&&S("Unavailable")})).finally((()=>{e&&k(!1)})),()=>{e=!1};S(null)}),[o]);const D=e=>{const i=(e.status||"").toLowerCase();return"pending"===i||"booked"===i},B=e=>"checkedin"===(e.status||"").toLowerCase(),T=(e,i)=>{I((o=>i?o.includes(e)?o:[...o,e]:o.filter((i=>i!==e))))},F=e=>{const i=e.toLowerCase();return"checkedin"===i?"rgba(163,228,215,0.8)":"checkedout"===i?"rgba(245,183,177,0.9)":"rgba(0,0,0,0.08)"},W=async(e,i)=>{const o=z.map((e=>({...e})));T(e,!0),w((o=>o.map((o=>o.id===e?{...o,status:i,statusColor:F(i)}:o))));try{await(0,f.ik)(e,{status:i}),"checkedIn"===i?null===b||void 0===b||b(e):"checkedOut"===i&&(null===j||void 0===j||j(e))}catch(n){console.error("Failed to update booking status",n),w(o)}finally{T(e,!1)}};return(0,v.jsxs)(t.A,{sx:{padding:2,background:g.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px"},children:[(0,v.jsxs)(t.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(s.A,{variant:"h6",fontWeight:"bold",children:"New bookings"}),(0,v.jsx)(s.A,{variant:"body2",color:"gray",children:z.length>0?"Recent guest reservations list":"No bookings found"})]}),(0,v.jsx)(l.A,{sx:{width:"fit-content",color:g.A.firstColor},children:(0,v.jsx)(r.A,{variant:"contained",color:"Available"===C?"success":"error",onClick:()=>{if(!o||null==C)return;const e=C,i="Available"===C?"Unavailable":"Available";S(i),(0,f.hI)(o,{roomAvailable:i}).then((()=>{console.log("Availability updated to",i)})).catch((i=>{console.error("Error updating availability:",i),S(e)}))},disabled:!o||y,sx:{textTransform:"none"},children:null!==C&&void 0!==C?C:y?"Loading...":"Unavailable"})})]}),z.length>0?(0,v.jsx)(a.A,{component:d.A,sx:{marginTop:2,boxShadow:"none",maxHeight:420},children:(0,v.jsxs)(c.A,{"aria-label":"bookings table",sx:{background:g.A.thirdColor},stickyHeader:!0,children:[(0,v.jsx)(x.A,{children:(0,v.jsx)(u.A,{children:["Booking ID","Guest name","Phone Number","Checked In Date","Checked In Time","Checked Out Date","Checked Out Time","Status","Actions"].map((e=>(0,v.jsx)(m.A,{sx:{fontWeight:"bold",color:"gray",fontSize:"14px",whiteSpace:"nowrap"},children:e},e)))})}),(0,v.jsx)(h.A,{children:z.map((e=>{var i,o,n,l,a,d,c,x,h,f,b;const j=R.includes(e.id);return(0,v.jsxs)(u.A,{sx:{border:"none"},children:[(0,v.jsx)(m.A,{sx:{verticalAlign:"middle"},children:e.id}),(0,v.jsx)(m.A,{children:(0,v.jsxs)(t.A,{display:"flex",alignItems:"center",gap:1,children:[(0,v.jsx)(p.A,{src:e.avatar,alt:null!==(i=e.geustName)&&void 0!==i?i:"guest"}),(0,v.jsx)(s.A,{children:null!==(o=e.geustName)&&void 0!==o?o:"Guest"})]})}),(0,v.jsxs)(m.A,{children:["+",null!==(n=null===e||void 0===e||null===(l=e.geustDetails)||void 0===l?void 0:l.phoneNumber)&&void 0!==n?n:"-"]}),(0,v.jsx)(m.A,{children:null!==(a=e.checkInDate)&&void 0!==a?a:"-"}),(0,v.jsx)(m.A,{children:null!==(d=e.checkInTime)&&void 0!==d?d:"-"}),(0,v.jsx)(m.A,{children:null!==(c=e.checkOutDate)&&void 0!==c?c:"-"}),(0,v.jsx)(m.A,{children:null!==(x=e.checkOutTime)&&void 0!==x?x:"-"}),(0,v.jsx)(m.A,{children:(0,v.jsx)(A.A,{label:null!==(h=e.status)&&void 0!==h?h:"unknown",sx:{backgroundColor:null!==(f=e.statusColor)&&void 0!==f?f:F(null!==(b=e.status)&&void 0!==b?b:""),color:"#000",fontWeight:"bold",textTransform:"capitalize"}})}),(0,v.jsx)(m.A,{children:(0,v.jsxs)(t.A,{display:"flex",gap:1,alignItems:"center",children:[(0,v.jsx)(r.A,{size:"small",variant:"contained",sx:{background:g.A.firstColor,textTransform:"none",borderRadius:"20px","&:disabled":{opacity:.6}},disabled:!D(e)||j,onClick:()=>W(e.id,"checkedIn"),children:j&&D(e)?"Processing...":"Check-In"}),(0,v.jsx)(r.A,{size:"small",variant:"outlined",sx:{color:g.A.firstColor,borderColor:g.A.firstColor,textTransform:"none",borderRadius:"20px","&:disabled":{opacity:.5}},disabled:!B(e)||j,onClick:()=>W(e.id,"checkedOut"),children:j&&B(e)?"Processing...":"Check-Out"})]})})]},e.id)}))})]})}):(0,v.jsx)(t.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",sx:{background:g.A.thirdColor},children:(0,v.jsx)(s.A,{variant:"body1",color:"textSecondary",children:"No bookings available for this hotel"})})]})}},43641:(e,i,o)=>{o.d(i,{E_:()=>R,H:()=>D,SZ:()=>I});var n=o(1706),t=o(20228),s=o(91783),l=o(23783),r=o(36715),a=o(24233),d=o(80286),c=o(2739),x=o(97187),u=o(8537),m=o(55968),h=o(10116),p=o(37460),A=o(4353),g=o(66717),f=o(78174),v=o(82372),b=o(43998),j=o(29206),C=o(63824),S=o(64340),y=o(5192),k=o(30270),z=o(95645),w=o(70579);const R={"Swimming Pool":(0,w.jsx)(j.A,{fontSize:"small"}),Gym:(0,w.jsx)(x.A,{fontSize:"small"}),"Free WiFi":(0,w.jsx)(z.A,{fontSize:"small"}),"Private Beach":(0,w.jsx)(s.A,{fontSize:"small"}),Breakfast:(0,w.jsx)(u.A,{fontSize:"small"}),Parking:(0,w.jsx)(g.A,{fontSize:"small"}),Spa:(0,w.jsx)(S.A,{fontSize:"small"}),Restaurant:(0,w.jsx)(p.A,{fontSize:"small"}),"Airport Shuttle":(0,w.jsx)(t.A,{fontSize:"small"}),"Business Center":(0,w.jsx)(l.A,{fontSize:"small"}),"Pet Friendly":(0,w.jsx)(b.A,{fontSize:"small"}),Bar:(0,w.jsx)(h.A,{fontSize:"small"}),"Room Service":(0,w.jsx)(C.A,{fontSize:"small"}),TV:(0,w.jsx)(k.A,{fontSize:"small"}),"Air Conditioning":(0,w.jsx)(n.A,{fontSize:"small"}),"Laundry Service":(0,w.jsx)(A.A,{fontSize:"small"}),"Child Care":(0,w.jsx)(a.A,{fontSize:"small"}),"King Bed":(0,w.jsx)(m.A,{fontSize:"small"}),Casino:(0,w.jsx)(r.A,{fontSize:"small"}),"Car Rental":(0,w.jsx)(d.A,{fontSize:"small"}),"Night Club":(0,w.jsx)(f.A,{fontSize:"small"}),"Tennis Court":(0,w.jsx)(y.A,{fontSize:"small"}),"BBQ Facilities":(0,w.jsx)(v.A,{fontSize:"small"}),"Fire Safety":(0,w.jsx)(c.A,{fontSize:"small"})},I=["Swimming Pool","Gym","Free WiFi","Private Beach","Breakfast","Parking","Spa","Restaurant","Airport Shuttle","Business Center","Pet Friendly","Bar","Room Service","TV","Air Conditioning","Laundry Service","Child Care","King Bed","Casino","Car Rental","Night Club","Tennis Court","BBQ Facilities","Fire Safety"],D=[{value:"Single Room",label:"Single Room",details:"A basic room with a single bed, ideal for solo travelers."},{value:"Double Room",label:"Double Room",details:"Comes with a double bed or two single beds, suitable for two people."},{value:"Deluxe Room",label:"Deluxe Room",details:"A more spacious version of a standard room with better furnishings."},{value:"Executive Room",label:"Executive Room",details:"Designed for business travelers with a work desk and extra amenities."},{value:"Club Room",label:"Club Room",details:"Offers premium benefits like lounge access and complimentary breakfast."},{value:"Suite Room",label:"Suite Room",details:"A larger space with a separate living area, ideal for families or business executives."},{value:"Presidential Suite",label:"Presidential Suite",details:"A luxurious option with multiple rooms and high-end services."},{value:"Royal Suite",label:"Royal Suite",details:"Inspired by Indian royalty with grand interiors and luxury amenities."},{value:"Heritage Room",label:"Heritage Room",details:"Traditional decor and antique furnishings, found in heritage hotels."},{value:"Cottage/Villa",label:"Cottage/Villa",details:"Standalone accommodations, often found in resorts with private gardens or pools."},{value:"Treehouse Room",label:"Treehouse Room",details:"Unique elevated rooms, mostly available in nature retreats."},{value:"Houseboat Room",label:"Houseboat Room",details:"Found in Kerala and Kashmir, offering a floating hotel experience."},{value:"Studio Apartment",label:"Studio Apartment",details:"A self-contained unit with a kitchenette, preferred for long stays."},{value:"Serviced Apartment",label:"Serviced Apartment",details:"A fully furnished apartment with hotel-like services."}]},73324:(e,i,o)=>{o.r(i),o.d(i,{default:()=>B});var n=o(83560),t=o(69320),s=o(29435),l=o(98606),r=o(85442),a=o(7353),d=o(94496),c=o(11906),x=o(43845),u=o(83625),m=o(24056),h=o(68903),p=o(12110),A=o(36591),g=o(35721),f=o(34535),v=o(84511),b=o(65043),j=o(73216),C=o(33580),S=o(31716),y=o(43641),k=o(67809),z=o(12955),w=o(69995),R=o(8881),I=o(70579);const D=[{id:1,propertyName:"Deluxe Double Room",size:"225 sqft (21 sq.m) | Double Bed",price:{"3 hrs":1543,"6 hrs":1943,"12 hrs":2743},amenities:["Iron/Ironing Board","Bathroom ","24-hour Housekeeping","24-hour In-room Dining","Laundry Service","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning","Air Conditioning"],image:"/assets/room-image 1.jpg"},{id:2,propertyName:"Superior Double Room",size:"250 sqft (23 sq.m) | Queen Bed",price:{"3 hrs":1743,"6 hrs":2143,"12 hrs":2943},amenities:["Iron/Ironing Board","Bathroom","24-hour Housekeeping","Laundry Service","Air Conditioning"],image:"/assets/room-image 1.jpg"},{id:3,propertyName:"Superior Double Room",size:"250 sqft (23 sq.m) | Queen Bed",price:{"3 hrs":1743,"6 hrs":2143,"12 hrs":2943},amenities:["Iron/Ironing Board","Bathroom","24-hour Housekeeping","Laundry Service","Air Conditioning"],image:"/assets/room-image 1.jpg"}],B=()=>{var e,i,o,f;const[v,B]=(0,b.useState)(D[0]),W=(0,r.A)(z.A.breakpoints.down("md")),{id:N}=(0,j.g)(),[P,H]=(0,b.useState)([]);(0,b.useEffect)((()=>{const e=new Date,i=new Date;i.setDate(e.getDate()+10),(0,w.NO)({data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]}).then((o=>{var n,t;const s=((null===o||void 0===o||null===(n=o.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.rows)||[]).filter((o=>{const n=new Date(o.checkInDate);return n>=e&&n<=i}));H(s)}))}),[]);const[E,O]=(0,b.useState)(!1),L=W?100:350,[q,V]=(0,b.useState)(0),K=(0,j.Zp)(),[M,U]=(0,b.useState)([]),[G,Q]=(0,b.useState)([]);return(0,b.useEffect)((()=>{(0,w.YT)({id:N,secondTable:"Room"}).then((e=>{var i,o,n,t,s;U(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.data[0]),Q(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.data[0])||void 0===n?void 0:n.rooms[0]);const l=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.data[0])||void 0===s?void 0:s.rooms;l.length>0&&B(l[0])})).catch((e=>{console.log(e)}))}),[]),console.log(v),(0,I.jsx)(a.A,{sx:{background:C.A.thirdColor,px:2,position:"relative"},children:(0,I.jsxs)(a.A,{sx:{px:{xs:0,md:2}},children:[(0,I.jsxs)(a.A,{sx:{...k.VX,px:{xs:2,md:3},py:3,position:"relative"},children:[(0,I.jsx)(a.A,{sx:{position:"absolute",top:24,right:24,display:{xs:"none",md:"flex"},justifyContent:"center",alignItems:"center",gap:"6px"},children:(0,I.jsx)(S.A,{customStyles:{fontSize:"14px"},variant:"contained",startIcon:(0,I.jsx)(n.A,{}),onClick:()=>{K("/property-registration",{state:N})},children:"Edit Hotel"})}),(0,I.jsx)(d.A,{variant:"h5",sx:{fontSize:{xs:"18px",md:"24px"},fontWeight:600,color:C.A.firstColor},children:null===M||void 0===M?void 0:M.propertyName}),(0,I.jsx)(d.A,{color:"textSecondary",sx:{fontFamily:"CustomFontSB",fontSize:{xs:"10px",md:"14px"},color:C.A.paperColor,mt:{xs:1,md:0}},children:null===M||void 0===M?void 0:M.address}),(0,I.jsx)(a.A,{py:2,sx:{pr:{xs:0,md:2},mx:-1},children:(0,I.jsx)(k.Kl,{propertyImages:M.propertyImages||[]})}),(0,I.jsx)(a.A,{sx:{display:{xs:"flex",md:"flex"}},children:(0,I.jsx)(d.A,{variant:"body2",fontWeight:600,color:C.A.thirdColor,sx:{background:C.A.background,px:1,borderRadius:"4px",fontSize:"14px",mb:2,display:"flex",justifyContent:"center",alignItems:"center",gap:"6px"},children:(0,I.jsx)(t.A,{})})}),(0,I.jsxs)(a.A,{sx:{maxWidth:"100%"},children:[(0,I.jsx)(d.A,{color:"textSecondary",sx:{fontFamily:"CustomFontB",fontSize:"16px",color:C.A.paperColor},children:"Property Description"}),(0,I.jsxs)(d.A,{color:"textSecondary",sx:{fontSize:"14px",mt:1},children:[E||(null===M||void 0===M||null===(e=M.propertyDesc)||void 0===e?void 0:e.length)<=L?null===M||void 0===M?void 0:M.propertyDesc:`${null===M||void 0===M||null===(i=M.propertyDesc)||void 0===i?void 0:i.substring(0,L)}...`,(null===M||void 0===M||null===(o=M.propertyDesc)||void 0===o?void 0:o.length)>L&&(0,I.jsx)(c.A,{sx:{textTransform:"none",fontSize:"14px",p:0,ml:1,minWidth:0},onClick:()=>O(!E),children:E?"Show less":"More"})]}),(0,I.jsx)(d.A,{sx:{fontFamily:"CustomFontB",fontSize:"16px",color:C.A.paperColor,mt:2},children:"Highlights"}),(0,I.jsx)(a.A,{sx:{display:"flex",gap:{xs:2,md:6},flexWrap:"wrap",mt:3,p:2,px:4,pt:3,backgroundColor:"rgba(93, 93, 93, 0.14)",justifyContent:"space-around",borderRadius:"12px",width:"fit-content"},children:null===G||void 0===G||null===(f=G.amenities)||void 0===f?void 0:f.slice(0,5).map(((e,i)=>(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,I.jsx)(x.A,{icon:(0,I.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:b.cloneElement(y.E_[e]||(0,I.jsx)(s.A,{}),{sx:{fontSize:{xs:26,md:34},color:C.A.paperColor}})}),size:"small",sx:{bgcolor:"transparent"}},i),(0,I.jsx)(d.A,{sx:{fontSize:{xs:"10px",md:"14px"}},mt:1.5,children:e})]})))})]})]}),(0,I.jsxs)(a.A,{sx:{...k.VX,px:{xs:1,md:4}},children:[(0,I.jsxs)(u.A,{variant:"scrollable",value:q,onChange:(e,i)=>V(i),sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:600,color:C.A.forthColor,fontSize:"1rem",p:0,minWidth:"10px",mx:1,px:.5},"& .Mui-selected":{color:"#000 !important",fontWeight:"bold"},"& .MuiTabs-indicator":{backgroundColor:"#000",height:3,borderRadius:"4px"}},children:[(0,I.jsx)(m.A,{label:"Rooms"}),(0,I.jsx)(m.A,{label:"Service & Amenities"}),(0,I.jsx)(m.A,{label:"Policies"})]}),(0,I.jsx)(F,{value:q,index:0,children:(0,I.jsx)(h.Ay,{container:!0,spacing:2,children:Array.isArray(G)&&G.map((e=>(0,I.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,I.jsxs)(p.A,{onClick:()=>B(e),sx:{p:2,display:"flex",flexDirection:{xs:"column",md:"column"},alignItems:"flex-start",background:C.A.thirdColor,borderRadius:"12px",boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.18)",border:"solid 2px",borderColor:v.id===e.id?C.A.firstColor:"transparent",position:"relative",overflow:"visible"},children:[v.id===e.id&&(0,I.jsx)(l.A,{sx:{position:"absolute",top:-10,right:-10,color:C.A.firstColor,background:C.A.thirdColor,borderRadius:"50%"}}),(0,I.jsxs)(a.A,{sx:{width:{xs:"100%",md:"100%"}},children:[(0,I.jsx)(A.A,{component:"img",height:"160",sx:{borderRadius:"12px",width:{xs:"100%",md:"100%"}},image:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.roomCategory}),(0,I.jsx)(d.A,{variant:"h6",mt:1.5,fontWeight:"bold",sx:{background:v.id===e.id?C.A.firstColor:"transparent",ml:-2,pl:2,borderRadius:"0px 4px 4px 0px",color:v.id===e.id?C.A.thirdColor:C.A.firstColor,mb:v.id===e.id?1:0,width:{xs:"fit-content",md:"fit-content"},pr:{xs:2,md:2},mt:{xs:2,md:2},transition:"all 0.3s"},children:e.propertyName}),(0,I.jsx)(d.A,{variant:"body2",children:e.size})]}),(0,I.jsx)(g.A,{sx:{py:0,mt:1,width:"100%",pb:{xs:0,md:"0px"}},children:(0,I.jsx)(k.fh,{room:e},e.id)}),(0,I.jsx)(a.A,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around",gap:"20px",position:{xs:"unset",md:"unset"},bottom:16,right:16,margin:"auto",marginTop:"20px"},children:Object.keys(e.price).map((i=>(0,I.jsx)(T,{value:i,style:{borderColor:C.A.forthColor},children:(0,I.jsxs)(d.A,{px:1,py:.5,sx:{fontSize:{xs:"8px",md:"8px"},lineHeight:1.4},children:[(0,I.jsx)("span",{style:{fontSize:"18px",fontWeight:600},children:i}),(0,I.jsx)("br",{}),"\u20b9"," ",e.price[i],(0,I.jsx)("br",{}),"Incl. Taxes"]})},i)))})]})},e.id)))})}),(0,I.jsx)(F,{value:q,index:1,children:(0,I.jsx)(d.A,{children:"Services and amenities provided."})}),(0,I.jsx)(F,{value:q,index:2,children:(0,I.jsx)(d.A,{children:"Customer reviews and ratings."})})]}),(0,I.jsx)(h.Ay,{container:!0,spacing:3,mt:0,children:(0,I.jsx)(h.Ay,{item:!0,xs:12,md:12,children:(0,I.jsx)(R.A,{bookings:P,hotelId:N})})})]})})},T=(0,f.Ay)(v.A)((e=>{let{theme:i}=e;return{borderRadius:"4px",textTransform:"none",fontSize:"12px",padding:"0px 10px",fontWeight:600,border:"1px solid rgba(61, 61, 61, 0.4)","&.Mui-selected":{background:C.A.background,color:"white"}}})),F=e=>{let{children:i,value:o,index:n}=e;return(0,I.jsx)("div",{hidden:o!==n,children:o===n&&(0,I.jsx)(a.A,{p:1,mt:3,children:(0,I.jsx)(d.A,{children:i})})})}}}]);
//# sourceMappingURL=324.08a65021.chunk.js.map