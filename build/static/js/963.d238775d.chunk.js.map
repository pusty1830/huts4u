{"version":3,"file":"static/js/963.d238775d.chunk.js","mappings":"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","sources":["components/data.tsx","pages/HotelDetails.tsx"],"sourcesContent":["import AcUnitIcon from \"@mui/icons-material/AcUnit\";\r\nimport AirportShuttleIcon from \"@mui/icons-material/AirportShuttle\";\r\nimport BeachAccessIcon from \"@mui/icons-material/BeachAccess\";\r\nimport BusinessCenterIcon from \"@mui/icons-material/BusinessCenter\";\r\nimport CasinoIcon from \"@mui/icons-material/Casino\";\r\nimport ChildCareIcon from \"@mui/icons-material/ChildCare\";\r\nimport DirectionsCarIcon from \"@mui/icons-material/DirectionsCar\";\r\nimport FireExtinguisherIcon from \"@mui/icons-material/FireExtinguisher\";\r\nimport FitnessCenterIcon from \"@mui/icons-material/FitnessCenter\";\r\nimport FreeBreakfastIcon from \"@mui/icons-material/FreeBreakfast\";\r\nimport KingBedIcon from \"@mui/icons-material/KingBed\";\r\nimport LocalBarIcon from \"@mui/icons-material/LocalBar\";\r\nimport LocalDiningIcon from \"@mui/icons-material/LocalDining\";\r\nimport LocalLaundryServiceIcon from \"@mui/icons-material/LocalLaundryService\";\r\nimport LocalParkingIcon from \"@mui/icons-material/LocalParking\";\r\nimport NightlifeIcon from \"@mui/icons-material/Nightlife\";\r\nimport OutdoorGrillIcon from \"@mui/icons-material/OutdoorGrill\";\r\nimport PetsIcon from \"@mui/icons-material/Pets\";\r\nimport PoolIcon from \"@mui/icons-material/Pool\";\r\nimport RoomServiceIcon from \"@mui/icons-material/RoomService\";\r\nimport SpaIcon from \"@mui/icons-material/Spa\";\r\nimport SportsTennisIcon from \"@mui/icons-material/SportsTennis\";\r\nimport TvIcon from \"@mui/icons-material/Tv\";\r\nimport WifiIcon from \"@mui/icons-material/Wifi\";\r\n\r\nexport const amenityIcons: { [key: string]: JSX.Element } = {\r\n  \"Swimming Pool\": <PoolIcon fontSize=\"small\" />,\r\n  Gym: <FitnessCenterIcon fontSize=\"small\" />,\r\n  \"Free WiFi\": <WifiIcon fontSize=\"small\" />,\r\n  \"Private Beach\": <BeachAccessIcon fontSize=\"small\" />,\r\n  Breakfast: <FreeBreakfastIcon fontSize=\"small\" />,\r\n  Parking: <LocalParkingIcon fontSize=\"small\" />,\r\n  Spa: <SpaIcon fontSize=\"small\" />,\r\n  Restaurant: <LocalDiningIcon fontSize=\"small\" />,\r\n  \"Airport Shuttle\": <AirportShuttleIcon fontSize=\"small\" />,\r\n  \"Business Center\": <BusinessCenterIcon fontSize=\"small\" />,\r\n  \"Pet Friendly\": <PetsIcon fontSize=\"small\" />,\r\n  Bar: <LocalBarIcon fontSize=\"small\" />,\r\n  \"Room Service\": <RoomServiceIcon fontSize=\"small\" />,\r\n  TV: <TvIcon fontSize=\"small\" />,\r\n  \"Air Conditioning\": <AcUnitIcon fontSize=\"small\" />,\r\n  \"Laundry Service\": <LocalLaundryServiceIcon fontSize=\"small\" />,\r\n  \"Child Care\": <ChildCareIcon fontSize=\"small\" />,\r\n  \"King Bed\": <KingBedIcon fontSize=\"small\" />,\r\n  Casino: <CasinoIcon fontSize=\"small\" />,\r\n  \"Car Rental\": <DirectionsCarIcon fontSize=\"small\" />,\r\n  \"Night Club\": <NightlifeIcon fontSize=\"small\" />,\r\n  \"Tennis Court\": <SportsTennisIcon fontSize=\"small\" />,\r\n  \"BBQ Facilities\": <OutdoorGrillIcon fontSize=\"small\" />,\r\n  \"Fire Safety\": <FireExtinguisherIcon fontSize=\"small\" />,\r\n};\r\n\r\n\r\nexport const amenitiesOptions = [\r\n  \"Swimming Pool\",\r\n  \"Gym\",\r\n  \"Free WiFi\",\r\n  \"Private Beach\",\r\n  \"Breakfast\",\r\n  \"Parking\",\r\n  \"Spa\",\r\n  \"Restaurant\",\r\n  \"Airport Shuttle\",\r\n  \"Business Center\",\r\n  \"Pet Friendly\",\r\n  \"Bar\",\r\n  \"Room Service\",\r\n  \"TV\",\r\n  \"Air Conditioning\",\r\n  \"Laundry Service\",\r\n  \"Child Care\",\r\n  \"King Bed\",\r\n  \"Casino\",\r\n  \"Car Rental\",\r\n  \"Night Club\",\r\n  \"Tennis Court\",\r\n  \"BBQ Facilities\",\r\n  \"Fire Safety\",\r\n];\r\n\r\n\r\nexport const roomTypes = [\r\n  { value: \"Single Room\", label: \"Single Room\", details: \"A basic room with a single bed, ideal for solo travelers.\" },\r\n  { value: \"Double Room\", label: \"Double Room\", details: \"Comes with a double bed or two single beds, suitable for two people.\" },\r\n  { value: \"Deluxe Room\", label: \"Deluxe Room\", details: \"A more spacious version of a standard room with better furnishings.\" },\r\n  { value: \"Executive Room\", label: \"Executive Room\", details: \"Designed for business travelers with a work desk and extra amenities.\" },\r\n  { value: \"Club Room\", label: \"Club Room\", details: \"Offers premium benefits like lounge access and complimentary breakfast.\" },\r\n  { value: \"Suite Room\", label: \"Suite Room\", details: \"A larger space with a separate living area, ideal for families or business executives.\" },\r\n  { value: \"Presidential Suite\", label: \"Presidential Suite\", details: \"A luxurious option with multiple rooms and high-end services.\" },\r\n  { value: \"Royal Suite\", label: \"Royal Suite\", details: \"Inspired by Indian royalty with grand interiors and luxury amenities.\" },\r\n  { value: \"Heritage Room\", label: \"Heritage Room\", details: \"Traditional decor and antique furnishings, found in heritage hotels.\" },\r\n  { value: \"Cottage/Villa\", label: \"Cottage/Villa\", details: \"Standalone accommodations, often found in resorts with private gardens or pools.\" },\r\n  { value: \"Treehouse Room\", label: \"Treehouse Room\", details: \"Unique elevated rooms, mostly available in nature retreats.\" },\r\n  { value: \"Houseboat Room\", label: \"Houseboat Room\", details: \"Found in Kerala and Kashmir, offering a floating hotel experience.\" },\r\n  { value: \"Studio Apartment\", label: \"Studio Apartment\", details: \"A self-contained unit with a kitchenette, preferred for long stays.\" },\r\n  { value: \"Serviced Apartment\", label: \"Serviced Apartment\", details: \"A fully furnished apartment with hotel-like services.\" },\r\n];","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport {\r\n  AddCircleOutline,\r\n  CheckCircle,\r\n  ExpandLess,\r\n  ExpandMore,\r\n  Star,\r\n  StarRounded,\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardMedia,\r\n  Chip,\r\n  Divider,\r\n  FormControl,\r\n  Grid,\r\n  List,\r\n  RadioGroup,\r\n  styled,\r\n  Tab,\r\n  Tabs,\r\n  ToggleButton,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport color from \"../components/color\";\r\nimport CustomButton from \"../components/CustomButton\";\r\nimport { amenityIcons } from \"../components/data\";\r\nimport {\r\n  BoxStyle,\r\n  CustomRadio,\r\n  getRatingColor,\r\n  getRatingText,\r\n  ImageGrid,\r\n  RoomAmenities,\r\n  StyledLabel,\r\n} from \"../components/style\";\r\nimport LoginOtpModal from \"./Account/LoginOtpModal\";\r\n\r\n/**\r\n * calculatePriceBreakdown (updated)\r\n *\r\n * Flow:\r\n * - gstOnBase = 5% of base\r\n * - initialPlatformFee = 13% of (base + gstOnBase)\r\n * - couponDiscount = min((base + initialPlatformFee) * 0.02, 50)  // 2% on (base+platform) capped at 50\r\n * - platformFeeAfterCoupon = max(0, initialPlatformFee - couponDiscount)\r\n * - gstOnPlatform = 18% of platformFeeAfterCoupon\r\n * - gatewayFee = 2% of (base + gstOnBase + platformFeeAfterCoupon + gstOnPlatform)\r\n * - finalPrice = base + platformFeeAfterCoupon + gstOnBase + gstOnPlatform + gatewayFee\r\n *\r\n * NOTE: gatewayFee is included in the \"GST & fees\" aggregate for display (not shown separately).\r\n */\r\nconst calculatePriceBreakdown = (basePrice: number, couponApply = false) => {\r\n  const numericBase = Number(basePrice) || 0;\r\n\r\n  if (!numericBase || numericBase <= 0) {\r\n    return {\r\n      basePrice: 0,\r\n      initialPlatformFee: 0,\r\n      platformFee: 0,\r\n      couponDiscount: 0,\r\n      gstOnBase: 0,\r\n      gstOnPlatform: 0,\r\n      gstTotalIncludingGateway: 0, // for UI: includes gateway\r\n      gatewayFee: 0,\r\n      finalPrice: 0,\r\n    };\r\n  }\r\n\r\n  // 5% GST on base\r\n  const gstOnBase = numericBase * 0.05;\r\n\r\n  // initial platform fee = 13% on (base + gstOnBase)\r\n  const initialPlatformFee = (numericBase + gstOnBase) * 0.13;\r\n\r\n  // coupon: 2% on (base + initialPlatformFee) capped at 50\r\n  let couponDiscount = 0;\r\n  if (couponApply) {\r\n    couponDiscount = Math.min((numericBase + initialPlatformFee) * 0.02, 50);\r\n  }\r\n\r\n  // apply coupon discount to platform fee (primary target)\r\n  const platformFeeAfterCoupon = Math.max(0, initialPlatformFee - couponDiscount);\r\n\r\n  // GST on platform after coupon\r\n  const gstOnPlatform = platformFeeAfterCoupon * 0.18;\r\n\r\n  // amount that gateway charges apply to (base + gstOnBase + platformFeeAfterCoupon + gstOnPlatform)\r\n  const amountBeforeGateway = numericBase + gstOnBase + platformFeeAfterCoupon + gstOnPlatform;\r\n\r\n  // gateway fee (2%)\r\n  const gatewayFee = amountBeforeGateway * 0.02;\r\n\r\n  // combined GST & fees for UI (includes gatewayFee)\r\n  const gstTotalIncludingGateway = gstOnBase + gstOnPlatform + gatewayFee;\r\n\r\n  // final total\r\n  const finalPrice = numericBase + platformFeeAfterCoupon + gstOnBase + gstOnPlatform + gatewayFee;\r\n\r\n  return {\r\n    basePrice: numericBase,\r\n    initialPlatformFee,\r\n    platformFee: platformFeeAfterCoupon,\r\n    couponDiscount,\r\n    gstOnBase,\r\n    gstOnPlatform,\r\n    gstTotalIncludingGateway,\r\n    gatewayFee,\r\n    finalPrice,\r\n  };\r\n};\r\n\r\nconst HotelDetails: React.FC = () => {\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n\r\n  const bookingType = queryParams.get(\"bookingType\") ?? \"fullDay\";\r\n  const checkinTime = queryParams.get(\"time\") ?? \"\";\r\n  const checkinDate = queryParams.get(\"checkinDate\") ?? \"\";\r\n  const checkOutDate = queryParams.get(\"checkOutDate\") ?? \"\";\r\n  const parsedRooms = Number(queryParams.get(\"rooms\"));\r\n  const roomsCountParam = Number.isFinite(parsedRooms) && parsedRooms > 0 ? Math.floor(parsedRooms) : 1;\r\n  const adults = queryParams.get(\"adults\") ?? \"1\";\r\n  const children = queryParams.get(\"children\") ?? \"0\";\r\n\r\n  const hotel = (location.state && (location.state as any).hotelData) || (location.state as any) || {};\r\n  hotel.rooms = hotel.rooms || [];\r\n  hotel.propertyDesc = hotel.propertyDesc || hotel.description || \"\";\r\n  hotel.propertyImages = hotel.propertyImages || [];\r\n\r\n  const computeNights = () => {\r\n    if ((bookingType || \"\").toLowerCase() === \"hourly\") return 1;\r\n\r\n    if (checkinDate && checkOutDate) {\r\n      const inDate = dayjs(checkinDate);\r\n      const outDate = dayjs(checkOutDate);\r\n      if (inDate.isValid() && outDate.isValid()) {\r\n        const diff = outDate.diff(inDate, \"day\");\r\n        return Math.max(1, diff);\r\n      }\r\n    }\r\n\r\n    const urlNights = Number(queryParams.get(\"nights\"));\r\n    return Math.max(1, Number.isFinite(urlNights) && urlNights > 0 ? Math.floor(urlNights) : 1);\r\n  };\r\n\r\n  const nights = computeNights();\r\n\r\n  const [selectedRoom, setSelectedRoom] = useState<any>(hotel.rooms[0] ?? null);\r\n  const [selectedSlot, setSelectedSlot] = useState<{ roomId: number | null; slot: string | null }>(\r\n    {\r\n      roomId: hotel.rooms?.[0]?.id ?? null,\r\n      slot: bookingType === \"hourly\" ? \"rateFor3Hour\" : \"rateFor1Night\",\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!selectedRoom && hotel.rooms && hotel.rooms.length > 0) {\r\n      setSelectedRoom(hotel.rooms[0]);\r\n      setSelectedSlot({\r\n        roomId: hotel.rooms[0].id,\r\n        slot: bookingType === \"hourly\" ? \"rateFor3Hour\" : \"rateFor1Night\",\r\n      });\r\n    }\r\n  }, [hotel.rooms]);\r\n\r\n  const handleSlotSelection = (roomId: number, slot: string) => {\r\n    const room = hotel.rooms.find((r: any) => r.id === roomId);\r\n    if (room) setSelectedRoom(room);\r\n    setSelectedSlot({ roomId, slot });\r\n  };\r\n\r\n  const [showRoomDetails, setShowRoomDetails] = useState(false);\r\n  const [expanded, setExpanded] = useState(false);\r\n  const maxLength = 150;\r\n\r\n  const [isSticky, setIsSticky] = useState(false);\r\n  const [stopPosition, setStopPosition] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const boxA = document.getElementById(\"boxA\");\r\n      const boxB = document.getElementById(\"boxB\");\r\n      const boxC = document.getElementById(\"boxC\");\r\n\r\n      if (!boxA || !boxB || !boxC) return;\r\n\r\n      const boxBRect = boxB.getBoundingClientRect();\r\n      const boxARect = boxA.getBoundingClientRect();\r\n\r\n      if (boxBRect.bottom <= window.innerHeight - 400) {\r\n        setIsSticky(true);\r\n      } else {\r\n        setIsSticky(false);\r\n      }\r\n\r\n      setStopPosition(boxARect.bottom + window.innerHeight);\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    handleScroll();\r\n\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const [position, setPosition] = useState<\"relative\" | \"unset\">(\"relative\");\r\n  const boxRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setPosition(entry.isIntersecting ? \"relative\" : \"unset\");\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (boxRef.current) {\r\n      observer.observe(boxRef.current);\r\n    }\r\n\r\n    return () => {\r\n      if (boxRef.current) {\r\n        observer.unobserve(boxRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const [value, setValue] = useState(0);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const isMobile = useMediaQuery(\"(max-width: 900px)\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // coupon states (single Apply button)\r\n  const [couponCode, setCouponCode] = useState<string>(\"\");\r\n  const [couponApplied, setCouponApplied] = useState<boolean>(false);\r\n  const [couponError, setCouponError] = useState<string | null>(null);\r\n\r\n  const applyCoupon = (code: string) => {\r\n    if (!code || !code.trim()) {\r\n      setCouponError(\"Please enter coupon code\");\r\n      setCouponApplied(false);\r\n      toast.error(\"Please enter coupon code\");\r\n      return;\r\n    }\r\n    const normalized = code.trim().toUpperCase();\r\n    // demo validation — changed to s4U as requested\r\n    if (normalized === \"HUTS4U\") {\r\n      setCouponApplied(true);\r\n      setCouponError(null);\r\n      toast.success(\"Coupon applied — 2% off (capped at ₹50) on (base + platform)\");\r\n    } else {\r\n      setCouponApplied(false);\r\n      setCouponError(\"Invalid coupon\");\r\n      toast.error(\"Invalid coupon\");\r\n    }\r\n  };\r\n\r\n  // Per-unit price breakdown (couponApplied toggles discount)\r\n  const unitBasePrice =\r\n    selectedSlot.roomId && selectedSlot.slot ? Number(selectedRoom?.[selectedSlot.slot] ?? 0) : 0;\r\n  const unitBreakdown = calculatePriceBreakdown(unitBasePrice, couponApplied);\r\n\r\n  // multipliers\r\n  const roomsMultiplier = roomsCountParam;\r\n  const perStayMultiplier = (bookingType || \"\").toLowerCase() === \"hourly\" ? 1 : nights;\r\n  const totalMultiplier = roomsMultiplier * perStayMultiplier;\r\n\r\n  // totals (apply multiplier)\r\n  const totalBreakdown = {\r\n    basePrice: unitBreakdown.basePrice * totalMultiplier,\r\n    initialPlatformFee: unitBreakdown.initialPlatformFee * totalMultiplier,\r\n    platformFee: unitBreakdown.platformFee * totalMultiplier, // platform after coupon\r\n    couponDiscount: unitBreakdown.couponDiscount * totalMultiplier,\r\n    gstOnBase: unitBreakdown.gstOnBase * totalMultiplier,\r\n    gstOnPlatform: unitBreakdown.gstOnPlatform * totalMultiplier,\r\n    gstTotalIncludingGateway: unitBreakdown.gstTotalIncludingGateway * totalMultiplier, // includes gateway\r\n    gatewayFee: unitBreakdown.gatewayFee * totalMultiplier,\r\n    finalPrice: unitBreakdown.finalPrice * totalMultiplier,\r\n  };\r\n\r\n  // display values\r\n  const displayBase = totalBreakdown.basePrice;\r\n  const displayBasePlus700 = displayBase + 700;\r\n  const displayCombinedBasePlatform = totalBreakdown.basePrice + totalBreakdown.platformFee;\r\n  const displayGstTotal = totalBreakdown.gstTotalIncludingGateway;\r\n  // final intentionally not shown in upper summary per request\r\n  // const displayFinal = totalBreakdown.finalPrice;\r\n\r\n  return (\r\n    <Box\r\n      id=\"boxA\"\r\n      sx={{\r\n        background: color.thirdColor,\r\n        px: { xs: 2, md: 4 },\r\n        py: 1,\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          px: { xs: 0, md: 2 },\r\n        }}\r\n      >\r\n        <Box\r\n          ref={boxRef}\r\n          id=\"boxB\"\r\n          sx={{\r\n            ...BoxStyle,\r\n            px: { xs: 2, md: 3 },\r\n            py: 3,\r\n            position,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              position: \"absolute\",\r\n              top: 24,\r\n              right: 24,\r\n              display: { xs: \"none\", md: \"flex\" },\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              gap: \"6px\",\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"body2\"\r\n              fontWeight={600}\r\n              color={color.firstColor}\r\n              lineHeight={1}\r\n              sx={{\r\n                fontSize: { xs: \"12px\", md: \"14px\" },\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {getRatingText(hotel?.ratings?.rating)}\r\n              <br />{\" \"}\r\n              <span style={{ fontSize: \"10px\" }}>\r\n                ({hotel?.reviews || 0} reviews)\r\n              </span>\r\n            </Typography>\r\n\r\n            <Typography\r\n              variant=\"body2\"\r\n              fontWeight={600}\r\n              color=\"#fff\"\r\n              sx={{\r\n                background: getRatingColor(hotel?.ratings?.rating),\r\n                px: 1,\r\n                borderRadius: \"4px\",\r\n                fontSize: { xs: \"14px\", md: \"16px\" },\r\n                boxShadow: \"0px -10px 10px rgba(0, 0, 0, 0.12) inset\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"4px\",\r\n              }}\r\n            >\r\n              {hotel?.ratings?.rating ?? \"N/A\"} <StarRounded />\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Typography\r\n            variant=\"h5\"\r\n            sx={{\r\n              fontSize: { xs: \"18px\", md: \"24px\" },\r\n              fontWeight: 600,\r\n              color: color.firstColor,\r\n            }}\r\n          >\r\n            {hotel.propertyName}\r\n          </Typography>\r\n          <Typography\r\n            color=\"textSecondary\"\r\n            sx={{\r\n              fontFamily: \"CustomFontSB\",\r\n              fontSize: { xs: \"10px\", md: \"14px\" },\r\n              color: color.paperColor,\r\n              mt: { xs: 1, md: 0 },\r\n            }}\r\n          >\r\n            {hotel.address}\r\n          </Typography>\r\n\r\n          <Box py={2} sx={{ pr: { xs: 0, md: 2 }, mx: -1 }}>\r\n            <ImageGrid propertyImages={hotel.propertyImages} />\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              display: { xs: \"flex\", md: \"none\" },\r\n            }}\r\n          >\r\n            <Typography\r\n              variant=\"body2\"\r\n              fontWeight={600}\r\n              color={color.thirdColor}\r\n              sx={{\r\n                background: color.background,\r\n                px: 1,\r\n                borderRadius: \"4px\",\r\n                fontSize: \"14px\",\r\n                mb: 2,\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                gap: \"6px\",\r\n              }}\r\n            >\r\n              <Star /> {(hotel?.ratings?.rating ?? 0).toFixed(1)} ({hotel?.reviews ?? 0} reviews)\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Box sx={{ maxWidth: { xs: \"100%\", md: \"calc(100% - 450px)\" } }}>\r\n            <Typography\r\n              color=\"textSecondary\"\r\n              sx={{\r\n                fontFamily: \"CustomFontB\",\r\n                fontSize: \"16px\",\r\n                color: color.paperColor,\r\n              }}\r\n            >\r\n              Property Description\r\n            </Typography>\r\n            <Typography\r\n              color=\"textSecondary\"\r\n              sx={{\r\n                fontSize: \"14px\",\r\n                mt: 1,\r\n              }}\r\n            >\r\n              {expanded || (hotel.propertyDesc || \"\").length <= maxLength\r\n                ? hotel.propertyDesc\r\n                : `${hotel.propertyDesc.substring(0, maxLength)}...`}\r\n              {(hotel.propertyDesc || \"\").length > maxLength && (\r\n                <Button\r\n                  sx={{\r\n                    textTransform: \"none\",\r\n                    fontSize: \"14px\",\r\n                    p: 0,\r\n                    ml: 1,\r\n                    minWidth: 0,\r\n                  }}\r\n                  onClick={() => setExpanded(!expanded)}\r\n                >\r\n                  {expanded ? \"Show less\" : \"More\"}\r\n                </Button>\r\n              )}\r\n            </Typography>\r\n\r\n            <Typography\r\n              sx={{\r\n                fontFamily: \"CustomFontB\",\r\n                fontSize: \"16px\",\r\n                color: color.paperColor,\r\n                mt: 2,\r\n              }}\r\n            >\r\n              Highlights\r\n            </Typography>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                gap: { xs: 2, md: 6 },\r\n                flexWrap: \"wrap\",\r\n                mt: 3,\r\n                p: 2,\r\n                px: 4,\r\n                pt: 3,\r\n                backgroundColor: \"rgba(93, 93, 93, 0.14)\",\r\n                justifyContent: \"space-around\",\r\n                borderRadius: \"12px\",\r\n                width: \"fit-content\",\r\n              }}\r\n            >\r\n              {(hotel?.rooms?.[0]?.amenities || [])\r\n                .slice(0, 5)\r\n                .map((amenity: any, index: any) => (\r\n                  <div\r\n                    key={index}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Chip\r\n                      icon={\r\n                        <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n                          {React.cloneElement(\r\n                            amenityIcons[amenity] || <AddCircleOutline />,\r\n                            {\r\n                              sx: {\r\n                                fontSize: { xs: 26, md: 34 },\r\n                                color: color.paperColor,\r\n                              },\r\n                            }\r\n                          )}\r\n                        </Box>\r\n                      }\r\n                      size=\"small\"\r\n                      sx={{ bgcolor: \"transparent\" }}\r\n                    />\r\n\r\n                    <Typography sx={{ fontSize: { xs: \"10px\", md: \"14px\" } }} mt={1.5}>\r\n                      {amenity}\r\n                    </Typography>\r\n                  </div>\r\n                ))}\r\n            </Box>\r\n          </Box>\r\n\r\n          {/* RIGHT STICKY BOOKING SUMMARY BOX */}\r\n          <Box\r\n            id=\"boxC\"\r\n            sx={{\r\n              ...BoxStyle,\r\n              minWidth: \"350px\",\r\n              maxWidth: \"350px\",\r\n              // removed fixed maxHeight and scrollbar so the box can expand naturally\r\n              maxHeight: \"none\",\r\n              pb: 3,\r\n              position: isSticky ? \"fixed\" : \"absolute\",\r\n              bottom: isSticky ? \"10px\" : \"-380px\",\r\n              right: isSticky ? \"72px\" : \"24px\",\r\n              zIndex: 100,\r\n              m: 0,\r\n              background: color.thirdColor,\r\n              transition: \"bottom 0.3s ease\",\r\n              overflow: \"visible\",\r\n              overflowY: \"visible\",\r\n\r\n              ...(isSticky &&\r\n                (typeof window !== \"undefined\" && window.scrollY >= stopPosition ? { position: \"absolute\", bottom: \"85px\" } : {})),\r\n\r\n              \"@media (max-width: 900px)\": {\r\n                position: \"fixed\",\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                minWidth: \"unset\",\r\n                maxWidth: \"100%\",\r\n                borderRadius: \"10px 10px 0 0\",\r\n                p: 2,\r\n              },\r\n            }}\r\n          >\r\n            {isMobile && (\r\n              <Box\r\n                onClick={() => setShowDetails(!showDetails)}\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  p: 1,\r\n                  m: -2,\r\n                  mb: showDetails ? -4 : 0,\r\n                  background: color.background,\r\n                  color: color.thirdColor,\r\n                }}\r\n              >\r\n                <Typography\r\n                  sx={{\r\n                    fontWeight: 600,\r\n                    fontSize: \"18px\",\r\n                  }}\r\n                >\r\n                  {showDetails ? \"Hide Details\" : \"Show Details\"}\r\n                </Typography>\r\n                {!showDetails ? <ExpandLess /> : <ExpandMore />}\r\n              </Box>\r\n            )}\r\n\r\n            {(showDetails || !isMobile) && (\r\n              <>\r\n                {!isMobile && (\r\n                  <Box\r\n                    sx={{\r\n                      position: \"absolute\",\r\n                      top: 0,\r\n                      left: 0,\r\n                      width: \"100%\",\r\n                      height: \"50px\",\r\n                      background: color.background,\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                      gap: 4,\r\n                    }}\r\n                  >\r\n                    <Typography fontWeight={600} color={color.thirdColor} fontSize={\"20px\"}>\r\n                      Get up to 50% off ₹50{\" \"}\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n\r\n                <Typography\r\n                  sx={{\r\n                    fontFamily: \"CustomFontB\",\r\n                    fontSize: \"16px\",\r\n                    color: color.paperColor,\r\n                    mt: \"50px\",\r\n                  }}\r\n                >\r\n                  Your Booking Summary\r\n                </Typography>\r\n\r\n                <Box\r\n                  sx={{\r\n                    mt: 2,\r\n                    border: \"solid 1px\",\r\n                    borderColor: color.forthColor,\r\n                    borderRadius: \"12px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    textAlign: \"center\",\r\n                    boxShadow: \"0px -10px 20px rgba(0, 0, 0, 0.12) inset\",\r\n                  }}\r\n                >\r\n                  <Box\r\n                    p={2}\r\n                    sx={{\r\n                      width: \"50%\",\r\n                    }}\r\n                  >\r\n                    <Typography fontSize={\"14px\"} color={color.forthColor}>\r\n                      Check In Date\r\n                    </Typography>\r\n\r\n                    <Typography fontWeight={600}>\r\n                      {checkinDate ? dayjs(checkinDate).format(\"DD MMM YYYY\") : \"\"}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Divider\r\n                    sx={{\r\n                      opacity: 1,\r\n                      borderWidth: \"1.5px\",\r\n                      borderColor: color.forthColor,\r\n                    }}\r\n                    orientation=\"vertical\"\r\n                    flexItem\r\n                  />\r\n                  <Box\r\n                    p={2}\r\n                    sx={{\r\n                      width: \"50%\",\r\n                    }}\r\n                  >\r\n                    {bookingType === \"hourly\" ? (\r\n                      <>\r\n                        <Typography fontSize={\"14px\"} color={color.forthColor}>\r\n                          Check In Time\r\n                        </Typography>\r\n\r\n                        <Typography fontWeight={600}>\r\n                          {checkinTime ? dayjs(checkinTime, \"HH:mm\").format(\"hh:mm A\") : \"\"}\r\n                        </Typography>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Typography fontSize={\"14px\"} color={color.forthColor}>\r\n                          Check Out Date\r\n                        </Typography>\r\n\r\n                        <Typography fontWeight={600}>\r\n                          {checkOutDate ? dayjs(checkOutDate).format(\"DD MMM YYYY\") : \"\"}\r\n                        </Typography>\r\n                      </>\r\n                    )}\r\n                  </Box>\r\n                </Box>\r\n\r\n                <Box\r\n                  mt={2}\r\n                  p={2}\r\n                  sx={{\r\n                    border: \"solid 1px\",\r\n                    borderColor: color.forthColor,\r\n                    borderRadius: \"12px\",\r\n                    px: 4,\r\n                    textAlign: \"left\",\r\n                    boxShadow: \"0px -10px 20px rgba(0, 0, 0, 0.12) inset\",\r\n                  }}\r\n                >\r\n                  <Typography fontSize={\"14px\"} color={color.forthColor}>\r\n                    Rooms & Guest Details\r\n                  </Typography>\r\n\r\n                  <Typography fontWeight={600}>\r\n                    {roomsCountParam} Room{roomsCountParam > 1 ? \"s\" : \"\"}, {adults} Adults, {children} Children\r\n                  </Typography>\r\n                </Box>\r\n\r\n                <Box\r\n                  mt={2}\r\n                  p={2}\r\n                  sx={{\r\n                    border: \"solid 1px\",\r\n                    borderColor: color.forthColor,\r\n                    borderRadius: \"12px\",\r\n                    px: 4,\r\n                    textAlign: \"left\",\r\n                    boxShadow: \"0px -10px 20px rgba(0, 0, 0, 0.12) inset\",\r\n                    pb: 3,\r\n                    fontFamily: \"CustomFontB\",\r\n                  }}\r\n                >\r\n                  <Typography fontSize={\"14px\"} color={color.forthColor} mb={1}>\r\n                    Selected Room Type\r\n                  </Typography>\r\n                  <FormControl component=\"fieldset\">\r\n                    <RadioGroup\r\n                      value={selectedRoom?.id ?? \"\"}\r\n                      onChange={(e) => {\r\n                        const room = hotel.rooms.find((r: any) => r.id === Number(e.target.value));\r\n                        if (room) {\r\n                          setSelectedRoom(room);\r\n                          setSelectedSlot({\r\n                            roomId: room.id,\r\n                            slot: (bookingType || \"\").toLowerCase() === \"hourly\" ? \"rateFor3Hour\" : \"rateFor1Night\",\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      {selectedRoom && (\r\n                        <StyledLabel\r\n                          key={selectedRoom.id}\r\n                          value={selectedRoom.id}\r\n                          checked\r\n                          control={<CustomRadio />}\r\n                          label={<Typography sx={{ fontWeight: \"bold\" }}>{selectedRoom?.roomCategory}</Typography>}\r\n                        />\r\n                      )}\r\n                    </RadioGroup>\r\n                  </FormControl>\r\n                </Box>\r\n\r\n                {((bookingType || \"\").toLowerCase() === \"hourly\") && selectedRoom && (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexWrap: \"wrap\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"space-around\",\r\n                      gap: \"6px\",\r\n                      marginTop: \"20px\",\r\n                    }}\r\n                  >\r\n                    {[\"rateFor3Hour\", \"rateFor6Hour\", \"rateFor12Hour\"].map((slotKey) => {\r\n                      const slotLabel = slotKey.replace(\"rateFor\", \"\").replace(\"Hour\", \"\") + \"hrs\";\r\n                      const price = Number(selectedRoom[slotKey] ?? 0);\r\n                      const breakdown = calculatePriceBreakdown(price, couponApplied);\r\n                      const { finalPrice, platformFee, gstTotalIncludingGateway } = breakdown as any;\r\n\r\n                      return (\r\n                        <StyledToggleButton\r\n                          key={slotKey}\r\n                          value={slotLabel}\r\n                          selected={selectedSlot.roomId === selectedRoom.id && selectedSlot.slot === slotKey}\r\n                          onClick={() => handleSlotSelection(selectedRoom.id, slotKey)}\r\n                          style={{ borderColor: color.forthColor }}\r\n                        >\r\n                          <Typography\r\n                            px={1}\r\n                            py={0.5}\r\n                            style={{\r\n                              fontSize: \"14px\",\r\n                              fontWeight: 600,\r\n                              lineHeight: 1.4,\r\n                            }}\r\n                          >\r\n                            ₹ {finalPrice.toFixed(0)}\r\n                            <br />\r\n                            <span style={{ fontSize: \"10px\" }}>\r\n                              {slotLabel} • Includes ₹{(platformFee + gstTotalIncludingGateway).toFixed(0)} fees & GST\r\n                            </span>\r\n                          </Typography>\r\n                        </StyledToggleButton>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n                <Divider sx={{ mt: 3, mb: 1, borderColor: color.forthColor }}></Divider>\r\n              </>\r\n            )}\r\n\r\n            {/* PRICE SUMMARY AT BOTTOM */}\r\n            {/* PRICE SUMMARY AT BOTTOM */}\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                gap: 2,\r\n                mt: 0,\r\n                px: { xs: 1, md: 3 },\r\n              }}\r\n            >\r\n              {/* 1) TOTAL PRICE (top) */}\r\n              <Box>\r\n                <Typography fontSize={\"14px\"} color={color.forthColor} mt={1}>\r\n                  Total Price\r\n                  {bookingType !== \"hourly\" && totalMultiplier > 1\r\n                    ? ` (for ${roomsCountParam} room${roomsCountParam > 1 ? \"s\" : \"\"} • ${perStayMultiplier} night${perStayMultiplier > 1 ? \"s\" : \"\"})`\r\n                    : ` (for ${roomsCountParam} room${roomsCountParam > 1 ? \"s\" : \"\"})`}\r\n                  :\r\n                </Typography>\r\n\r\n                {/* Top struck-through bigger: base + 700 */}\r\n                <Typography\r\n                  sx={{\r\n                    fontSize: \"18px\",\r\n                    color: color.paperColor,\r\n                    textDecoration: \"line-through\",\r\n                    fontWeight: 600,\r\n                    mt: 0.5,\r\n                  }}\r\n                >\r\n                  {displayBase > 0 ? `₹ ${displayBasePlus700.toFixed(0)}` : \"---\"}\r\n                </Typography>\r\n\r\n                {/* Main bold price = base + platform (platform already reduced) */}\r\n                <Typography fontSize={\"24px\"} color={color.firstColor} fontWeight={\"bold\"} mt={0.5}>\r\n                  {displayCombinedBasePlatform > 0 ? `₹${displayCombinedBasePlatform.toFixed(0)}` : \"—\"}\r\n                </Typography>\r\n\r\n                {/* GST & Fees combined (includes gateway) */}\r\n                <Typography fontSize={\"14px\"} color={color.forthColor} mt={0.5}>\r\n                  {displayGstTotal > 0 ? `+ ₹${displayGstTotal.toFixed(0)} taxes & fees` : \"\"}\r\n                </Typography>\r\n\r\n                {/* coupon discount (single apply) */}\r\n                {totalBreakdown.couponDiscount > 0 && (\r\n                  <Typography fontSize={\"12px\"} color={\"green\"} mt={0.5}>\r\n                    - ₹{totalBreakdown.couponDiscount.toFixed(0)} coupon discount\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n\r\n              {/* 2) COUPON INPUT / APPLY (middle) */}\r\n              <Box>\r\n                <Box sx={{ display: \"flex\", gap: 1, alignItems: \"center\", width: \"100%\" }}>\r\n                  <input\r\n                    style={{\r\n                      padding: \"10px 12px\",\r\n                      borderRadius: 8,\r\n                      border: \"1px solid #ccc\",\r\n                      flex: 1,\r\n                      height: 48,\r\n                    }}\r\n                    placeholder=\"Coupon code\"\r\n                    value={couponCode}\r\n                    onChange={(e) => setCouponCode(e.target.value)}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => applyCoupon(couponCode)}\r\n                    sx={{\r\n                      background: color.firstColor,\r\n                      color: color.thirdColor,\r\n                      height: 48,\r\n                      px: 3,\r\n                      whiteSpace: \"nowrap\",\r\n                      \"&:hover\": {\r\n                        background: color.firstColor,\r\n                        opacity: 0.9,\r\n                      },\r\n                    }}\r\n                  >\r\n                    Apply\r\n                  </Button>\r\n                </Box>\r\n\r\n                {couponError && <Typography color=\"error\" fontSize={12} mt={1}>{couponError}</Typography>}\r\n                {couponApplied && totalBreakdown.couponDiscount > 0 && (\r\n                  <Typography color=\"success.main\" fontSize={12} mt={1}>\r\n                    Coupon applied — you saved ₹{totalBreakdown.couponDiscount.toFixed(0)}\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n\r\n              {/* 3) BOOK NOW (last, full width) */}\r\n              <Box>\r\n                <CustomButton\r\n                  customStyles={{\r\n                    width: \"100%\",\r\n                    height: \"52px\",\r\n                    fontSize: \"16px\",\r\n                    marginTop: \"4px\",\r\n                  }}\r\n                  onClick={() => {\r\n                    const queryString = new URLSearchParams(queryParams).toString();\r\n\r\n                    navigate(`/booking-summary/${hotel.id}${queryString ? `?${queryString}` : \"\"}`, {\r\n                      state: {\r\n                        hotelData: hotel,\r\n                        selectedRoom: selectedRoom,\r\n                        selectedSlot: selectedSlot,\r\n                        pricingDetails: {\r\n                          rooms: roomsCountParam,\r\n                          nights: perStayMultiplier,\r\n                          basePrice: totalBreakdown.basePrice,\r\n                          platformFee: totalBreakdown.platformFee,\r\n                          couponDiscount: totalBreakdown.couponDiscount,\r\n                          gstOnBase: totalBreakdown.gstOnBase,\r\n                          gstOnPlatform: totalBreakdown.gstOnPlatform,\r\n                          gstTotal: totalBreakdown.gstTotalIncludingGateway,\r\n                          gatewayFee: totalBreakdown.gatewayFee,\r\n                          totalPrice: totalBreakdown.finalPrice,\r\n                        },\r\n                      },\r\n                    });\r\n                  }}\r\n                  variant=\"contained\"\r\n                >\r\n                  Book Now\r\n                </CustomButton>\r\n              </Box>\r\n            </Box>\r\n\r\n          </Box>\r\n\r\n        </Box>\r\n\r\n        {/* LOWER TABS SECTION */}\r\n        <Box\r\n          sx={{\r\n            ...BoxStyle,\r\n            px: { xs: 1, md: 4 },\r\n            pb: 3,\r\n          }}\r\n        >\r\n          <Tabs\r\n            variant=\"scrollable\"\r\n            value={value}\r\n            onChange={(event, newValue) => setValue(newValue)}\r\n            sx={{\r\n              \"& .MuiTab-root\": {\r\n                textTransform: \"none\",\r\n                fontWeight: 600,\r\n                color: color.forthColor,\r\n                fontSize: \"1rem\",\r\n                p: 0,\r\n                minWidth: \"10px\",\r\n                mx: 1,\r\n                px: 0.5,\r\n              },\r\n              \"& .Mui-selected\": {\r\n                color: \"#000 !important\",\r\n                fontWeight: \"bold\",\r\n              },\r\n              \"& .MuiTabs-indicator\": {\r\n                backgroundColor: \"#000\",\r\n                height: 3,\r\n                borderRadius: \"4px\",\r\n              },\r\n            }}\r\n          >\r\n            <Tab label=\"Rooms\" />\r\n            <Tab label=\"Service & Amenities\" />\r\n            <Tab label=\"Policies\" />\r\n          </Tabs>\r\n\r\n          <TabPanel value={value} index={0}>\r\n            <Grid container spacing={2}>\r\n              {hotel.rooms.map((room: any) => (\r\n                <Grid item xs={12} md={7} key={room.id}>\r\n                  <Card\r\n                    onClick={() => {\r\n                      setSelectedRoom(room);\r\n                      setSelectedSlot({\r\n                        roomId: room.id,\r\n                        slot: (bookingType || \"\").toLowerCase() === \"hourly\" ? \"rateFor3Hour\" : \"rateFor1Night\",\r\n                      });\r\n                    }}\r\n                    sx={{\r\n                      p: 2,\r\n                      display: \"flex\",\r\n                      flexDirection: { xs: \"column\", md: \"row\" },\r\n                      alignItems: \"flex-start\",\r\n                      background: color.thirdColor,\r\n                      borderRadius: \"12px\",\r\n                      boxShadow: \"0px 0px 20px rgba(0, 0, 0, 0.18)\",\r\n                      border: \"solid 2px\",\r\n                      borderColor: selectedRoom?.id === room.id ? color.firstColor : \"transparent\",\r\n                      position: \"relative\",\r\n                      overflow: \"visible\",\r\n                    }}\r\n                  >\r\n                    {selectedRoom?.id === room.id && (\r\n                      <CheckCircle\r\n                        sx={{\r\n                          position: \"absolute\",\r\n                          top: -10,\r\n                          right: -10,\r\n                          color: color.firstColor,\r\n                          background: color.thirdColor,\r\n                          borderRadius: \"50%\",\r\n                        }}\r\n                      />\r\n                    )}\r\n\r\n                    <Box sx={{ width: { xs: \"100%\", md: \"fit-content\" } }}>\r\n                      <CardMedia\r\n                        component=\"img\"\r\n                        height=\"160\"\r\n                        sx={{\r\n                          borderRadius: \"12px\",\r\n                          width: { xs: \"100%\", md: \"250px\" },\r\n                        }}\r\n                        image={room.roomImages}\r\n                        alt={room.roomCategory}\r\n                      />\r\n\r\n                      <Typography\r\n                        variant=\"h6\"\r\n                        mt={1.5}\r\n                        fontWeight={\"bold\"}\r\n                        sx={{\r\n                          background:\r\n                            selectedRoom?.id === room.id ? color.firstColor : \"transparent\",\r\n                          ml: -2,\r\n                          pl: 2,\r\n                          borderRadius: \"0px 4px 4px 0px\",\r\n                          color: selectedRoom?.id === room.id ? color.thirdColor : color.firstColor,\r\n                          mb: selectedRoom?.id === room.id ? 1 : 0,\r\n                          width: { xs: \"fit-content\", md: \"100%\" },\r\n                          pr: { xs: 2, md: 0 },\r\n                          mt: { xs: 2, md: 1 },\r\n                          transition: \"all 0.3s\",\r\n                        }}\r\n                      >\r\n                        {room.roomCategory}\r\n                      </Typography>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"flex-start\",\r\n                          flexWrap: \"wrap\",\r\n                          justifyContent: \"flex-start\",\r\n                          gap: \"4px\",\r\n                        }}\r\n                      >\r\n                        <Typography variant=\"body2\">Room Size : {room.roomSize} sqft</Typography>\r\n\r\n                        {showRoomDetails && (\r\n                          <>\r\n                            <Typography variant=\"body2\">\r\n                              Standard Room Occupancy : {room.standardRoomOccupancy} head(s)\r\n                            </Typography>\r\n                            <Typography variant=\"body2\">No. Of Free Children Allowed : {room.numberOfFreeChildren}</Typography>\r\n\r\n                            <Typography variant=\"body2\">Max Room Occupancy : {room.maxRoomOccupancy} head(s)</Typography>\r\n\r\n                            <Typography variant=\"body2\">Price per Additional Adult : ₹{room.additionalGuestRate}</Typography>\r\n                            <Typography variant=\"body2\">Price per Additional Child : ₹{room.additionalChildRate}</Typography>\r\n                          </>\r\n                        )}\r\n                        <Button\r\n                          sx={{\r\n                            textTransform: \"none\",\r\n                            fontSize: \"12px\",\r\n                            p: 0,\r\n                            minWidth: 0,\r\n                            ml: 0.2,\r\n                            color: color.firstColor,\r\n                          }}\r\n                          onClick={() => setShowRoomDetails(!showRoomDetails)}\r\n                        >\r\n                          {showRoomDetails ? \"Show less\" : \"...More\"}\r\n                        </Button>\r\n                      </div>\r\n                    </Box>\r\n\r\n                    <List\r\n                      sx={{\r\n                        py: 0,\r\n                        mt: 1,\r\n                        width: \"100%\",\r\n                        pb: { xs: 0, md: \"80px\" },\r\n                      }}\r\n                    >\r\n                      <RoomAmenities key={room.id} room={room} />\r\n                    </List>\r\n\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-around\",\r\n                        gap: \"6px\",\r\n                        position: { xs: \"unset\", md: \"absolute\" },\r\n                        bottom: 16,\r\n                        right: 16,\r\n                        margin: \"auto\",\r\n                        marginTop: \"20px\",\r\n                      }}\r\n                    >\r\n                      {((bookingType || \"\").toLowerCase() === \"hourly\"\r\n                        ? [\"rateFor3Hour\", \"rateFor6Hour\", \"rateFor12Hour\"]\r\n                        : [\"rateFor1Night\"]\r\n                      ).map((slotKey) => {\r\n                        const slotLabel = (bookingType === \"hourly\"\r\n                          ? slotKey.replace(\"rateFor\", \"\").replace(\"Hour\", \"\") + \"hrs\"\r\n                          : \"Per Night\"\r\n                        ) as string;\r\n                        const price = Number(room[slotKey as keyof typeof room] ?? 0);\r\n                        const breakdown = calculatePriceBreakdown(price, couponApplied);\r\n                        const { finalPrice, platformFee, gstTotalIncludingGateway } = breakdown as any;\r\n\r\n                        return (\r\n                          <StyledToggleButton\r\n                            key={slotKey}\r\n                            value={slotLabel}\r\n                            selected={selectedSlot.roomId === room.id && selectedSlot.slot === slotKey}\r\n                            onClick={() => handleSlotSelection(room.id, slotKey)}\r\n                            style={{ borderColor: color.forthColor }}\r\n                          >\r\n                            <Typography\r\n                              px={1}\r\n                              py={0.5}\r\n                              sx={{\r\n                                fontSize: { xs: \"8px\", md: \"12px\" },\r\n                                lineHeight: 1.4,\r\n                              }}\r\n                            >\r\n                              <span style={{ fontSize: \"18px\", fontWeight: 600 }}>{slotLabel}</span>\r\n                              <br />\r\n                              ₹ {finalPrice.toFixed(0)}\r\n                              <br />\r\n                              Incl. ₹{(platformFee + gstTotalIncludingGateway).toFixed(0)} fees & GST\r\n                            </Typography>\r\n                          </StyledToggleButton>\r\n                        );\r\n                      })}\r\n                    </Box>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          <TabPanel value={value} index={1}>\r\n            <Box>\r\n              {hotel.extraService && (\r\n                <>\r\n                  <Typography\r\n                    sx={{\r\n                      fontFamily: \"CustomFontB\",\r\n                      fontSize: \"16px\",\r\n                      color: color.paperColor,\r\n                    }}\r\n                  >\r\n                    Extra Services\r\n                  </Typography>\r\n                  <Typography mb={2}>{hotel.extraService}</Typography>\r\n                </>\r\n              )}\r\n\r\n              <Typography\r\n                sx={{\r\n                  fontFamily: \"CustomFontB\",\r\n                  fontSize: \"16px\",\r\n                  color: color.paperColor,\r\n                }}\r\n              >\r\n                Amenities\r\n              </Typography>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  gap: 2,\r\n                  mt: 2,\r\n                  p: 2,\r\n                  px: 4,\r\n                  pt: 3,\r\n                  backgroundColor: \"rgba(93, 93, 93, 0.14)\",\r\n                  justifyContent: \"space-around\",\r\n                  borderRadius: \"12px\",\r\n                  width: \"fit-content\",\r\n                }}\r\n              >\r\n                {Array.from(new Set<string>(hotel?.rooms?.flatMap((room: any) => room.amenities) || []))\r\n                  .slice(0, 5)\r\n                  .map((amenity: string, index: number) => (\r\n                    <div\r\n                      key={index}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"flex-start\",\r\n                      }}\r\n                    >\r\n                      <Chip\r\n                        icon={\r\n                          <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n                            {React.cloneElement(amenityIcons[amenity] || <AddCircleOutline />, {\r\n                              sx: {\r\n                                fontSize: { xs: 26, md: 30 },\r\n                                color: color.paperColor,\r\n                              },\r\n                            })}\r\n                          </Box>\r\n                        }\r\n                        size=\"small\"\r\n                        sx={{ bgcolor: \"transparent\" }}\r\n                      />\r\n                      <Typography sx={{ fontSize: { xs: \"10px\", md: \"14px\" } }}>{amenity}</Typography>\r\n                    </div>\r\n                  ))}\r\n              </Box>\r\n            </Box>\r\n          </TabPanel>\r\n          <TabPanel value={value} index={2}>\r\n            <Typography mb={2}>{hotel.propertyPolicy}</Typography>\r\n          </TabPanel>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HotelDetails;\r\n\r\nconst StyledToggleButton = styled(ToggleButton)(({ theme }) => ({\r\n  borderRadius: \"4px\",\r\n  textTransform: \"none\",\r\n  fontSize: \"12px\",\r\n  padding: \"0px 10px\",\r\n  fontWeight: 600,\r\n  border: \"1px solid rgba(61, 61, 61, 0.4)\",\r\n  \"&.Mui-selected\": {\r\n    background: color.background,\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nconst TabPanel = ({\r\n  children,\r\n  value,\r\n  index,\r\n}: {\r\n  children: React.ReactNode;\r\n  value: number;\r\n  index: number;\r\n}) => {\r\n  return (\r\n    <div hidden={value !== index}>\r\n      {value === index && (\r\n        <Box p={1} mt={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":["amenityIcons","_jsx","PoolIcon","fontSize","Gym","FitnessCenterIcon","WifiIcon","BeachAccessIcon","Breakfast","FreeBreakfastIcon","Parking","LocalParkingIcon","Spa","SpaIcon","Restaurant","LocalDiningIcon","AirportShuttleIcon","BusinessCenterIcon","PetsIcon","Bar","LocalBarIcon","RoomServiceIcon","TV","TvIcon","AcUnitIcon","LocalLaundryServiceIcon","ChildCareIcon","KingBedIcon","Casino","CasinoIcon","DirectionsCarIcon","NightlifeIcon","SportsTennisIcon","OutdoorGrillIcon","FireExtinguisherIcon","amenitiesOptions","roomTypes","value","label","details","calculatePriceBreakdown","basePrice","couponApply","arguments","length","undefined","numericBase","Number","initialPlatformFee","platformFee","couponDiscount","gstOnBase","gstOnPlatform","gstTotalIncludingGateway","gatewayFee","finalPrice","Math","min","platformFeeAfterCoupon","max","HotelDetails","_queryParams$get","_queryParams$get2","_queryParams$get3","_queryParams$get4","_queryParams$get5","_queryParams$get6","_hotel$rooms$","_hotel$rooms$0$id","_hotel$rooms","_hotel$rooms$2","_selectedRoom$selecte","_hotel$ratings","_hotel$ratings2","_hotel$ratings$rating","_hotel$ratings3","_hotel$ratings$rating2","_hotel$ratings4","_hotel$reviews","_hotel$rooms2","_hotel$rooms2$","_selectedRoom$id","_hotel$rooms3","location","useLocation","queryParams","URLSearchParams","search","bookingType","get","checkinTime","checkinDate","checkOutDate","parsedRooms","roomsCountParam","isFinite","floor","adults","children","hotel","state","hotelData","rooms","propertyDesc","description","propertyImages","nights","computeNights","toLowerCase","inDate","dayjs","outDate","isValid","diff","urlNights","selectedRoom","setSelectedRoom","useState","selectedSlot","setSelectedSlot","roomId","id","slot","useEffect","handleSlotSelection","room","find","r","showRoomDetails","setShowRoomDetails","expanded","setExpanded","isSticky","setIsSticky","stopPosition","setStopPosition","handleScroll","boxA","document","getElementById","boxB","boxC","boxBRect","getBoundingClientRect","boxARect","bottom","window","innerHeight","addEventListener","removeEventListener","position","setPosition","boxRef","useRef","observer","IntersectionObserver","_ref","entry","isIntersecting","threshold","current","observe","unobserve","setValue","showDetails","setShowDetails","isMobile","useMediaQuery","navigate","useNavigate","couponCode","setCouponCode","couponApplied","setCouponApplied","couponError","setCouponError","unitBasePrice","unitBreakdown","roomsMultiplier","perStayMultiplier","totalMultiplier","totalBreakdown","displayBase","displayBasePlus700","displayCombinedBasePlatform","displayGstTotal","Box","sx","background","color","thirdColor","px","xs","md","py","_jsxs","ref","BoxStyle","top","right","display","justifyContent","alignItems","gap","Typography","variant","fontWeight","firstColor","lineHeight","textAlign","getRatingText","ratings","rating","style","reviews","getRatingColor","borderRadius","boxShadow","StarRounded","propertyName","fontFamily","paperColor","mt","address","pr","mx","ImageGrid","mb","Star","toFixed","maxWidth","substring","Button","textTransform","p","ml","minWidth","onClick","flexWrap","pt","backgroundColor","width","amenities","slice","map","amenity","index","flexDirection","Chip","icon","React","AddCircleOutline","size","bgcolor","maxHeight","pb","zIndex","m","transition","overflow","overflowY","scrollY","left","ExpandMore","ExpandLess","_Fragment","height","border","borderColor","forthColor","format","Divider","opacity","borderWidth","orientation","flexItem","FormControl","component","RadioGroup","onChange","e","target","StyledLabel","checked","control","CustomRadio","roomCategory","marginTop","slotKey","_selectedRoom$slotKey","slotLabel","replace","price","breakdown","StyledToggleButton","selected","textDecoration","padding","flex","placeholder","code","trim","toast","error","toUpperCase","success","applyCoupon","whiteSpace","CustomButton","customStyles","queryString","toString","pricingDetails","gstTotal","totalPrice","Tabs","event","newValue","Tab","TabPanel","Grid","container","spacing","item","Card","CheckCircle","CardMedia","image","roomImages","alt","pl","roomSize","standardRoomOccupancy","numberOfFreeChildren","maxRoomOccupancy","additionalGuestRate","additionalChildRate","List","RoomAmenities","margin","_room","extraService","Array","from","Set","flatMap","propertyPolicy","styled","ToggleButton","_ref2","theme","_ref3","hidden"],"sourceRoot":""}