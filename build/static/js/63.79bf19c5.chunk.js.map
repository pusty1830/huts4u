{"version":3,"file":"static/js/63.79bf19c5.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Visibility.js","../node_modules/@mui/icons-material/esm/VisibilityOff.js","pages/Account/Signup.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3\"\n}), 'Visibility');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z\"\n}), 'VisibilityOff');","import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  IconButton,\r\n  InputAdornment,\r\n  Typography,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport { useFormik } from \"formik\";\r\nimport { useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport CustomButton from \"../../components/CustomButton\";\r\nimport { LoginTextField } from \"../../components/style\";\r\nimport { hotelRegister } from \"../../services/services\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { LoginImage } from \"../../Image/Image\";\r\n\r\nconst Signup = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false); // <-- loader state\r\n  const navigate = useNavigate();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      fullName: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      fullName: Yup.string().required(\"Full Name is required\"),\r\n      email: Yup.string()\r\n        .email(\"Invalid email format\")\r\n        .required(\"Email is required\"),\r\n      password: Yup.string()\r\n        .min(6, \"Password must be at least 6 characters\")\r\n        .matches(/[A-Z]/, \"Password must contain at least one uppercase letter\")\r\n        .matches(/[a-z]/, \"Password must contain at least one lowercase letter\")\r\n        .matches(/\\d/, \"Password must contain at least one number\")\r\n        .matches(\r\n          /[!@#$%^&*(),.?\":{}|<>]/,\r\n          \"Password must contain at least one special character\"\r\n        )\r\n        .required(\"Password is required\"),\r\n      confirmPassword: Yup.string()\r\n        .oneOf([Yup.ref(\"password\"), undefined], \"Passwords must match\")\r\n        .required(\"Confirm Password is required\"),\r\n      phone: Yup.string()\r\n        .matches(/^[0-9]{10}$/, \"Phone number must be exactly 10 digits\")\r\n        .required(\"Phone number is required\"),\r\n    }),\r\n    onSubmit: async (values, { setSubmitting, setErrors, resetForm }) => {\r\n      setLoading(true);\r\n      setSubmitting(true);\r\n      try {\r\n        const payLoad = {\r\n          userName: values.fullName,\r\n          email: values.email,\r\n          phoneNumber: values.phone,\r\n          password: values.password,\r\n          role: \"Hotel\",\r\n        };\r\n\r\n        const res = await hotelRegister(payLoad);\r\n        // Prefer server message if present\r\n        const successMsg = res?.data?.msg || \"Registered successfully\";\r\n        toast.success(successMsg);\r\n\r\n        resetForm();\r\n        navigate(\"/login\");\r\n      } catch (err: any) {\r\n        // Try to read different shapes of server errors\r\n        const serverMsg =\r\n          err?.response?.data?.msg ||\r\n          err?.response?.data?.message ||\r\n          err?.message ||\r\n          \"Something went wrong. Please try again.\";\r\n\r\n        // If server returned field-level errors, map them to Formik fields\r\n        // Example server shape: { errors: { email: \"Email already used\" } }\r\n        const fieldErrors = err?.response?.data?.errors;\r\n        if (fieldErrors && typeof fieldErrors === \"object\") {\r\n          setErrors(fieldErrors);\r\n        }\r\n\r\n        toast.error(serverMsg);\r\n        console.error(\"Signup error:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n        setSubmitting(false);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        margin: \"auto\",\r\n        minHeight: \"calc(100vh - 64px)\",\r\n        background: `url('${LoginImage}')`,\r\n        backgroundSize: \"cover\",\r\n        backgroundPosition: \"bottom\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          background: \"rgba(0, 0, 0, 0.15)\",\r\n          borderRadius: 2,\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%,-50%)\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n        }}\r\n      ></Box>\r\n      <Box\r\n        sx={{\r\n          maxWidth: 450,\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          zIndex: 2,\r\n          position: \"relative\",\r\n          my: 4,\r\n          p: 2,\r\n        }}\r\n      >\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" mb={1} color=\"white\">\r\n          CREATE ACCOUNT\r\n        </Typography>\r\n        <Typography fontSize={\"14px\"} mb={4} color=\"white\">\r\n          Join us today! Sign up to get started\r\n        </Typography>\r\n\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <LoginTextField\r\n            fullWidth\r\n            label=\"Full Name\"\r\n            name=\"fullName\"\r\n            value={formik.values.fullName}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.fullName && Boolean(formik.errors.fullName)}\r\n            helperText={formik.touched.fullName && formik.errors.fullName}\r\n          />\r\n\r\n          <LoginTextField\r\n            fullWidth\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={formik.values.email}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.email && Boolean(formik.errors.email)}\r\n            helperText={formik.touched.email && formik.errors.email}\r\n          />\r\n          <LoginTextField\r\n            fullWidth\r\n            label=\"Phone No.\"\r\n            name=\"phone\"\r\n            type=\"text\"\r\n            value={formik.values.phone}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.phone && Boolean(formik.errors.phone)}\r\n            helperText={formik.touched.phone && formik.errors.phone}\r\n          />\r\n\r\n          <LoginTextField\r\n            fullWidth\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={formik.values.password}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.password && Boolean(formik.errors.password)}\r\n            helperText={formik.touched.password && formik.errors.password}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    style={{ color: \"white\" }}\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    edge=\"end\"\r\n                  >\r\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <LoginTextField\r\n            fullWidth\r\n            label=\"Confirm Password\"\r\n            name=\"confirmPassword\"\r\n            type={showConfirmPassword ? \"text\" : \"password\"}\r\n            value={formik.values.confirmPassword}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            error={\r\n              formik.touched.confirmPassword &&\r\n              Boolean(formik.errors.confirmPassword)\r\n            }\r\n            helperText={\r\n              formik.touched.confirmPassword && formik.errors.confirmPassword\r\n            }\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    style={{ color: \"white\" }}\r\n                    onClick={() =>\r\n                      setShowConfirmPassword(!showConfirmPassword)\r\n                    }\r\n                    edge=\"end\"\r\n                  >\r\n                    {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <CustomButton\r\n            customStyles={{\r\n              width: \"100%\",\r\n              border: \"solid 1px\",\r\n              color: \"white\",\r\n              borderRadius: \"12px\",\r\n              background: \"transparent\",\r\n              marginTop: \"10px\",\r\n            }}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={loading || formik.isSubmitting} // disable when loading\r\n          >\r\n            {loading ? (\r\n              // small spinner when loading\r\n              <CircularProgress size={20} />\r\n            ) : (\r\n              \"Sign Up\"\r\n            )}\r\n          </CustomButton>\r\n\r\n          <Button\r\n            fullWidth\r\n            sx={{ textTransform: \"none\", mt: 2, color: \"white\" }}\r\n            onClick={() => navigate(\"/login\")}\r\n            disabled={loading}\r\n          >\r\n            Already have an account?\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n"],"names":["createSvgIcon","_jsx","d","Signup","showPassword","setShowPassword","useState","showConfirmPassword","setShowConfirmPassword","loading","setLoading","navigate","useNavigate","formik","useFormik","initialValues","fullName","email","phone","password","confirmPassword","validationSchema","Yup","required","min","matches","oneOf","undefined","onSubmit","async","values","_ref","setSubmitting","setErrors","resetForm","_res$data","payLoad","userName","phoneNumber","role","res","hotelRegister","successMsg","data","msg","toast","success","err","_err$response","_err$response$data","_err$response2","_err$response2$data","_err$response3","_err$response3$data","serverMsg","response","message","fieldErrors","errors","error","console","_jsxs","Box","sx","margin","minHeight","background","LoginImage","backgroundSize","backgroundPosition","display","justifyContent","alignItems","children","borderRadius","position","top","left","transform","height","width","maxWidth","textAlign","zIndex","my","p","Typography","variant","fontWeight","mb","color","fontSize","handleSubmit","LoginTextField","fullWidth","label","name","value","onChange","handleChange","onBlur","handleBlur","touched","Boolean","helperText","type","InputProps","endAdornment","InputAdornment","IconButton","style","onClick","edge","VisibilityOff","Visibility","CustomButton","customStyles","border","marginTop","disabled","isSubmitting","CircularProgress","size","Button","textTransform","mt"],"sourceRoot":""}