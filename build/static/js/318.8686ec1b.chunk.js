"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[318],{29318:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var a=r(19252),s=r(81637),n=r(94496),o=r(7353),i=r(35721),l=r(30681),d=r(65043),c=r(58387),x=r(98610),u=r(51347),m=r(34535),h=r(98206),A=r(92532),g=r(72372);function f(e){return(0,g.Ay)("MuiListItemAvatar",e)}(0,A.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var p=r(70579);const v=(0,m.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),y=d.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiListItemAvatar"}),{className:a,...s}=r,n=d.useContext(u.A),o={...r,alignItems:n.alignItems},i=(e=>{const{alignItems:t,classes:r}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,x.A)(a,f,r)})(o);return(0,p.jsx)(v,{className:(0,c.A)(i.root,a),ownerState:o,ref:t,...s})}));var j=r(81045),b=r(48734),w=r(26240),S=r(69995);const I=()=>{const[e,t]=(0,d.useState)([]),[r,c]=(0,d.useState)(!0),[x,u]=(0,d.useState)(null),m=(0,w.A)();return(0,d.useEffect)((()=>{(async()=>{try{var e,r;c(!0),u(null);const a={data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]},s=await(0,S.VA)(a);if(null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.rows){const e=s.data.data.rows.map((e=>({id:e.id,sender:e.senderName||"Unknown Sender",avatar:e.senderAvatar||void 0,text:e.content||"No content",createdAt:e.createdAt,unread:"UNREAD"===e.status})));t(e)}else t([]),u("No messages found")}catch(x){console.error("Error fetching messages:",x),u("Failed to load messages"),t([])}finally{c(!1)}})()}),[]),r?(0,p.jsx)(a.A,{maxWidth:"lg",sx:{py:4,display:"flex",justifyContent:"center"},children:(0,p.jsx)(s.A,{})}):x?(0,p.jsxs)(a.A,{maxWidth:"lg",sx:{py:4},children:[(0,p.jsx)(n.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Messages"}),(0,p.jsx)(n.A,{color:"error",children:x})]}):(0,p.jsxs)(a.A,{maxWidth:"lg",sx:{py:4},children:[(0,p.jsx)(n.A,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Messages"}),(0,p.jsx)(o.A,{sx:{bgcolor:"background.paper",borderRadius:m.shape.borderRadius,boxShadow:m.shadows[1],overflow:"hidden"},children:e.length>0?(0,p.jsx)(i.A,{children:e.map((e=>(0,p.jsxs)(l.Ay,{divider:!0,children:[(0,p.jsx)(y,{children:(0,p.jsx)(j.A,{alt:e.sender,src:e.avatar})}),(0,p.jsx)(b.A,{primary:(0,p.jsxs)(o.A,{display:"flex",justifyContent:"space-between",children:[(0,p.jsx)(n.A,{fontWeight:e.unread?"bold":"normal",color:e.unread?"text.primary":"text.secondary",children:e.sender}),(0,p.jsx)(n.A,{variant:"caption",color:e.unread?"primary.main":"text.secondary",children:new Date(e.createdAt).toLocaleTimeString()})]}),secondary:(0,p.jsx)(n.A,{variant:"body2",color:e.unread?"text.primary":"text.secondary",children:e.text})})]},e.id)))}):(0,p.jsx)(o.A,{p:4,textAlign:"center",children:(0,p.jsx)(n.A,{color:"text.secondary",children:"No messages available"})})})]})}}}]);
//# sourceMappingURL=318.8686ec1b.chunk.js.map