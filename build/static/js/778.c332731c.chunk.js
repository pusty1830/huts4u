"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[778],{26600:(e,t,r)=>{r.d(t,{A:()=>h});var i=r(65043),o=r(58387),n=r(98610),l=r(94496),a=r(34535),s=r(98206),d=r(87034),c=r(2563),p=r(70579);const u=(0,a.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),h=i.forwardRef((function(e,t){const r=(0,s.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:a,...h}=r,x=r,g=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},d.t,t)})(x),{titleId:v=a}=i.useContext(c.A);return(0,p.jsx)(u,{component:"h2",className:(0,o.A)(g.root,l),ownerState:x,ref:t,variant:"h6",id:a??v,...h})}))},39336:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(65043),o=r(58387),n=r(98610),l=r(39768),a=r(34535),s=r(56262),d=r(98206),c=r(5658),p=r(70579);const u=(0,a.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,s.A)((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,l.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),h=(0,a.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,s.A)((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),x=i.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:l,className:a,orientation:s="horizontal",component:x=(l||"vertical"===s?"div":"hr"),flexItem:g=!1,light:v=!1,role:m=("hr"!==x?"separator":void 0),textAlign:f="center",variant:b="fullWidth",...A}=r,y={...r,absolute:i,component:x,flexItem:g,light:v,orientation:s,role:m,textAlign:f,variant:b},w=(e=>{const{absolute:t,children:r,classes:i,flexItem:o,light:l,orientation:a,textAlign:s,variant:d}=e,p={root:["root",t&&"absolute",d,l&&"light","vertical"===a&&"vertical",o&&"flexItem",r&&"withChildren",r&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,n.A)(p,c.K,i)})(y);return(0,p.jsx)(u,{as:x,className:(0,o.A)(w.root,a),role:m,ref:t,ownerState:y,"aria-orientation":"separator"!==m||"hr"===x&&"vertical"!==s?void 0:s,...A,children:l?(0,p.jsx)(h,{className:w.wrapper,ownerState:y,children:l}):null})}));x&&(x.muiSkipListHighlight=!0);const g=x},87778:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var i=r(59662),o=r(70579);const n=(0,i.A)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22zM8 7.5V4h8v3.5l-4 4z"}),"HourglassBottom");var l=r(83462),a=r(26600),s=r(35316),d=r(7353),c=r(94496),p=r(76641),u=r(11906),h=r(68903),x=r(12110),g=r(26494),v=r(39336),m=r(65043),f=r(33580),b=r(67809),A=r(59628),y=r(69995);const w=e=>{let{open:t,handleClose:r,selectedCard:i,onSubmit:n}=e;const[h,x]=(0,m.useState)((null===i||void 0===i?void 0:i.rating)||0),[g,v]=(0,m.useState)("");return(0,o.jsxs)(l.A,{open:t,onClose:r,children:[(0,o.jsxs)(a.A,{children:["Review - ",null===i||void 0===i?void 0:i.title]}),(0,o.jsx)(s.A,{children:(0,o.jsxs)(d.A,{display:"flex",flexDirection:"column",gap:2,children:[(0,o.jsx)(c.A,{children:"Rate your experience:"}),(0,o.jsx)(p.A,{value:h,onChange:(e,t)=>x(t||0)}),(0,o.jsx)(b.XY,{sx:{"& .MuiInputBase-input":{resize:"vertical"},"& textarea":{resize:"vertical"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"none",borderRadius:"12px"}}},label:"Write your review",multiline:!0,rows:4,fullWidth:!0,value:g,onChange:e=>v(e.target.value)}),(0,o.jsx)(u.A,{sx:{background:"transparent",border:"solid 2px",color:f.A.firstColor,borderColor:f.A.firstColor,borderRadius:"44px",textTransform:"none"},variant:"contained",onClick:()=>{n(i.id,h),r()},children:"Submit Review"})]})})]})},C=()=>{const[e,t]=(0,m.useState)([]),[r,i]=(0,m.useState)(!1),[l,a]=(0,m.useState)(null),s=e=>{if(!e)return"\u20b90.00";let t=Number(e);return t>1e3&&(t/=100),isNaN(t)?e:t.toLocaleString("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2})};(0,m.useEffect)((()=>{const e={data:{filter:"",userId:(0,A.F6)()},page:0,pageSize:50,order:[["createdAt","ASC"]]};(0,y.Gc)(e).then((e=>{var r,i;t((null===e||void 0===e||null===(r=e.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.rows)||[])}))}),[]);const b=e=>{const t=(e=>{try{if(null!==e&&void 0!==e&&e.checkInDateTime){const t=new Date(e.checkInDateTime);if(!isNaN(t.getTime()))return t}if(null!==e&&void 0!==e&&e.checkInDate){const t=String(e.checkInDate).replace(/[\u2018\u2019\u201C\u201D]/g,"'").trim(),r=null!==e&&void 0!==e&&e.checkInTime?String(e.checkInTime).trim():"",i=[`${t} ${r}`,`${t}T${r}`,t];for(const e of i){if(!e)continue;const t=new Date(e);if(!isNaN(t.getTime()))return t}const o=`${t.replace(/\u2019|\u2018|\u2019/g,"")} ${r}`.replace(/[\u2018\u2019\u201C\u201D]/g,""),n=new Date(o);if(!isNaN(n.getTime()))return n}return null}catch(t){return null}})(e);if(!t)return!1;const r=new Date;return t.getTime()-r.getTime()>864e5};return(0,o.jsxs)(d.A,{sx:{background:f.A.thirdColor,px:{xs:2,md:4},py:4},children:[(0,o.jsx)(c.A,{variant:"h4",fontWeight:"bold",sx:{textAlign:"center",color:f.A.firstColor,mb:2},children:"Your Bookings"}),(0,o.jsx)(h.Ay,{container:!0,spacing:2,children:e.map(((e,r)=>{var l;const m=b(e);return(0,o.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,o.jsx)(x.A,{sx:{margin:"auto",mt:2,padding:3,boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.18)",borderRadius:"12px",border:"solid 1px",borderColor:f.A.firstColor,position:"relative"},children:(0,o.jsxs)(g.A,{style:{padding:0},children:[(0,o.jsxs)(d.A,{sx:{position:"absolute",top:{xs:5,md:0},right:{xs:25,md:0},background:"checked in"===e.status||"checked out"===e.status?"Green":"pending"===e.status?"#faaf00":"Red",color:"white",px:1,borderRadius:{xs:"4px",md:"0 6px 0 6px"},py:.5,display:"flex",justifyContent:"center",alignItems:"center",gap:"6px",fontSize:"12px"},children:[e.status," "]}),(0,o.jsx)(c.A,{variant:"h6",children:null===e||void 0===e?void 0:e.hotelName}),(0,o.jsxs)(c.A,{color:"textSecondary",children:[null===e||void 0===e?void 0:e.checkInDate,", ",null===e||void 0===e?void 0:e.checkInTime,", ",null===e||void 0===e?void 0:e.geustName]}),(0,o.jsxs)(c.A,{children:[null===e||void 0===e?void 0:e.adults," Adults, ",null===e||void 0===e?void 0:e.children," Child"]}),(0,o.jsx)(c.A,{variant:"h6",sx:{marginTop:1},children:s(null===e||void 0===e?void 0:e.amountPaid)}),(0,o.jsx)(v.A,{sx:{mt:1,borderStyle:"dashed",borderColor:"grey",borderWidth:"1px"}}),"checked out"===e.status&&(0,o.jsxs)(d.A,{display:"flex",alignItems:"center",gap:1,mt:2,children:[(0,o.jsx)(u.A,{sx:{background:"transparent",border:"solid 2px",color:f.A.firstColor,borderColor:f.A.firstColor,borderRadius:"44px",textTransform:"none"},onClick:()=>(e=>{a(e),i(!0)})(e),children:"Add Review"}),(0,o.jsx)(p.A,{value:e.rating,readOnly:!0})]}),"pending"===e.status&&(0,o.jsxs)(d.A,{display:"flex",alignItems:"flex-start",mt:2,color:"#faaf00",children:[(0,o.jsx)(n,{}),(0,o.jsxs)(d.A,{sx:{ml:1,display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(c.A,{children:"Upcoming"}),(0,o.jsx)(u.A,{sx:{background:"transparent",border:"solid 2px",color:f.A.firstColor,borderColor:f.A.firstColor,borderRadius:"44px",textTransform:"none",ml:2},variant:"contained",onClick:()=>(async e=>{t((t=>t.map((t=>t.id===e.id?{...t,status:"cancelled"}:t))))})(e),disabled:!m,children:"Cancel"})]})]}),"cancelled"===e.status&&(0,o.jsx)(d.A,{mt:2,color:"red",children:(0,o.jsx)(c.A,{children:"Booking Cancelled"})})]})})},null!==(l=e.id)&&void 0!==l?l:r)}))}),l&&(0,o.jsx)(w,{open:r,handleClose:()=>{i(!1),a(null)},selectedCard:l,onSubmit:(e,r)=>{t((t=>t.map((t=>t.id===e?{...t,rating:r}:t))))}})]})}}}]);
//# sourceMappingURL=778.c332731c.chunk.js.map