{"version":3,"file":"static/js/467.6ae7dab3.chunk.js","mappings":"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","sources":["components/Payments/RanderPayments.tsx","pages/Account/LoginOtpModal.tsx","pages/BookingSummary.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { bookingConfirm, createHotelPayment, createMyPayment, postBooking, verifyPayment } from \"../../services/services\";\r\nimport { R_KEY_ID } from \"../../services/Secret\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n} from \"@mui/material\";\r\nimport color from \"../color\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getUserId, getUserName } from \"../../services/axiosClient\";\r\nimport dayjs from \"dayjs\";\r\n\r\ninterface BookingDetails {\r\n    hotel: any;\r\n    room: any;\r\n    guestInfo: {\r\n        name: string;\r\n        email: string;\r\n        phoneNumber: string;\r\n    };\r\n    timing: {\r\n        checkInDate: string;\r\n        checkInTime: string;\r\n        checkOutDate: string;\r\n        checkOutTime: string;\r\n        duration: string;\r\n    };\r\n    pricingDetails: any;\r\n    bookingType: string | null;\r\n    rooms: string | null;\r\n    adults: string | null;\r\n    children: string | null;\r\n}\r\n\r\ninterface RenderRazorpayProps {\r\n    orderDetails: any;\r\n    amount: any;\r\n    bookingDetails: BookingDetails;\r\n\r\n}\r\n\r\n\r\nconst RenderRazorpay: React.FC<RenderRazorpayProps> = ({\r\n    orderDetails,\r\n    // amount,\r\n    bookingDetails\r\n\r\n}) => {\r\n    console.log(bookingDetails)\r\n\r\n\r\n    const navigate = useNavigate();\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const loadScript = (src: string): Promise<boolean> =>\r\n        new Promise((resolve) => {\r\n            const script = document.createElement(\"script\");\r\n            script.src = src;\r\n            script.onload = () => resolve(true);\r\n            script.onerror = () => resolve(false);\r\n            document.body.appendChild(script);\r\n        });\r\n\r\n    const displayRazorpay = async () => {\r\n        const isScriptLoaded = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\r\n        if (!isScriptLoaded || !(window as any).Razorpay) {\r\n            alert(\"Failed to load Razorpay SDK.\");\r\n            return;\r\n        }\r\n\r\n        // if (!isScriptLoaded) {\r\n        //     alert(\r\n        //         \"Failed to load Razorpay SDK. Please check your internet connection.\"\r\n        //     );\r\n        //     return;\r\n        // }\r\n\r\n        // if (!(window as any).Razorpay) {\r\n        //     alert(\"Razorpay SDK is not available. Try reloading the page.\");\r\n        //     return;\r\n        // }\r\n\r\n        // console.log(orderDetails)\r\n        const options = {\r\n            key: R_KEY_ID || \"\",\r\n            amount: orderDetails.data.amount,\r\n            currency: orderDetails.data.currency,\r\n            order_id: orderDetails.data.id,\r\n            prefill: {\r\n                name: bookingDetails?.guestInfo?.name,\r\n                email: bookingDetails?.guestInfo?.email,\r\n                contact: bookingDetails?.guestInfo?.phoneNumber,\r\n            },\r\n            handler: async (response: any) => {\r\n                try {\r\n                    const res = await verifyPayment({\r\n                        orderId: response.razorpay_order_id,\r\n                        paymentId: response.razorpay_payment_id,\r\n                        signature: response.razorpay_signature,\r\n                    });\r\n                    console.log(res);\r\n                    alert(\"Payment Successful\");\r\n                    const payLoad = {\r\n                        userId: getUserId(),\r\n                        hotelId: bookingDetails?.hotel?.id,\r\n                        geustName: bookingDetails?.guestInfo?.name,\r\n                        amountPaid: orderDetails.data.amount,\r\n                        checkInDate: bookingDetails?.timing?.checkInDate,\r\n                        checkInTime: bookingDetails?.timing?.checkInTime,\r\n                        checkOutDate: bookingDetails?.timing?.checkOutDate,\r\n                        checkOutTime: bookingDetails?.timing?.checkOutTime,\r\n                        bookingType: bookingDetails?.bookingType,\r\n                        geustDetails: bookingDetails?.guestInfo,\r\n                        adults: bookingDetails?.adults,\r\n                        children: bookingDetails?.children,\r\n                        hotelName: bookingDetails?.hotel?.propertyName,\r\n                        status: 'pending',\r\n                        paymentId: res?.data?.data?.id\r\n                    }\r\n                    console.log(payLoad)\r\n\r\n\r\n                    postBooking(payLoad).then((res) => {\r\n                        const payoutPayLoad = {\r\n                            userId: getUserId(),\r\n                            paymentId: res?.data?.data?.id,\r\n                            hotelId: bookingDetails?.hotel?.id,                    // integer (FK)\r\n                            amountPaise: bookingDetails?.pricingDetails?.totalPrice * 100,             // ₹2,500.00 -> 250000 paise\r\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,                 // platform/gateway total fees -> 250.00 -> 25000 paise\r\n                            netAmountPaise: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase) * 100,          // amountPaise - feePaise -> 2250.00 -> 225000 paise\r\n                            currency: \"INR\",\r\n                            bookingsIncluded: [\r\n                                res?.data?.data?.id\r\n                            ],\r\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\r\n                            status: \"pending\",\r\n                            transactionRef: null,\r\n                            gatewayResponse: null,\r\n                            failureReason: null,\r\n                            processedBy: null,\r\n                            note: \"Daily PayOut \",\r\n                        };\r\n\r\n                        // Example payload for a payment attempt (gateway)\r\n                        const mypaymentPayload = {\r\n                            userId: getUserId(),\r\n                            paymentId: res?.data?.data?.id,\r\n                            hotelId: bookingDetails?.hotel?.id,\r\n\r\n                            // amounts in paise\r\n                            amountPaise: bookingDetails?.pricingDetails?.totalPrice * 100,        // ₹2250.00 gross\r\n                            feePaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,            // ₹250.00 fee\r\n                            netmyAmountPaise: (bookingDetails?.pricingDetails?.platformFee + bookingDetails?.pricingDetails?.gstOnPlatform) * 100,   // ₹2000.00 net to vendor\r\n\r\n                            currency: \"INR\",\r\n\r\n                            bookingsIncluded: [res?.data?.data?.id],   // array of booking IDs\r\n                            scheduledAt: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\r\n                            initiatedAt: new Date(),          // JS Date object\r\n                            processedAt: null,                // will fill after payment gateway finishes\r\n\r\n                            status: \"pending\",                // pending | processing | completed | failed | cancelled\r\n\r\n                            transactionRef: null,             // will fill after gateway\r\n                            gatewayResponse: null,            // store raw gateway JSON later\r\n                            failureReason: null,\r\n\r\n                            processedBy: null,                // admin user ID if needed\r\n                            note: \"Auto payout settlement\",   // optional\r\n                        };\r\n                        createMyPayment(mypaymentPayload).then((res) => {\r\n                            console.log(\"My Payment is scheduled\");\r\n                        }).catch((err) => {\r\n                            console.log(\"error while creating the mypayment\", err)\r\n                        })\r\n                        createHotelPayment(payoutPayLoad).then((res) => {\r\n                            console.log(\"My Payout is scheduled\");\r\n                        }).catch((err) => {\r\n                            console.log(\"error while creating the PayOut \", err);\r\n                        })\r\n\r\n                        toast(res?.data?.msg)\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    })\r\n\r\n                    const messagetamplet = {\r\n                        guestName: bookingDetails?.guestInfo?.name,\r\n                        location: bookingDetails?.hotel?.address,\r\n                        hotelName: bookingDetails?.hotel?.propertyName,\r\n                        checkInDate: dayjs(bookingDetails?.timing?.checkInDate, \"DD MMM YYYY\").toDate(),\r\n                        checkInTime: bookingDetails?.timing?.checkInTime,\r\n                        phone: bookingDetails?.guestInfo?.phoneNumber?.substring(2),\r\n                        amountPaid: (bookingDetails?.pricingDetails?.basePrice + bookingDetails?.pricingDetails?.gstOnBase),\r\n                        adults: bookingDetails?.adults,\r\n                        children: bookingDetails?.children,\r\n                        rooms: 1,\r\n                        checkOutTime: bookingDetails?.timing?.checkOutTime,\r\n                        checkOutDate: dayjs(bookingDetails?.timing?.checkOutDate, \"DD MMM YYYY\").toDate(),\r\n                        hotelEmail: bookingDetails?.hotel?.receptionEmail\r\n\r\n\r\n                    }\r\n                    console.log(messagetamplet)\r\n                    bookingConfirm(messagetamplet).then((res) => {\r\n                        console.log(\"message send to the wp\", res)\r\n                    }).catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                    navigate('/my-bookings');\r\n\r\n                } catch (error) {\r\n                    alert(\"Payment verification failed. Please try again.\");\r\n                }\r\n            },\r\n        };\r\n\r\n        const razorpay = new (window as any).Razorpay(options);\r\n        razorpay.open();\r\n    };\r\n\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"xs\"\r\n                fullWidth\r\n                sx={{\r\n                    \"& .MuiPaper-root\": {\r\n                        padding: \"8px\",\r\n                        borderRadius: \"16px\",\r\n                    },\r\n                }}\r\n            >\r\n                <DialogTitle>Complete Your Payment</DialogTitle>\r\n                <DialogContent>\r\n                    <p>Ensure your payment details are correct before proceeding.</p>\r\n                </DialogContent>\r\n                <DialogActions style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                    <Button\r\n                        style={{\r\n                            textTransform: \"none\",\r\n                            color: \"black\",\r\n                        }}\r\n                        onClick={handleClose}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={displayRazorpay}\r\n                        variant=\"contained\"\r\n                        style={{\r\n                            background: color.firstColor,\r\n                            fontSize: \"18px\",\r\n                            textTransform: \"none\",\r\n                            border: \"solid 1px white\",\r\n                        }}\r\n                        sx={{\r\n                            padding: \"2px 10px\",\r\n                            transition: \"all 0.4s ease\",\r\n                            \"&:hover\": {\r\n                                paddingRight: \"20px\",\r\n                            },\r\n                        }}\r\n                    >\r\n                        Proceed to Pay\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RenderRazorpay;\r\n","import { Edit } from \"@mui/icons-material\";\r\nimport { Box, Button, Grid, Modal, TextField, Typography } from \"@mui/material\";\r\nimport { useRef, useState } from \"react\";\r\nimport \"react-phone-input-2/lib/material.css\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport color from \"../../components/color\";\r\nimport { verifyOTP } from \"../../services/services\";\r\nimport \"./Login.css\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  setCurrentAccessToken,\r\n  setCurrentUser,\r\n} from \"../../services/axiosClient\";\r\n\r\ninterface LoginOtpModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onVerificationSuccess: () => void;\r\n  phone: string;\r\n  name: string;\r\n  email: string;\r\n  token: string;\r\n}\r\n\r\nconst LoginOtpModal = ({ open,\r\n  onClose,\r\n  onVerificationSuccess,\r\n  phone,\r\n  name,\r\n  email,\r\n  token\r\n}: LoginOtpModalProps) => {\r\n  const [step, setStep] = useState(1);\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [countryCode, setCountryCode] = useState(\"in\");\r\n  const [sessionId, setSessionId] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const location = useLocation();\r\n  // const state = location.state;\r\n  // const queryParams = new URLSearchParams(location.search);\r\n  // const phone = queryParams.get(\"phone\");\r\n  // const name = queryParams.get(\"name\");\r\n  // const session = queryParams.get(\"token\");\r\n  // const email = queryParams.get(\"email\");\r\n\r\n  const [otp, setOtp] = useState(Array(4).fill(\"\"));\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  const otpRefs = Array.from({ length: 4 }, () =>\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    useRef<HTMLInputElement>(null)\r\n  );\r\n\r\n  const isModalOpen =\r\n    new URLSearchParams(location.search).get(\"login\") === \"true\";\r\n\r\n  const handleClose = () => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n\r\n    searchParams.delete(\"login\");\r\n    searchParams.delete(\"phone\");\r\n    searchParams.delete(\"name\");\r\n    searchParams.delete(\"email\");\r\n    searchParams.delete(\"token\");\r\n\r\n    navigate(`${location.pathname}?${searchParams.toString()}`, {\r\n      replace: true,\r\n      state: { ...location.state },\r\n    });\r\n  };\r\n\r\n  // const phoneFormik = useFormik({\r\n  //   initialValues: { phone: \"\" },\r\n  //   validationSchema: Yup.object({\r\n  //     phone: Yup.string()\r\n  //       .required(\"Phone number is required\")\r\n  //       .matches(/^\\d+$/, \"Only numbers allowed\"),\r\n  //   }),\r\n  //   onSubmit: (values) => {\r\n\r\n  //   },\r\n  // });\r\n\r\n  const handleOtpChange = (index: number, value: string) => {\r\n    if (!/^\\d*$/.test(value)) return;\r\n    const newOtp = [...otp];\r\n    newOtp[index] = value;\r\n    setOtp(newOtp);\r\n\r\n    if (value && index < 3) {\r\n      otpRefs[index + 1].current?.focus();\r\n    }\r\n  };\r\n\r\n  const handleOtpSubmit = () => {\r\n    if (otp.join(\"\").length === 4) {\r\n      verifyOTP({\r\n        otp: otp.join(\"\"),\r\n        sessionId: token,\r\n        phone,\r\n        name,\r\n        email\r\n      })\r\n        .then((res) => {\r\n          setCurrentAccessToken(res?.data?.data?.token);\r\n          setCurrentUser(res?.data?.data?.user);\r\n          toast.success(\"Verified successfully!\");\r\n          onVerificationSuccess(); // Call the success callback\r\n          onClose();\r\n        })\r\n        .catch((err) => {\r\n          toast.error(\"Verification failed\");\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal open={open} onClose={onClose}>\r\n      <Box sx={modalStyle}>\r\n        {/* {step === 1 ? (\r\n          <form\r\n            onSubmit={phoneFormik.handleSubmit}\r\n            style={{ height: \"100%\", borderRadius: \"12px\" }}\r\n          >\r\n            <div\r\n              className=\"subscribe\"\r\n              style={{\r\n                background: color.background,\r\n                color: \"white\",\r\n                position: \"relative\",\r\n                boxShadow: \"-4px -4px 10px rgba(255, 255, 255, 0.36) inset\",\r\n                borderRadius: \"12px\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              <Box\r\n                sx={{\r\n                  background: \"url('/assets/footer.webp')\",\r\n                  backgroundSize: { xs: \"70%\", md: \"70%\" },\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  backgroundPosition: \"bottom left\",\r\n                  position: \"absolute\",\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                }}\r\n              ></Box>\r\n\r\n              <Typography variant=\"h6\">Enter Phone Number</Typography>\r\n              <Typography\r\n                mb={4}\r\n                variant=\"body2\"\r\n                sx={{ fontSize: \"12px\", textAlign: \"left\", maxWidth: \"80%\" }}\r\n              >\r\n                Login to create a booking!\r\n              </Typography>\r\n              <PhoneInput\r\n                country={\"in\"}\r\n                value={phoneFormik.values.phone}\r\n                onChange={(value, country) => {\r\n                  const countryData = country as CountryData;\r\n                  setCountryCode(countryData.countryCode);\r\n                  phoneFormik.setFieldValue(\r\n                    \"phone\",\r\n                    value.replace(/[^0-9]/g, \"\")\r\n                  );\r\n                }}\r\n                inputStyle={{\r\n                  width: \"100%\",\r\n                  fontFamily: \"CustomFontM\",\r\n                  color: \"black\",\r\n                  background: color.thirdColor,\r\n                }}\r\n                containerStyle={{ position: \"relative\" }}\r\n              />\r\n              {phoneFormik.touched.phone && phoneFormik.errors.phone && (\r\n                <Typography sx={{ color: \"white\", fontSize: \"14px\" }}>\r\n                  *{phoneFormik.errors.phone}\r\n                </Typography>\r\n              )}\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                sx={{\r\n                  background: color.thirdColor,\r\n\r\n                  color: color.firstColor,\r\n                  fontSize: \"14px\",\r\n                  fontWeight: \"bold\",\r\n                  textTransform: \"none\",\r\n                  m: \"auto\",\r\n                  mt: 4,\r\n                  width: \"100%\",\r\n                  display: \"block\",\r\n                  position: \"absolute\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                  borderRadius: 0,\r\n                  py: 2,\r\n                  boxShadow: \"0px -6px 50px rgba(7, 7, 7, 0.11)\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                Send OTP\r\n              </Button>\r\n\r\n              {/* <div className=\"submit-btn\">SUBMIT</div> */}\r\n        {/* </div> */}\r\n        {/* </form> */}\r\n        {/* ) : (  */}\r\n        <>\r\n          <div\r\n            className=\"subscribe\"\r\n            style={{\r\n              background: color.background,\r\n              color: \"white\",\r\n              position: \"relative\",\r\n              boxShadow: \"-4px -4px 10px rgba(255, 255, 255, 0.36) inset\",\r\n              borderRadius: \"12px\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                background: \"url('/assets/footer.webp')\",\r\n                backgroundSize: { xs: \"70%\", md: \"70%\" },\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"bottom left\",\r\n                position: \"absolute\",\r\n                top: 0,\r\n                left: 0,\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n              }}\r\n            ></Box>\r\n            <Typography variant=\"h6\">Enter OTP</Typography>\r\n            <Typography variant=\"body2\" sx={{ mb: 1 }}>\r\n              Sent to: +{phone}{\" \"}\r\n              <Button\r\n                size=\"small\"\r\n                onClick={() => handleClose()}\r\n                sx={{\r\n                  color: color.firstColor,\r\n                  background: color.thirdColor,\r\n                  p: 0,\r\n                  px: 1,\r\n                  minWidth: 0,\r\n                  ml: 1,\r\n                  textTransform: \"none\",\r\n                }}\r\n              >\r\n                <Edit sx={{ fontSize: \"14px\" }}></Edit> Edit\r\n              </Button>\r\n            </Typography>\r\n            <Grid container spacing={1} justifyContent=\"center\" mt={3}>\r\n              {otp.map((_, index) => (\r\n                <Grid item key={index}>\r\n                  <TextField\r\n                    inputRef={otpRefs[index]}\r\n                    value={otp[index]}\r\n                    onChange={(e) => handleOtpChange(index, e.target.value)}\r\n                    inputProps={{\r\n                      maxLength: 1,\r\n                      style: {\r\n                        textAlign: \"center\",\r\n                        fontSize: 18,\r\n                        borderColor: \"transparent\",\r\n                      },\r\n                    }}\r\n                    // sx={{ width: 40 }}\r\n\r\n                    sx={{\r\n                      width: 40,\r\n                      bgcolor: color.thirdColor,\r\n                      borderRadius: 2,\r\n                      // minWidth: \"200px\",\r\n                      border: \"none\",\r\n                      outline: \"none\",\r\n                      boxShadow: \"none\",\r\n                      \"& fieldset\": {\r\n                        border: \"none\",\r\n                      },\r\n                      \"&:hover\": {\r\n                        bgcolor: \"#f5f5f5\",\r\n                      },\r\n                      \"& .MuiInputBase-input\": {\r\n                        color: color.firstColor,\r\n                        fontFamily: \"CustomFontB\",\r\n                        fontSize: \"20px\",\r\n                      },\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n            <Button\r\n              onClick={handleOtpSubmit}\r\n              type=\"submit\"\r\n              sx={{\r\n                background: color.thirdColor,\r\n                color: color.firstColor,\r\n                fontSize: \"14px\",\r\n                fontWeight: \"bold\",\r\n                textTransform: \"none\",\r\n                m: \"auto\",\r\n                mt: 4,\r\n                width: \"100%\",\r\n                display: \"block\",\r\n                position: \"absolute\",\r\n                bottom: 0,\r\n                left: 0,\r\n                borderRadius: 0,\r\n                py: 2,\r\n                boxShadow: \"0px -6px 50px rgba(7, 7, 7, 0.11)\",\r\n              }}\r\n            >\r\n              Verify OTP\r\n            </Button>\r\n          </div>\r\n        </>\r\n        {/* )} */}\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst modalStyle = {\r\n  position: \"absolute\" as \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  maxWidth: 400,\r\n  width: \"90%\",\r\n  height: 240,\r\n  background: color.thirdColor,\r\n  borderRadius: \"12px\",\r\n  //   p: 4,\r\n};\r\n\r\nexport default LoginOtpModal;\r\n","import {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Divider,\r\n  Typography,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport PhoneInput from \"react-phone-input-2\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Yup from \"yup\";\r\nimport CustomButton from \"../components/CustomButton\";\r\nimport RenderRazorpay from \"../components/Payments/RanderPayments\";\r\nimport color from \"../components/color\";\r\nimport { BoxStyle, CustomTextField } from \"../components/style\";\r\nimport { isLoggedIn } from \"../services/axiosClient\";\r\nimport { createOrder, getProfile, sendOTP } from \"../services/services\";\r\nimport LoginOtpModal from \"./Account/LoginOtpModal\";\r\n\r\nconst bookingData = {\r\n  hotelName: \"Best Western Ashoka\",\r\n  location: \"Lakdi ka pool\",\r\n  rating: 4.3,\r\n  reviews: 130,\r\n  checkInDate: \"27 Feb 25\",\r\n  checkInTime: \"2:00 PM\",\r\n  checkOutDate: \"27 Feb 25\",\r\n  checkOutTime: \"5:00 PM\",\r\n  duration: \"3 Hours\",\r\n  roomInfo: \"1 Room, 2 Guests\",\r\n  roomPrice: \"700.00\",\r\n  roomName: \"Superior Double Room\",\r\n  guest: {\r\n    name: \"\",\r\n    email: \"\",\r\n  },\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  name: Yup.string().required(\"Name is required\"),\r\n  email: Yup.string().email(\"Invalid email\").optional(),\r\n});\r\n\r\n// ---------------- new helper (same formula you used earlier) ----------------\r\nconst calculatePriceBreakdown = (basePrice: number) => {\r\n  const numericBase = Number(basePrice) || 0;\r\n\r\n  if (!numericBase || numericBase <= 0) {\r\n    return {\r\n      basePrice: 0,\r\n      platformFee: 0,\r\n      gstOnBase: 0,\r\n      gstOnPlatform: 0,\r\n      gstTotal: 0,\r\n      finalPrice: 0,\r\n    };\r\n  }\r\n\r\n  // 5% GST on base\r\n  const gstOnBase = numericBase * 0.05;\r\n  // platform fee = 13% on (base + gstOnBase)\r\n  const platformFee = (numericBase + gstOnBase) * 0.13;\r\n  // 18% GST on platform fee\r\n  const gstOnPlatform = platformFee * 0.18;\r\n  const gstTotal = gstOnBase + gstOnPlatform;\r\n  const finalPrice = numericBase + platformFee + gstTotal;\r\n\r\n  return {\r\n    basePrice: numericBase,\r\n    platformFee,\r\n    gstOnBase,\r\n    gstOnPlatform,\r\n    gstTotal,\r\n    finalPrice,\r\n  };\r\n};\r\n// ---------------------------------------------------------------------------\r\n\r\nconst BookingSummary = () => {\r\n  const location = useLocation();\r\n  const hotel = location.state?.hotelData;\r\n  const room = location.state?.selectedRoom;\r\n  const selectedSlot = location.state?.selectedSlot;\r\n  const pricingDetails = location.state?.pricingDetails;\r\n  const queryParams = new URLSearchParams(location.search);\r\n\r\n  const bookingType = queryParams.get(\"bookingType\");\r\n  const checkinTime = queryParams.get(\"time\");\r\n  const checkinDate = queryParams.get(\"checkinDate\");\r\n  const checkOutDate = queryParams.get(\"checkOutDate\");\r\n  const rooms = queryParams.get(\"rooms\");\r\n  const adults = queryParams.get(\"adults\");\r\n  const children = queryParams.get(\"children\");\r\n\r\n  const value = selectedSlot?.slot;\r\n  const number = value?.match(/\\d+/)?.[0];\r\n  const extractedNumber = number ? parseInt(number, 10) : null;\r\n\r\n  const [user, setUser] = useState<any>({});\r\n  const [showOtpModal, setShowOtpModal] = useState(false);\r\n  const [otpData, setOtpData] = useState({\r\n    phone: \"\",\r\n    name: \"\",\r\n    email: \"\",\r\n    token: \"\",\r\n  });\r\n  const [orderDetails, setOrderDetails] = useState<any>(null);\r\n\r\n  // Terms & Conditions state\r\n  const [termsChecked, setTermsChecked] = useState(false);\r\n  const [termsOpen, setTermsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn()) {\r\n      getProfile()\r\n        .then((res) => {\r\n          setUser(res?.data?.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  // Use pricingDetails if passed from previous screen, otherwise compute from room base\r\n  const roomBaseFromState = Number(pricingDetails?.basePrice) || 0;\r\n  const platformFromState = Number(pricingDetails?.platformFee) || 0;\r\n  const gstOnBaseFromState = Number(pricingDetails?.gstOnBase) || 0;\r\n  const gstOnPlatformFromState = Number(pricingDetails?.gstOnPlatform) || 0;\r\n  const gstTotalFromState = Number(pricingDetails?.gstTotal) || 0;\r\n  const finalFromState = Number(pricingDetails?.totalPrice) || 0;\r\n\r\n  // If pricingDetails exist, use them; else compute breakdown from the raw room base (if available)\r\n  const computedFromBase =\r\n    roomBaseFromState > 0\r\n      ? {\r\n        basePrice: roomBaseFromState,\r\n        platformFee: platformFromState,\r\n        gstOnBase: gstOnBaseFromState,\r\n        gstOnPlatform: gstOnPlatformFromState,\r\n        gstTotal: gstTotalFromState,\r\n        finalPrice: finalFromState,\r\n      }\r\n      : calculatePriceBreakdown(Number(room?.rateFor1Night || room?.rateFor3Hour || 0));\r\n\r\n  const roomBase = computedFromBase.basePrice;\r\n  const platformFee = computedFromBase.platformFee;\r\n  const gstOnBase = computedFromBase.gstOnBase;\r\n  const gstOnPlatform = computedFromBase.gstOnPlatform;\r\n  const gstTotal = computedFromBase.gstTotal;\r\n  const finalTotal = computedFromBase.finalPrice;\r\n\r\n  // allow extraFees from pricingDetails if any\r\n  const extraFees = Number(pricingDetails?.extraFees) || 0;\r\n\r\n  // values to display (nights multiplier already handled in pricingDetails in your flow)\r\n  const displayBase = roomBase;\r\n  const displayBasePlus700 = displayBase + 700; // top struck-through\r\n  const displayCombinedBasePlatform = roomBase + platformFee; // main visible price (base + platform)\r\n  const displayGstBase = gstOnBase;\r\n  const displayGstPlatform = gstOnPlatform;\r\n  const displayGstTotal = displayGstBase + displayGstPlatform;\r\n  const displayFinal = finalTotal + extraFees; // include extraFees if present\r\n\r\n  const totalAmount = Number(pricingDetails?.totalPrice) || displayFinal;\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      if (!totalAmount || totalAmount <= 0) {\r\n        alert(\"Booking amount cannot be zero.\");\r\n        return;\r\n      }\r\n\r\n      const payLoad = {\r\n       amount: Math.round(totalAmount),\r\n        currency: \"INR\",\r\n      };\r\n\r\n      const response = await createOrder(payLoad);\r\n\r\n      if (response?.data) {\r\n        setOrderDetails(response.data);\r\n      } else {\r\n        alert(\"Payment failed. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during payment:\", error);\r\n      alert(\"Payment failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // formik must be created after termsChecked exists so onSubmit can access termsChecked\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: user.userName || \"\",\r\n      email: user.email || \"\",\r\n      phoneNumber: `91${user.phoneNumber}` || \"\",\r\n    },\r\n    validationSchema,\r\n    enableReinitialize: true,\r\n    onSubmit: (values) => {\r\n      // Prevent submission if user hasn't accepted terms\r\n      if (!termsChecked) {\r\n        toast.error(\"Please accept Terms & Conditions before proceeding.\");\r\n        return;\r\n      }\r\n\r\n      if (isLoggedIn()) {\r\n        handlePayment();\r\n      } else {\r\n        const payLoad = {\r\n          name: values.name,\r\n          email: values.email,\r\n          phone: values.phoneNumber.slice(2),\r\n        };\r\n        sendOTP(payLoad)\r\n          .then((res) => {\r\n            console.log(res);\r\n            setShowOtpModal(true);\r\n            toast(\"Otp send Succesfully please verify the OTP\");\r\n            setOtpData({\r\n              phone: values.phoneNumber.slice(2),\r\n              name: values.name,\r\n              email: values.email,\r\n              token: res?.data?.data,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleOtpSuccess = () => {\r\n    setShowOtpModal(false);\r\n    handlePayment();\r\n  };\r\n\r\n  const textContainerRef = useRef<HTMLDivElement>(null);\r\n  const [imageHeight, setImageHeight] = useState(\"auto\");\r\n\r\n  const calculateCheckoutTime = () => {\r\n    if (bookingType === \"hourly\" && checkinTime && extractedNumber) {\r\n      const checkInDateTime = dayjs(`${checkinDate} ${checkinTime}`);\r\n      const checkOutDateTime = checkInDateTime.add(extractedNumber, \"hour\");\r\n\r\n      return {\r\n        checkInDate: checkInDateTime.format(\"DD MMM YYYY\"),\r\n        checkInTime: checkInDateTime.format(\"hh:mm A\"),\r\n        checkOutDate: checkOutDateTime.format(\"DD MMM YYYY\"),\r\n        checkOutTime: checkOutDateTime.format(\"hh:mm A\"),\r\n        duration: `${extractedNumber} hrs`,\r\n      };\r\n    } else {\r\n      return {\r\n        checkInDate: dayjs(checkinDate).format(\"DD MMM YYYY\"),\r\n        checkInTime: \"12.00 PM\",\r\n        checkOutDate: dayjs(checkOutDate).format(\"DD MMM YYYY\"),\r\n        checkOutTime: \"11.00 AM\",\r\n        duration:\r\n          dayjs(checkOutDate).diff(dayjs(checkinDate), \"day\") +\r\n          1 +\r\n          \" night(s)\",\r\n      };\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (textContainerRef.current) {\r\n      setImageHeight(`${textContainerRef.current.clientHeight}px`);\r\n    }\r\n  }, [hotel]);\r\n\r\n  // show a fallback grand total (keeps old semantics)\r\n  const feeAndGst =\r\n    (Number(pricingDetails?.platformFee) || platformFee) +\r\n    (Number(pricingDetails?.gstTotal) || gstTotal) +\r\n    (Number(pricingDetails?.extraFees) || 0);\r\n  const grandTotal = Number(pricingDetails?.totalPrice) || displayFinal;\r\n\r\n  // T&C modal content (replace with your actual policy text)\r\n  const termsText = `By booking you agree to the property's terms and conditions, cancellation policy and house rules. Please ensure you have read and understood them.`;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        ...BoxStyle,\r\n        background: \"#f6f6f6\",\r\n        mt: 0,\r\n        py: 4,\r\n        px: { xs: 1, md: 3 },\r\n        display: \"flex\",\r\n        flexDirection: { xs: \"column\", md: \"row\" },\r\n        justifyContent: \"center\",\r\n        gap: \"20px\",\r\n      }}\r\n    >\r\n      {/* LEFT: Booking + Guest Info */}\r\n      <Card\r\n        sx={{\r\n          p: 1,\r\n          background: \"white\",\r\n          maxWidth: \"700px\",\r\n          border: \"none\",\r\n          boxShadow: 0,\r\n          borderRadius: \"12px\",\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"h6\"\r\n            gutterBottom\r\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n          >\r\n            Your Booking Summary\r\n          </Typography>\r\n\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: { xs: \"column\", md: \"row\" },\r\n              gap: { xs: 0, md: 2 },\r\n              position: \"relative\",\r\n              mt: 2,\r\n              height: \"fit-content\",\r\n              alignItems: \"stretch\",\r\n            }}\r\n          >\r\n            <CardMedia\r\n              component=\"img\"\r\n              sx={{\r\n                width: { xs: \"100%\", md: \"250px\" },\r\n                borderRadius: \"12px\",\r\n                objectFit: \"cover\",\r\n                height: imageHeight,\r\n                transition: \"height 0.3s ease\",\r\n              }}\r\n              image={hotel?.propertyImages?.[0]}\r\n            />\r\n            <div style={{ height: \"fit-content\" }} ref={textContainerRef}>\r\n              <Typography\r\n                sx={{\r\n                  fontSize: \"20px\",\r\n                  fontWeight: 600,\r\n                  color: color.firstColor,\r\n                  mt: { xs: 1.5, md: 1 },\r\n                  display: \"-webkit-box\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  WebkitLineClamp: 1,\r\n                  WebkitBoxOrient: \"vertical\",\r\n                }}\r\n              >\r\n                {hotel?.propertyName}\r\n              </Typography>\r\n              <Typography\r\n                sx={{\r\n                  fontFamily: \"CustomFontSB\",\r\n                  fontSize: { xs: \"12px\", md: \"14px\" },\r\n                  display: \"-webkit-box\",\r\n                  overflow: \"hidden\",\r\n                  textOverflow: \"ellipsis\",\r\n                  WebkitLineClamp: 1,\r\n                  WebkitBoxOrient: \"vertical\",\r\n                }}\r\n              >\r\n                {hotel?.address}\r\n              </Typography>\r\n\r\n              <div\r\n                style={{\r\n                  marginTop: \"10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  flexDirection: \"column\",\r\n                  gap: \"4px\",\r\n                }}\r\n              >\r\n                {bookingType === \"hourly\" ? (\r\n                  <>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-In:</strong>{\" \"}\r\n                      {dayjs(checkinDate).format(\"DD MMM YYYY\")},{\" \"}\r\n                      {checkinTime\r\n                        ? dayjs(checkinTime, \"HH:mm\").format(\"hh:mm A\")\r\n                        : \"\"}\r\n                    </Typography>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Duration: </strong>\r\n                      {extractedNumber} hrs\r\n                    </Typography>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-In:</strong> {dayjs(checkinDate).format(\"DD MMM YYYY\")}\r\n                    </Typography>\r\n                    <Typography sx={typoStyle}>\r\n                      <strong>Check-Out:</strong> {dayjs(checkOutDate).format(\"DD MMM YYYY\")}\r\n                    </Typography>\r\n                  </>\r\n                )}\r\n\r\n                <Typography sx={typoStyle}>\r\n                  <strong>Room type:</strong> {room?.roomCategory}\r\n                </Typography>\r\n                <Typography sx={typoStyle}>\r\n                  <strong>Room Info: </strong>\r\n                  {rooms} Room, {adults} Adults, {children} Children\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n          </Box>\r\n\r\n          {/* GUEST FORM */}\r\n          <form onSubmit={formik.handleSubmit}>\r\n            <Typography\r\n              variant=\"h6\"\r\n              mt={4}\r\n              sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n            >\r\n              Guest Information\r\n            </Typography>\r\n\r\n            <CustomTextField\r\n              label=\"Guest Name\"\r\n              name=\"name\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              value={formik.values.name}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.name && Boolean(formik.errors.name)}\r\n            />\r\n\r\n            <Box mt={1}>\r\n              <PhoneInput\r\n                country={\"in\"}\r\n                value={formik.values.phoneNumber}\r\n                onChange={(value) => formik.setFieldValue(\"phoneNumber\", value)}\r\n                onBlur={() => formik.setFieldTouched(\"phoneNumber\", true)}\r\n                inputStyle={{\r\n                  width: \"100%\",\r\n                  height: \"56px\",\r\n                  borderRadius: \"52px\",\r\n                  border: \"none\",\r\n                  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\r\n                  color: color.firstColor,\r\n                  paddingLeft: \"58px\",\r\n                  fontSize: \"16px\",\r\n                  backgroundColor: \"white\",\r\n                  transition: \"border-color 0.2s ease\",\r\n                }}\r\n                buttonStyle={{\r\n                  borderRadius: \"52px 0 0 52px\",\r\n                  margin: \"5px\",\r\n                  backgroundColor: \"white\",\r\n                }}\r\n                containerStyle={{\r\n                  width: \"100%\",\r\n                }}\r\n              />\r\n              {formik.touched.phoneNumber && formik.errors.phoneNumber && (\r\n                <Typography\r\n                  sx={{\r\n                    color: \"red\",\r\n                    fontSize: \"12px\",\r\n                    mt: 0.5,\r\n                    ml: \"14px\",\r\n                  }}\r\n                >\r\n                  {formik.errors.phoneNumber}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n\r\n            <CustomTextField\r\n              label=\"Email Address (Optional)\"\r\n              name=\"email\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              value={formik.values.email}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.email && Boolean(formik.errors.email)}\r\n            />\r\n\r\n            {/* Terms acceptance checkbox */}\r\n            <Box sx={{ mt: 2 }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={termsChecked}\r\n                    onChange={(e) => setTermsChecked(e.target.checked)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label={\r\n                  <span>\r\n                    I accept the{\" \"}\r\n                    <span\r\n                      style={{ color: color.firstColor, cursor: \"pointer\", textDecoration: \"underline\" }}\r\n                      onClick={() => setTermsOpen(true)}\r\n                    >\r\n                      Terms & Conditions\r\n                    </span>\r\n                  </span>\r\n                }\r\n              />\r\n            </Box>\r\n\r\n            {/* disable buttons until terms are accepted */}\r\n            {isLoggedIn() ? (\r\n              <CustomButton\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n                type=\"submit\"\r\n                disabled={!termsChecked}\r\n              >\r\n                Pay Now\r\n              </CustomButton>\r\n            ) : (\r\n              <CustomButton\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                sx={{ mt: 2 }}\r\n                type=\"submit\"\r\n                disabled={!termsChecked}\r\n              >\r\n                verify Phone & Pay\r\n              </CustomButton>\r\n            )}\r\n\r\n            <LoginOtpModal\r\n              open={showOtpModal}\r\n              onClose={() => setShowOtpModal(false)}\r\n              onVerificationSuccess={handleOtpSuccess}\r\n              phone={otpData.phone}\r\n              name={otpData.name}\r\n              email={otpData.email}\r\n              token={otpData.token}\r\n            />\r\n\r\n            {/* Razorpay */}\r\n            {orderDetails && (\r\n              <RenderRazorpay\r\n                orderDetails={orderDetails}\r\n                amount={grandTotal} // using actual total\r\n                bookingDetails={{\r\n                  hotel,\r\n                  room,\r\n                  guestInfo: formik.values,\r\n                  timing: calculateCheckoutTime(),\r\n                  pricingDetails,\r\n                  bookingType,\r\n                  rooms,\r\n                  adults,\r\n                  children,\r\n                }}\r\n              />\r\n            )}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* RIGHT: BILL SUMMARY (UPDATED FORMAT) */}\r\n      <Card\r\n        sx={{\r\n          p: 1,\r\n          background: \"white\",\r\n          border: \"none\",\r\n          boxShadow: 0,\r\n          borderRadius: \"12px\",\r\n          height: \"fit-content\",\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"h6\"\r\n            gutterBottom\r\n            sx={{ color: color.firstColor, fontWeight: \"bold\" }}\r\n          >\r\n            Your Bill Summary\r\n          </Typography>\r\n\r\n          <div\r\n            style={{\r\n              marginTop: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              flexDirection: \"column\",\r\n              gap: \"8px\",\r\n              alignItems: \"flex-end\",\r\n            }}\r\n          >\r\n            {/* 1) Top struck-through bigger: base + 700 */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"16px\",\r\n                color: color.forthColor,\r\n                textDecoration: \"line-through\",\r\n                fontWeight: 600,\r\n                opacity: 0.95,\r\n              }}\r\n            >\r\n              {displayBase > 0 ? `₹ ${displayBasePlus700.toFixed(0)}` : \"---\"}\r\n            </Typography>\r\n\r\n            {/* 2) Main bold price = base + platform */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"24px\",\r\n                color: color.firstColor,\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              {displayCombinedBasePlatform > 0 ? `₹ ${displayCombinedBasePlatform.toFixed(0)}` : \"—\"}\r\n            </Typography>\r\n\r\n            {/* 3) GST breakdown: Base GST + Platform GST = total GST */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"13px\",\r\n                color: color.forthColor,\r\n                textAlign: \"right\",\r\n              }}\r\n            >\r\n              {displayGstBase > 0 || displayGstPlatform > 0 ? (\r\n                <>\r\n                  ₹{displayGstTotal.toFixed(0)} taxes & fees\r\n                </>\r\n              ) : (\r\n                \"—\"\r\n              )}\r\n            </Typography>\r\n            <Divider sx={{ width: \"100%\", mt: 1 }} />\r\n\r\n\r\n            {/* 4) Final total */}\r\n            <Typography\r\n              sx={{\r\n                fontSize: \"16px\",\r\n                color: color.firstColor,\r\n                fontWeight: \"700\",\r\n              }}\r\n            >\r\n              {displayFinal > 0 ? `Final: ₹ ${displayFinal.toFixed(0)}` : \"---\"}\r\n            </Typography>\r\n\r\n\r\n\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Terms & Conditions Dialog */}\r\n      <Dialog open={termsOpen} onClose={() => setTermsOpen(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Terms & Conditions</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"body2\" sx={{ whiteSpace: \"pre-line\" }}>\r\n            {termsText}\r\n          </Typography>\r\n          {/* Add longer T&C text here as needed */}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setTermsOpen(false);\r\n            }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BookingSummary;\r\n\r\nconst typoStyle = {\r\n  borderRadius: \"52px\",\r\n  boxShadow: \"4px 4px 10px rgba(104, 39, 184, 0.17)\",\r\n  color: color.firstColor,\r\n  background: \"white\",\r\n  fontSize: { xs: \"12px\", md: \"14px\" },\r\n  width: \"fit-content\",\r\n  p: 1,\r\n  px: 2,\r\n  mb: 1,\r\n};\r\n"],"names":["_ref","orderDetails","bookingDetails","console","log","navigate","useNavigate","open","setOpen","useState","handleClose","_jsx","children","_jsxs","Dialog","onClose","maxWidth","fullWidth","sx","padding","borderRadius","DialogTitle","DialogContent","DialogActions","style","display","justifyContent","Button","textTransform","color","onClick","async","_bookingDetails$guest","_bookingDetails$guest2","_bookingDetails$guest3","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","window","Razorpay","alert","options","key","R_KEY_ID","amount","data","currency","order_id","id","prefill","name","guestInfo","email","contact","phoneNumber","handler","_bookingDetails$hotel","_bookingDetails$guest4","_bookingDetails$timin","_bookingDetails$timin2","_bookingDetails$timin3","_bookingDetails$timin4","_bookingDetails$hotel2","_res$data","_res$data$data","_bookingDetails$guest5","_bookingDetails$hotel5","_bookingDetails$hotel6","_bookingDetails$timin7","_bookingDetails$timin8","_bookingDetails$guest6","_bookingDetails$guest7","_bookingDetails$prici11","_bookingDetails$prici12","_bookingDetails$timin9","_bookingDetails$timin10","_bookingDetails$hotel7","res","verifyPayment","orderId","response","razorpay_order_id","paymentId","razorpay_payment_id","signature","razorpay_signature","payLoad","userId","getUserId","hotelId","hotel","geustName","amountPaid","checkInDate","timing","checkInTime","checkOutDate","checkOutTime","bookingType","geustDetails","adults","hotelName","propertyName","status","postBooking","then","_res$data2","_res$data2$data","_bookingDetails$hotel3","_bookingDetails$prici","_bookingDetails$prici2","_bookingDetails$prici3","_bookingDetails$prici4","_bookingDetails$prici5","_res$data3","_res$data3$data","_bookingDetails$timin5","_res$data4","_res$data4$data","_bookingDetails$hotel4","_bookingDetails$prici6","_bookingDetails$prici7","_bookingDetails$prici8","_bookingDetails$prici9","_bookingDetails$prici10","_res$data5","_res$data5$data","_bookingDetails$timin6","_res$data6","payoutPayLoad","amountPaise","pricingDetails","totalPrice","feePaise","platformFee","gstOnPlatform","netAmountPaise","basePrice","gstOnBase","bookingsIncluded","scheduledAt","dayjs","toDate","transactionRef","gatewayResponse","failureReason","processedBy","note","mypaymentPayload","netmyAmountPaise","initiatedAt","Date","processedAt","createMyPayment","catch","err","createHotelPayment","toast","msg","messagetamplet","guestName","location","address","phone","substring","rooms","hotelEmail","receptionEmail","bookingConfirm","error","variant","background","firstColor","fontSize","border","transition","paddingRight","modalStyle","position","top","left","transform","width","height","thirdColor","onVerificationSuccess","token","step","setStep","setPhoneNumber","countryCode","setCountryCode","sessionId","setSessionId","useLocation","otp","setOtp","Array","fill","otpRefs","from","length","useRef","URLSearchParams","search","get","Modal","Box","_Fragment","className","boxShadow","overflow","backgroundSize","xs","md","backgroundRepeat","backgroundPosition","Typography","mb","size","searchParams","delete","pathname","toString","replace","state","p","px","minWidth","ml","Edit","Grid","container","spacing","mt","map","_","index","item","TextField","inputRef","value","onChange","e","handleOtpChange","test","newOtp","_otpRefs$current","current","focus","target","inputProps","maxLength","textAlign","borderColor","bgcolor","outline","fontFamily","handleOtpSubmit","join","verifyOTP","setCurrentAccessToken","setCurrentUser","user","success","type","fontWeight","m","bottom","py","validationSchema","Yup","required","optional","BookingSummary","_location$state","_location$state2","_location$state3","_location$state4","_value$match","_hotel$propertyImages","hotelData","room","selectedRoom","selectedSlot","queryParams","checkinTime","checkinDate","slot","number","match","extractedNumber","parseInt","setUser","showOtpModal","setShowOtpModal","otpData","setOtpData","setOrderDetails","termsChecked","setTermsChecked","termsOpen","setTermsOpen","useEffect","isLoggedIn","getProfile","roomBaseFromState","Number","platformFromState","gstOnBaseFromState","gstOnPlatformFromState","gstTotalFromState","gstTotal","finalFromState","computedFromBase","finalPrice","numericBase","calculatePriceBreakdown","rateFor1Night","rateFor3Hour","roomBase","displayBase","displayBasePlus700","displayCombinedBasePlatform","displayGstBase","displayGstPlatform","displayGstTotal","displayFinal","extraFees","totalAmount","handlePayment","Math","round","createOrder","formik","useFormik","initialValues","userName","enableReinitialize","onSubmit","values","slice","sendOTP","textContainerRef","imageHeight","setImageHeight","clientHeight","grandTotal","BoxStyle","flexDirection","gap","Card","CardContent","gutterBottom","alignItems","CardMedia","component","objectFit","image","propertyImages","ref","textOverflow","WebkitLineClamp","WebkitBoxOrient","marginTop","flexWrap","typoStyle","format","roomCategory","handleSubmit","CustomTextField","label","margin","handleChange","onBlur","handleBlur","touched","Boolean","errors","PhoneInput","country","setFieldValue","setFieldTouched","inputStyle","paddingLeft","backgroundColor","buttonStyle","containerStyle","FormControlLabel","control","Checkbox","checked","cursor","textDecoration","CustomButton","disabled","LoginOtpModal","handleOtpSuccess","RenderRazorpay","calculateCheckoutTime","checkInDateTime","checkOutDateTime","add","duration","diff","forthColor","opacity","toFixed","Divider","whiteSpace"],"sourceRoot":""}