"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[568],{26600:(e,t,r)=>{r.d(t,{A:()=>x});var i=r(65043),o=r(58387),n=r(98610),a=r(94496),l=r(34535),s=r(98206),c=r(87034),d=r(2563),p=r(70579);const h=(0,l.Ay)(a.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),x=i.forwardRef((function(e,t){const r=(0,s.b)({props:e,name:"MuiDialogTitle"}),{className:a,id:l,...x}=r,u=r,g=(e=>{const{classes:t}=e;return(0,n.A)({root:["root"]},c.t,t)})(u),{titleId:m=l}=i.useContext(d.A);return(0,p.jsx)(h,{component:"h2",className:(0,o.A)(g.root,a),ownerState:u,ref:t,variant:"h6",id:l??m,...x})}))},29347:(e,t,r)=>{r.d(t,{A:()=>x});var i=r(65043),o=r(58387),n=r(98610),a=r(34535),l=r(98206),s=r(92532),c=r(72372);function d(e){return(0,c.Ay)("MuiDialogActions",e)}(0,s.A)("MuiDialogActions",["root","spacing"]);var p=r(70579);const h=(0,a.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),x=i.forwardRef((function(e,t){const r=(0,l.b)({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1,...s}=r,c={...r,disableSpacing:a},x=(e=>{const{classes:t,disableSpacing:r}=e,i={root:["root",!r&&"spacing"]};return(0,n.A)(i,d,t)})(c);return(0,p.jsx)(h,{className:(0,o.A)(x.root,i),ownerState:c,ref:t,...s})}))},39336:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(65043),o=r(58387),n=r(98610),a=r(39768),l=r(34535),s=r(56262),c=r(98206),d=r(5658),p=r(70579);const h=(0,l.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,s.A)((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,a.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),x=(0,l.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,s.A)((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),u=i.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:s="horizontal",component:u=(a||"vertical"===s?"div":"hr"),flexItem:g=!1,light:m=!1,role:v=("hr"!==u?"separator":void 0),textAlign:f="center",variant:A="fullWidth",...b}=r,j={...r,absolute:i,component:u,flexItem:g,light:m,orientation:s,role:v,textAlign:f,variant:A},y=(e=>{const{absolute:t,children:r,classes:i,flexItem:o,light:a,orientation:l,textAlign:s,variant:c}=e,p={root:["root",t&&"absolute",c,a&&"light","vertical"===l&&"vertical",o&&"flexItem",r&&"withChildren",r&&"vertical"===l&&"withChildrenVertical","right"===s&&"vertical"!==l&&"textAlignRight","left"===s&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]};return(0,n.A)(p,d.K,i)})(j);return(0,p.jsx)(h,{as:u,className:(0,o.A)(y.root,l),role:v,ref:t,ownerState:j,"aria-orientation":"separator"!==v||"hr"===u&&"vertical"!==s?void 0:s,...b,children:a?(0,p.jsx)(x,{className:y.wrapper,ownerState:j,children:a}):null})}));u&&(u.muiSkipListHighlight=!0);const g=u},67568:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var i=r(91794),o=r(98606),n=r(61596),a=r(94496),l=r(39336),s=r(68903),c=r(7353),d=r(83462),p=r(26600),h=r(35316),x=r(29347),u=r(11906),g=r(65043),m=r(33580),v=r(31716),f=r(67809),A=r(69995),b=r(73216),j=r(59628),y=r(57488),S=r(70579);const w={label:{fontWeight:"bold",color:"#333"},value:{color:"#555"}},C=["id","hotelId","createdAt","updatedAt","deleted","userId"],R=e=>null===e||void 0===e?"N/A":"object"===typeof e?JSON.stringify(e):Array.isArray(e)?e.length>0?e.join(", "):"N/A":e.toString(),k=()=>{var e,t;const[r,k]=(0,g.useState)(""),[I,z]=(0,g.useState)(!1),[L,M]=(0,g.useState)(null),{id:T}=(0,b.g)(),[$,D]=(0,g.useState)({}),[N,W]=(0,g.useState)([]);(0,g.useEffect)((()=>{(0,A.YT)({id:T,secondTable:"Room"}).then((e=>{var t;const r=Object.fromEntries(Object.entries((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data[0])||{}).filter((e=>{let[t]=e;return!C.includes(t)}))),i=Array.isArray(null===r||void 0===r?void 0:r.rooms)?r.rooms.map((e=>Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;return!C.includes(t)}))))):[];D({...r,rooms:i})})).catch((e=>console.log(e)))}),[T]);const O=e=>{"reject"!==e||r.trim()?(M(e),z(!0)):alert("Remark is required for rejection.")},B=(0,b.Zp)();return(0,S.jsxs)(n.A,{elevation:3,sx:{p:3,m:3,borderRadius:"12px",backgroundColor:m.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)"},children:[(0,S.jsx)(a.A,{variant:"h5",gutterBottom:!0,fontWeight:"bold",children:"Property Application Preview"}),(0,S.jsx)(l.A,{sx:{mb:2}}),(0,S.jsxs)(s.Ay,{container:!0,spacing:2,children:[Object.entries($).map((e=>{let[t,r]=e;return"rooms"!==t&&(0,S.jsxs)(s.Ay,{item:!0,xs:12,md:"propertyImages"===t?12:4,children:[(0,S.jsxs)(a.A,{sx:w.label,children:[t.replace(/([A-Z])/g," $1").trim().replace(/^./,(e=>e.toUpperCase())),":"]}),Array.isArray(r)?"propertyImages"===t?(0,S.jsx)(c.A,{display:"flex",flexWrap:"wrap",gap:1,mt:1,children:r.map(((e,r)=>"string"===typeof e?(0,S.jsx)("img",{src:e,alt:t,width:100,height:100,style:{borderRadius:8}},r):null))}):(0,S.jsx)(a.A,{sx:w.value,children:r.join(", ")}):"gstCertificate"===t||"panCard"===t?(0,S.jsx)(c.A,{mt:1,children:(0,S.jsx)("img",{src:r,alt:t,width:150,height:120,style:{borderRadius:8}})}):(0,S.jsx)(a.A,{sx:w.value,children:R(r)})]},t)})),(null===$||void 0===$||null===(e=$.rooms)||void 0===e?void 0:e.length)>0&&(0,S.jsx)(s.Ay,{item:!0,xs:12,children:(0,S.jsx)(a.A,{sx:w.label,children:"Rooms:"})}),null===$||void 0===$||null===(t=$.rooms)||void 0===t?void 0:t.map(((e,t)=>(0,S.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,S.jsxs)(n.A,{sx:{p:2,my:1,backgroundColor:m.A.thirdColor,boxShadow:"0px 0px 14px rgba(0, 0, 0, 0.14)",borderRadius:"12px"},children:[e.roomImage&&(0,S.jsx)(c.A,{mt:1,children:(0,S.jsx)("img",{src:e.roomImage,alt:"Room",width:200,height:150,style:{borderRadius:8}})}),Object.entries(e).map((e=>{let[t,r]=e;return(0,S.jsx)(c.A,{mb:1,children:(0,S.jsxs)(a.A,{sx:w.value,children:[(0,S.jsxs)("strong",{children:[t.replace(/([A-Z])/g," $1").trim(),":"]})," ",R(r)]})},t)}))]})},t)))]}),"Admin"===(0,j.uG)()&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.A,{mt:1,sx:w.label,children:"Remark:"}),(0,S.jsx)(f.XY,{sx:{"& .MuiInputBase-input":{resize:"vertical"},"& textarea":{resize:"vertical"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"none",borderRadius:"12px"}},mt:2},fullWidth:!0,label:"Application Remark",multiline:!0,rows:4,onChange:e=>k(e.target.value)}),(0,S.jsx)(c.A,{mt:2,display:"flex",justifyContent:"flex-end",children:(0,S.jsx)(v.A,{variant:"contained",customStyles:{fontSize:"14px"},onClick:()=>{console.log("Submitting application with remark:",r)},children:"Submit"})}),(0,S.jsxs)(c.A,{sx:{width:"100%",display:"flex",gap:1},mt:4,children:[(0,S.jsxs)(v.A,{customStyles:{fontSize:"14px",background:"red",width:"100%"},variant:"contained",onClick:()=>O("reject"),children:["Reject ",(0,S.jsx)(i.A,{sx:{ml:1,fontSize:"18px"}})]}),(0,S.jsxs)(v.A,{customStyles:{fontSize:"14px",background:"green",width:"100%"},variant:"contained",onClick:()=>O("approve"),children:["Approve ",(0,S.jsx)(o.A,{sx:{ml:1,fontSize:"18px"}})]})]}),(0,S.jsxs)(d.A,{open:I,onClose:()=>z(!1),sx:{textAlign:"center"},children:["approve"===L?(0,S.jsx)(o.A,{sx:{margin:"auto",fontSize:"84px",color:"green",mt:2}}):(0,S.jsx)(i.A,{sx:{margin:"auto",fontSize:"84px",color:"red",mt:2}}),(0,S.jsx)(p.A,{sx:{fontSize:"20px",m:0,pb:1},children:"approve"===L?"Confirm Approval?":"Confirm Rejection?"}),(0,S.jsxs)(h.A,{sx:{fontSize:"14px"},children:["Are you sure you want to ",L," this application?"]}),(0,S.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[(0,S.jsx)(u.A,{sx:{textTransform:"none",background:"grey"},variant:"contained",onClick:()=>z(!1),children:"Cancel"}),(0,S.jsx)(u.A,{sx:{textTransform:"none",background:"approve"===L?"green":"red"},variant:"contained",onClick:()=>{if(!L)return;const e={status:"approve"===L?"Approved":"Reject",..."reject"===L&&{remarks:r.trim()}};(0,A.hI)(T,e).then((e=>{y.oR.success(`Application ${"approve"===L?"Approved":"Rejected"} successfully`),z(!1),B(-1)})).catch((e=>{y.oR.error(`Error while ${"approve"===L?"approving":"rejecting"} application`)}))},children:"Confirm"})]})]})]})]})}},91794:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(59662),o=r(70579);const n=(0,i.A)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},98606:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(59662),o=r(70579);const n=(0,i.A)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")}}]);
//# sourceMappingURL=568.0d955100.chunk.js.map