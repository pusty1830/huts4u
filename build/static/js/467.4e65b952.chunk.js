"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[467],{43464:(e,o,i)=>{i.r(o),i.d(o,{default:()=>E});var n=i(7353),l=i(12110),t=i(26494),r=i(94496),a=i(36591),d=i(74605),s=i(51962),u=i(39336),c=i(83462),h=i(26600),v=i(35316),m=i(29347),p=i(11906),x=i(60446),g=i.n(x),f=i(13892),b=i(65043),y=i(17195),k=i.n(y),A=i(73216),D=i(57488),j=i(80899),P=i(31716),w=i(69995),C=i(59007),Y=i(33580),S=i(59628),I=i(70579);const M=e=>{let{orderDetails:o,bookingDetails:i}=e;console.log(i);(0,A.Zp)();const[n,l]=(0,b.useState)(!0),t=()=>l(!1);return(0,I.jsx)("div",{children:(0,I.jsxs)(c.A,{open:n,onClose:t,maxWidth:"xs",fullWidth:!0,sx:{"& .MuiPaper-root":{padding:"8px",borderRadius:"16px"}},children:[(0,I.jsx)(h.A,{children:"Complete Your Payment"}),(0,I.jsx)(v.A,{children:(0,I.jsx)("p",{children:"Ensure your payment details are correct before proceeding."})}),(0,I.jsxs)(m.A,{style:{display:"flex",justifyContent:"flex-end"},children:[(0,I.jsx)(p.A,{style:{textTransform:"none",color:"black"},onClick:t,children:"Cancel"}),(0,I.jsx)(p.A,{onClick:async()=>{var e,n,l;var t;if(!await(t="https://checkout.razorpay.com/v1/checkout.js",new Promise((e=>{const o=document.createElement("script");o.src=t,o.onload=()=>e(!0),o.onerror=()=>e(!1),document.body.appendChild(o)})))||!window.Razorpay)return void alert("Failed to load Razorpay SDK.");const r={key:C.tz||"",amount:o.data.amount,currency:o.data.currency,order_id:o.data.id,prefill:{name:null===i||void 0===i||null===(e=i.guestInfo)||void 0===e?void 0:e.name,email:null===i||void 0===i||null===(n=i.guestInfo)||void 0===n?void 0:n.email,contact:null===i||void 0===i||null===(l=i.guestInfo)||void 0===l?void 0:l.phoneNumber},handler:async e=>{try{var n,l,t,r,a,d,s,u,c,h,v,m,p,x,f,b,y,k,A,j,P,C,Y,I,M,O,T,N,R;const F=await(0,w.KF)({orderId:e.razorpay_order_id,paymentId:e.razorpay_payment_id,signature:e.razorpay_signature});console.log(F),alert("Payment Successful");const B={userId:(0,S.F6)(),hotelId:null===i||void 0===i||null===(n=i.hotel)||void 0===n?void 0:n.id,geustName:null===i||void 0===i||null===(l=i.guestInfo)||void 0===l?void 0:l.name,amountPaid:o.data.amount,checkInDate:null===i||void 0===i||null===(t=i.timing)||void 0===t?void 0:t.checkInDate,checkInTime:null===i||void 0===i||null===(r=i.timing)||void 0===r?void 0:r.checkInTime,checkOutDate:null===i||void 0===i||null===(a=i.timing)||void 0===a?void 0:a.checkOutDate,checkOutTime:null===i||void 0===i||null===(d=i.timing)||void 0===d?void 0:d.checkOutTime,bookingType:null===i||void 0===i?void 0:i.bookingType,geustDetails:null===i||void 0===i?void 0:i.guestInfo,adults:null===i||void 0===i?void 0:i.adults,children:null===i||void 0===i?void 0:i.children,hotelName:null===i||void 0===i||null===(s=i.hotel)||void 0===s?void 0:s.propertyName,status:"pending",paymentId:null===F||void 0===F||null===(u=F.data)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.id};console.log(B),(0,w.UY)(B).then((e=>{var o,n,l,t,r,a,d,s,u,c,h,v,m,p,x,f,b,y,k,A,j,P,C,Y,I,M,O;const T={userId:(0,S.F6)(),paymentId:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.id,hotelId:null===i||void 0===i||null===(l=i.hotel)||void 0===l?void 0:l.id,bookingId:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.id,amountPaise:100*(null===i||void 0===i||null===(a=i.pricingDetails)||void 0===a?void 0:a.totalPrice),feePaise:100*((null===i||void 0===i||null===(d=i.pricingDetails)||void 0===d?void 0:d.platformFee)+(null===i||void 0===i||null===(s=i.pricingDetails)||void 0===s?void 0:s.gstOnPlatform)),netAmountPaise:100*((null===i||void 0===i||null===(u=i.pricingDetails)||void 0===u?void 0:u.basePrice)+(null===i||void 0===i||null===(c=i.pricingDetails)||void 0===c?void 0:c.gstOnBase)),currency:"INR",bookingsIncluded:[null===e||void 0===e||null===(h=e.data)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.id],scheduledAt:g()(null===i||void 0===i||null===(m=i.timing)||void 0===m?void 0:m.checkInDate,"DD MMM YYYY").toDate(),status:"pending",transactionRef:null,gatewayResponse:null,failureReason:null,processedBy:null,note:"Daily PayOut "},N={userId:(0,S.F6)(),paymentId:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.id,hotelId:null===i||void 0===i||null===(f=i.hotel)||void 0===f?void 0:f.id,bookingId:null===e||void 0===e||null===(b=e.data)||void 0===b||null===(y=b.data)||void 0===y?void 0:y.id,amountPaise:100*(null===i||void 0===i||null===(k=i.pricingDetails)||void 0===k?void 0:k.totalPrice),feePaise:100*((null===i||void 0===i||null===(A=i.pricingDetails)||void 0===A?void 0:A.platformFee)+(null===i||void 0===i||null===(j=i.pricingDetails)||void 0===j?void 0:j.gstOnPlatform)),netmyAmountPaise:100*((null===i||void 0===i||null===(P=i.pricingDetails)||void 0===P?void 0:P.platformFee)+(null===i||void 0===i||null===(C=i.pricingDetails)||void 0===C?void 0:C.gstOnPlatform)),currency:"INR",bookingsIncluded:[null===e||void 0===e||null===(Y=e.data)||void 0===Y||null===(I=Y.data)||void 0===I?void 0:I.id],scheduledAt:g()(null===i||void 0===i||null===(M=i.timing)||void 0===M?void 0:M.checkInDate,"DD MMM YYYY").toDate(),initiatedAt:new Date,processedAt:null,status:"pending",transactionRef:null,gatewayResponse:null,failureReason:null,processedBy:null,note:"Auto payout settlement"};(0,w.VL)(N).then((e=>{console.log("My Payment is scheduled")})).catch((e=>{console.log("error while creating the mypayment",e)})),(0,w.fT)(T).then((e=>{console.log("My Payout is scheduled")})).catch((e=>{console.log("error while creating the PayOut ",e)})),(0,D.oR)(null===e||void 0===e||null===(O=e.data)||void 0===O?void 0:O.msg)})).catch((e=>{console.log(e)}));const z={guestName:null===i||void 0===i||null===(h=i.guestInfo)||void 0===h?void 0:h.name,location:null===i||void 0===i||null===(v=i.hotel)||void 0===v?void 0:v.address,hotelName:null===i||void 0===i||null===(m=i.hotel)||void 0===m?void 0:m.propertyName,checkInDate:g()(null===i||void 0===i||null===(p=i.timing)||void 0===p?void 0:p.checkInDate,"DD MMM YYYY").format("DD MMM YYYY"),checkInTime:null===i||void 0===i||null===(x=i.timing)||void 0===x?void 0:x.checkInTime,phone:null===i||void 0===i||null===(f=i.guestInfo)||void 0===f?void 0:f.phoneNumber,amountPaid:(null===i||void 0===i||null===(b=i.pricingDetails)||void 0===b?void 0:b.basePrice)+(null===i||void 0===i||null===(y=i.pricingDetails)||void 0===y?void 0:y.gstOnBase),basePrice:null===i||void 0===i||null===(k=i.pricingDetails)||void 0===k?void 0:k.basePrice,gstOnBase:null===i||void 0===i||null===(A=i.pricingDetails)||void 0===A?void 0:A.gstOnBase,razorpayfee:(null===i||void 0===i||null===(j=i.pricingDetails)||void 0===j?void 0:j.gstTotal)-((null===i||void 0===i||null===(P=i.pricingDetails)||void 0===P?void 0:P.gstOnBase)+(null===i||void 0===i||null===(C=i.pricingDetails)||void 0===C?void 0:C.gstOnPlatform)),platformFee:null===i||void 0===i||null===(Y=i.pricingDetails)||void 0===Y?void 0:Y.platformFee,gstOnPlatform:null===i||void 0===i||null===(I=i.pricingDetails)||void 0===I?void 0:I.gstOnPlatform,totalPrice:null===i||void 0===i||null===(M=i.pricingDetails)||void 0===M?void 0:M.totalPrice,adults:null===i||void 0===i?void 0:i.adults,children:null===i||void 0===i?void 0:i.children,rooms:1,checkOutTime:null===i||void 0===i||null===(O=i.timing)||void 0===O?void 0:O.checkOutTime,checkOutDate:g()(null===i||void 0===i||null===(T=i.timing)||void 0===T?void 0:T.checkOutDate,"DD MMM YYYY").format("DD MMM YYYY"),hotelEmail:null===i||void 0===i||null===(N=i.hotel)||void 0===N?void 0:N.receptionEmail,receptionistPhone:null===i||void 0===i||null===(R=i.hotel)||void 0===R?void 0:R.receptionMobile};console.log(z),(0,w.Ud)(z).then((e=>{console.log("message send to the wp",e)})).catch((e=>{console.log(e)})),window.location.href="/my-bookings"}catch(F){alert("Payment verification failed. Please try again.")}}};new window.Razorpay(r).open()},variant:"contained",style:{background:Y.A.firstColor,fontSize:"18px",textTransform:"none",border:"solid 1px white"},sx:{padding:"2px 10px",transition:"all 0.4s ease","&:hover":{paddingRight:"20px"}},children:"Proceed to Pay"})]})]})})};var O=i(67809),T=i(83560),N=i(53062),R=i(68903),F=i(67784);i(73337);const B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,width:"90%",height:240,background:Y.A.thirdColor,borderRadius:"12px"},z=e=>{let{open:o,onClose:i,onVerificationSuccess:l,phone:t,name:a,email:d,token:s}=e;const[u]=(0,b.useState)(1),[c,h]=(0,b.useState)(Array(4).fill("")),v=(0,b.useRef)([]),m=(0,A.Zp)(),x=(0,A.zy)(),g=()=>{const e=new URLSearchParams(x.search);e.delete("login"),e.delete("phone"),e.delete("name"),e.delete("email"),e.delete("token"),m(`${x.pathname}?${e.toString()}`,{replace:!0,state:{...x.state}});try{i()}catch(o){}};(0,b.useEffect)((()=>{o&&setTimeout((()=>{var e,o;null===(e=v.current[0])||void 0===e||e.focus(),null===(o=v.current[0])||void 0===o||o.select()}),80)}),[o]);return(0,I.jsx)(N.A,{open:o,onClose:g,children:(0,I.jsx)(n.A,{sx:B,children:(0,I.jsxs)("div",{className:"subscribe",style:{background:Y.A.background,color:"white",position:"relative",boxShadow:"-4px -4px 10px rgba(255, 255, 255, 0.36) inset",borderRadius:"12px",overflow:"hidden"},children:[(0,I.jsx)(n.A,{sx:{background:"url('/assets/footer.webp')",backgroundSize:{xs:"70%",md:"70%"},backgroundRepeat:"no-repeat",backgroundPosition:"bottom left",position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),(0,I.jsx)(r.A,{variant:"h6",children:"Enter OTP"}),(0,I.jsxs)(r.A,{variant:"body2",sx:{mb:1},children:["Sent to: +",t," ",(0,I.jsxs)(p.A,{size:"small",onClick:()=>g(),sx:{color:Y.A.firstColor,background:Y.A.thirdColor,p:0,px:1,minWidth:0,ml:1,textTransform:"none"},children:[(0,I.jsx)(T.A,{sx:{fontSize:"14px"}})," Edit"]})]}),(0,I.jsx)(R.Ay,{container:!0,spacing:1,justifyContent:"center",mt:3,children:c.map(((e,o)=>(0,I.jsx)(R.Ay,{item:!0,children:(0,I.jsx)(F.A,{inputRef:e=>v.current[o]=e,value:c[o],onChange:e=>((e,o)=>{const i=o.replace(/\D/g,"");if(0===i.length){const o=[...c];return o[e]="",void h(o)}if(i.length>1){const o=[...c];let n=e;for(const e of i){if(n>=4)break;o[n]=e,n++}h(o);const l=Math.min(e+i.length,3);return void setTimeout((()=>{var e,o;null===(e=v.current[l])||void 0===e||e.focus(),null===(o=v.current[l])||void 0===o||o.select()}),50)}const n=[...c];n[e]=i,h(n),e<3&&setTimeout((()=>{var o,i;null===(o=v.current[e+1])||void 0===o||o.focus(),null===(i=v.current[e+1])||void 0===i||i.select()}),50)})(o,e.target.value),onKeyDown:e=>((e,o)=>{const i=o.key;if("Backspace"===i){if(c[e]){const o=[...c];o[e]="",h(o)}else if(e>0){var n;null===(n=v.current[e-1])||void 0===n||n.focus();const o=[...c];o[e-1]="",h(o)}}else if("ArrowLeft"===i&&e>0){var l;null===(l=v.current[e-1])||void 0===l||l.focus()}else if("ArrowRight"===i&&e<3){var t;null===(t=v.current[e+1])||void 0===t||t.focus()}})(o,e),onPaste:e=>((e,o)=>{e.preventDefault();const i=e.clipboardData.getData("text/plain").replace(/\D/g,"");if(!i)return;const n=[...c];let l=o;for(const r of i){if(l>=4)break;n[l]=r,l++}h(n);const t=Math.min(o+i.length,3);setTimeout((()=>{var e,o;null===(e=v.current[t])||void 0===e||e.focus(),null===(o=v.current[t])||void 0===o||o.select()}),50)})(e,o),inputProps:{maxLength:1,inputMode:"numeric",pattern:"[0-9]*",type:"tel",style:{textAlign:"center",fontSize:18,borderColor:"transparent"}},sx:{width:48,bgcolor:Y.A.thirdColor,borderRadius:2,border:"none",outline:"none",boxShadow:"none","& fieldset":{border:"none"},"&:hover":{bgcolor:"#f5f5f5"},"& .MuiInputBase-input":{color:Y.A.firstColor,fontFamily:"CustomFontB",fontSize:"20px",padding:"12px 8px"}},onFocus:e=>{e.target.select()}})},o)))}),(0,I.jsx)(p.A,{onClick:()=>{4===c.join("").length?(0,w.vJ)({otp:c.join(""),sessionId:s,phone:t,name:a,email:d}).then((e=>{var o,n,t,r;(0,S.p$)(null===e||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.token),(0,S.lt)(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.user),D.oR.success("Verified successfully!"),l(),i()})).catch((e=>{D.oR.error("Verification failed")})):D.oR.error("Please enter the complete OTP")},type:"button",sx:{background:Y.A.thirdColor,color:Y.A.firstColor,fontSize:"14px",fontWeight:"bold",textTransform:"none",m:"auto",mt:4,width:"100%",display:"block",position:"absolute",bottom:0,left:0,borderRadius:0,py:2,boxShadow:"0px -6px 50px rgba(7, 7, 7, 0.11)"},children:"Verify OTP"})]})})})},W=j.Ik({name:j.Yj().required("Name is required"),email:j.Yj().email("Invalid email").optional()}),E=()=>{var e,o,i,x,y,j;const C=(0,A.zy)(),T=null===(e=C.state)||void 0===e?void 0:e.hotelData,N=null===(o=C.state)||void 0===o?void 0:o.selectedRoom,R=null===(i=C.state)||void 0===i?void 0:i.selectedSlot,F=null===(x=C.state)||void 0===x?void 0:x.pricingDetails,B=new URLSearchParams(C.search),E=B.get("bookingType"),V=B.get("time"),L=B.get("checkinDate"),_=B.get("checkOutDate"),H=B.get("rooms"),U=B.get("adults"),K=B.get("children"),X=null===R||void 0===R?void 0:R.slot,Z=null===X||void 0===X||null===(y=X.match(/\d+/))||void 0===y?void 0:y[0],q=Z?parseInt(Z,10):null,[G,J]=(0,b.useState)({}),[Q,ee]=(0,b.useState)(!1),[oe,ie]=(0,b.useState)({phone:"",name:"",email:"",token:""}),[ne,le]=(0,b.useState)(null),[te,re]=(0,b.useState)(!1),[ae,de]=(0,b.useState)(!1);(0,b.useEffect)((()=>{(0,S.M3)()&&(0,w.E$)().then((e=>{var o;J(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)})).catch((e=>{console.log(e)}))}),[]);const se=Number(null===F||void 0===F?void 0:F.basePrice)||0,ue=Number(null===F||void 0===F?void 0:F.platformFee)||0,ce=Number(null===F||void 0===F?void 0:F.gstOnBase)||0,he=Number(null===F||void 0===F?void 0:F.gstOnPlatform)||0,ve=Number(null===F||void 0===F?void 0:F.gstTotal)||0,me=Number(null===F||void 0===F?void 0:F.totalPrice)||0,pe=se>0?{basePrice:se,platformFee:ue,gstOnBase:ce,gstOnPlatform:he,gstTotal:ve,finalPrice:me}:(e=>{const o=Number(e)||0;if(!o||o<=0)return{basePrice:0,platformFee:0,gstOnBase:0,gstOnPlatform:0,gstTotal:0,gatewayFee:0,finalPrice:0};const i=.05*o,n=.13*(o+i),l=.18*n,t=.02*(o+i+n+l),r=i+l+t;return{basePrice:o,platformFee:n,gstOnBase:i,gstOnPlatform:l,gstTotal:r,gatewayFee:t,finalPrice:o+n+r}})(Number((null===N||void 0===N?void 0:N.rateFor1Night)||(null===N||void 0===N?void 0:N.rateFor3Hour)||0)),xe=pe.basePrice,ge=pe.platformFee,fe=pe.gstOnBase,be=pe.gstOnPlatform,ye=pe.gstTotal,ke=xe,Ae=ke+700,De=xe+ge,je=fe,Pe=be,we=ye,Ce=pe.finalPrice+(Number(null===F||void 0===F?void 0:F.extraFees)||0),Ye=Number(null===F||void 0===F?void 0:F.totalPrice)||Ce,Se=async()=>{try{if(!Ye||Ye<=0)return void alert("Booking amount cannot be zero.");const e={amount:Math.round(Ye),currency:"INR"},o=await(0,w.fS)(e);null!==o&&void 0!==o&&o.data?le(o.data):alert("Payment failed. Please try again.")}catch(e){console.error("Error during payment:",e),alert("Payment failed. Please try again.")}},Ie=((0,A.Zp)(),(0,f.Wx)({initialValues:{name:G.userName||"",email:G.email||"",phoneNumber:`91${G.phoneNumber}`||""},validationSchema:W,enableReinitialize:!0,onSubmit:e=>{if(te)if((0,S.M3)())Se();else{const o={name:e.name,email:e.email,phone:e.phoneNumber.slice(2)};(0,w.AJ)(o).then((o=>{var i;console.log(o),ee(!0),(0,D.oR)("Otp send Succesfully please verify the OTP"),ie({phone:e.phoneNumber.slice(2),name:e.name,email:e.email,token:null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.data})})).catch((e=>{console.log(e)}))}else D.oR.error("Please accept Terms & Conditions before proceeding.")}})),Me=(0,b.useRef)(null),[Oe,Te]=(0,b.useState)("auto");(0,b.useEffect)((()=>{Me.current&&Te(`${Me.current.clientHeight}px`)}),[T]);Number(null===F||void 0===F?void 0:F.platformFee),Number(null===F||void 0===F?void 0:F.gstTotal),Number(null===F||void 0===F?void 0:F.extraFees);const Ne=Number(null===F||void 0===F?void 0:F.totalPrice)||Ce;return(0,I.jsxs)(n.A,{sx:{...O.VX,background:"#f6f6f6",mt:0,py:4,px:{xs:1,md:3},display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"center",gap:"20px"},children:[(0,I.jsx)(l.A,{sx:{p:1,background:"white",maxWidth:"700px",border:"none",boxShadow:0,borderRadius:"12px"},children:(0,I.jsxs)(t.A,{children:[(0,I.jsx)(r.A,{variant:"h6",gutterBottom:!0,sx:{color:Y.A.firstColor,fontWeight:"bold"},children:"Your Booking Summary"}),(0,I.jsxs)(n.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:0,md:2},position:"relative",mt:2,height:"fit-content",alignItems:"stretch"},children:[(0,I.jsx)(a.A,{component:"img",sx:{width:{xs:"100%",md:"250px"},borderRadius:"12px",objectFit:"cover",height:Oe,transition:"height 0.3s ease"},image:null===T||void 0===T||null===(j=T.propertyImages)||void 0===j?void 0:j[0]}),(0,I.jsxs)("div",{style:{height:"fit-content"},ref:Me,children:[(0,I.jsx)(r.A,{sx:{fontSize:"20px",fontWeight:600,color:Y.A.firstColor,mt:{xs:1.5,md:1},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:null===T||void 0===T?void 0:T.propertyName}),(0,I.jsx)(r.A,{sx:{fontFamily:"CustomFontSB",fontSize:{xs:"12px",md:"14px"},display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:null===T||void 0===T?void 0:T.address}),(0,I.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"4px"},children:["hourly"===E?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Check-In:"})," ",g()(L).format("DD MMM YYYY"),","," ",V?g()(V,"HH:mm").format("hh:mm A"):""]}),(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Duration: "}),q," hrs"]})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Check-In:"})," ",g()(L).format("DD MMM YYYY")]}),(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Check-Out:"})," ",g()(_).format("DD MMM YYYY")]})]}),(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Room type:"})," ",null===N||void 0===N?void 0:N.roomCategory]}),(0,I.jsxs)(r.A,{sx:$,children:[(0,I.jsx)("strong",{children:"Room Info: "}),H," Room, ",U," Adults, ",K," Children"]})]})]})]}),(0,I.jsxs)("form",{onSubmit:Ie.handleSubmit,children:[(0,I.jsx)(r.A,{variant:"h6",mt:4,sx:{color:Y.A.firstColor,fontWeight:"bold"},children:"Guest Information"}),(0,I.jsx)(O.XY,{label:"Guest Name",name:"name",fullWidth:!0,margin:"normal",value:Ie.values.name,onChange:Ie.handleChange,onBlur:Ie.handleBlur,error:Ie.touched.name&&Boolean(Ie.errors.name)}),(0,I.jsxs)(n.A,{mt:1,children:[(0,I.jsx)(k(),{country:"in",value:Ie.values.phoneNumber,onChange:e=>Ie.setFieldValue("phoneNumber",e),onBlur:()=>Ie.setFieldTouched("phoneNumber",!0),inputStyle:{width:"100%",height:"56px",borderRadius:"52px",border:"none",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:Y.A.firstColor,paddingLeft:"58px",fontSize:"16px",backgroundColor:"white",transition:"border-color 0.2s ease"},buttonStyle:{borderRadius:"52px 0 0 52px",margin:"5px",backgroundColor:"white"},containerStyle:{width:"100%"}}),Ie.touched.phoneNumber&&Ie.errors.phoneNumber&&(0,I.jsx)(r.A,{sx:{color:"red",fontSize:"12px",mt:.5,ml:"14px"},children:Ie.errors.phoneNumber})]}),(0,I.jsx)(O.XY,{label:"Email Address (Optional)",name:"email",fullWidth:!0,margin:"normal",value:Ie.values.email,onChange:Ie.handleChange,onBlur:Ie.handleBlur,error:Ie.touched.email&&Boolean(Ie.errors.email)}),(0,I.jsx)(n.A,{sx:{mt:2},children:(0,I.jsx)(d.A,{control:(0,I.jsx)(s.A,{checked:te,onChange:e=>re(e.target.checked),color:"primary"}),label:(0,I.jsxs)("span",{children:["I accept the"," ",(0,I.jsx)("span",{style:{color:Y.A.firstColor,cursor:"pointer",textDecoration:"underline"},onClick:()=>de(!0),children:"Terms & Conditions"})]})})}),(0,S.M3)()?(0,I.jsx)(P.A,{variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},type:"submit",disabled:!te,children:"Pay Now"}):(0,I.jsx)(P.A,{variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},type:"submit",disabled:!te,children:"verify Phone & Pay"}),(0,I.jsx)(z,{open:Q,onClose:()=>ee(!1),onVerificationSuccess:()=>{ee(!1),Se()},phone:oe.phone,name:oe.name,email:oe.email,token:oe.token}),ne&&(0,I.jsx)(M,{orderDetails:ne,amount:Ne,bookingDetails:{hotel:T,room:N,guestInfo:Ie.values,timing:(()=>{if("hourly"===E&&V&&q){const e=g()(`${L} ${V}`),o=e.add(q,"hour");return{checkInDate:e.format("DD MMM YYYY"),checkInTime:e.format("hh:mm A"),checkOutDate:o.format("DD MMM YYYY"),checkOutTime:o.format("hh:mm A"),duration:`${q} hrs`}}return{checkInDate:g()(L).format("DD MMM YYYY"),checkInTime:"12.00 PM",checkOutDate:g()(_).format("DD MMM YYYY"),checkOutTime:"11.00 AM",duration:g()(_).diff(g()(L),"day")+1+" night(s)"}})(),pricingDetails:F,bookingType:E,rooms:H,adults:U,children:K}})]})]})}),(0,I.jsx)(l.A,{sx:{p:1,background:"white",border:"none",boxShadow:0,borderRadius:"12px",height:"fit-content"},children:(0,I.jsxs)(t.A,{children:[(0,I.jsx)(r.A,{variant:"h6",gutterBottom:!0,sx:{color:Y.A.firstColor,fontWeight:"bold"},children:"Your Bill Summary"}),(0,I.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:[(0,I.jsx)(r.A,{sx:{fontSize:"16px",color:Y.A.forthColor,textDecoration:"line-through",fontWeight:600,opacity:.95},children:ke>0?`\u20b9 ${Ae.toFixed(0)}`:"---"}),(0,I.jsx)(r.A,{sx:{fontSize:"24px",color:Y.A.firstColor,fontWeight:"bold"},children:De>0?`\u20b9 ${De.toFixed(0)}`:"\u2014"}),(0,I.jsx)(r.A,{sx:{fontSize:"13px",color:Y.A.forthColor,textAlign:"right"},children:je>0||Pe>0?(0,I.jsxs)(I.Fragment,{children:["\u20b9",we.toFixed(0)," taxes & fees"]}):"\u2014"}),(0,I.jsx)(u.A,{sx:{width:"100%",mt:1}}),(0,I.jsx)(r.A,{sx:{fontSize:"16px",color:Y.A.firstColor,fontWeight:"700"},children:Ce>0?`Final: \u20b9 ${Ce.toFixed(0)}`:"---"})]})]})}),(0,I.jsxs)(c.A,{open:ae,onClose:()=>de(!1),maxWidth:"sm",fullWidth:!0,children:[(0,I.jsx)(h.A,{children:"Terms & Conditions"}),(0,I.jsxs)(v.A,{children:[(0,I.jsx)(r.A,{variant:"body2",sx:{whiteSpace:"pre-line"},children:"\nBy booking, you agree to the property's terms and conditions, cancellation policy, and house rules.\nYou also agree to follow Huts4u's official Terms & Conditions mentioned on the link below.\nPlease ensure you have read and understood all applicable policies.\n"}),(0,I.jsx)(r.A,{variant:"body2",sx:{color:Y.A.firstColor,textDecoration:"underline",cursor:"pointer",fontWeight:600},onClick:()=>window.open("https://huts4u.com/terms","_blank"),children:"Open Huts4u Terms & Conditions"})]}),(0,I.jsx)(m.A,{children:(0,I.jsx)(p.A,{onClick:()=>{de(!1)},children:"Close"})})]})]})},$={borderRadius:"52px",boxShadow:"4px 4px 10px rgba(104, 39, 184, 0.17)",color:Y.A.firstColor,background:"white",fontSize:{xs:"12px",md:"14px"},width:"fit-content",p:1,px:2,mb:1}}}]);
//# sourceMappingURL=467.4e65b952.chunk.js.map