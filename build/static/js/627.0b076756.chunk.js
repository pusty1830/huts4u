"use strict";(self.webpackChunkhuts4u=self.webpackChunkhuts4u||[]).push([[627],{51387:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(59662),l=n(70579);const s=(0,o.A)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},83560:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(59662),l=n(70579);const s=(0,o.A)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98627:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var o=n(65043),l=n(7353),s=n(12110),r=n(26494),i=n(94496),c=n(79650),d=n(61596),a=n(71806),h=n(84882),x=n(28076),A=n(10039),u=n(73460),j=n(17392),p=n(83462),m=n(26600),v=n(35316),f=n(58387),g=n(98610),k=n(61475),y=n(34535),D=n(98206),w=n(92532),C=n(72372);function N(e){return(0,C.Ay)("MuiDialogContentText",e)}(0,w.A)("MuiDialogContentText",["root"]);var S=n(70579);const H=(0,y.Ay)(i.A,{shouldForwardProp:e=>(0,k.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),b=o.forwardRef((function(e,t){const n=(0,D.b)({props:e,name:"MuiDialogContentText"}),{children:o,className:l,...s}=n,r=(e=>{const{classes:t}=e,n=(0,g.A)({root:["root"]},N,t);return{...t,...n}})(s);return(0,S.jsx)(H,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:s,className:(0,f.A)(r.root,l),...n,classes:r})}));var M=n(29347),T=n(11906),I=n(83560),z=n(51387),B=n(69995),R=n(57488),F=n(73216);const O=()=>{const[e,t]=(0,o.useState)([]),[n,f]=(0,o.useState)([]),[g,k]=(0,o.useState)(!1),[y,D]=(0,o.useState)(null),[w,C]=(0,o.useState)(null),[N,H]=(0,o.useState)("");(0,o.useEffect)((()=>{const e={data:{filter:""},page:0,pageSize:50,order:[["createdAt","ASC"]]};(0,B.NO)(e).then((e=>{var n,o;const l=((null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.rows)||[]).filter((e=>e.checkInDate)).sort(((e,t)=>new Date(t.checkInDate).getTime()-new Date(e.checkInDate).getTime()));t(l)})).catch((e=>{console.log(e)})),(0,B.Vy)(e).then((e=>{var t,n;f((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.rows)||[])})).catch((e=>{console.log(e)}))}),[]);const O=e=>{const t=e.toString();return t.slice(0,-2)+"."+t.slice(-2)},V=(0,F.Zp)(),E=()=>{k(!1),D(null),C(null),H("")};return(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:3,padding:3,width:"90%",alignItems:"center"},children:[(0,S.jsx)(s.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,S.jsxs)(r.A,{sx:{flex:1},children:[(0,S.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Booking Table"}),(0,S.jsx)(c.A,{component:d.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,S.jsxs)(a.A,{stickyHeader:!0,children:[(0,S.jsx)(h.A,{children:(0,S.jsxs)(x.A,{children:[(0,S.jsx)(A.A,{children:"Booking ID"}),(0,S.jsx)(A.A,{children:"Hotel Name"}),(0,S.jsx)(A.A,{children:"Guest Name"}),(0,S.jsx)(A.A,{children:"Check-In"}),(0,S.jsx)(A.A,{children:"Check-Out"}),(0,S.jsx)(A.A,{children:"Status"}),(0,S.jsx)(A.A,{children:"Amount"})]})}),(0,S.jsx)(u.A,{children:e.map((e=>(0,S.jsxs)(x.A,{children:[(0,S.jsx)(A.A,{children:e.id}),(0,S.jsx)(A.A,{children:(null===e||void 0===e?void 0:e.hotelName)||"N/A"}),(0,S.jsx)(A.A,{children:(null===e||void 0===e?void 0:e.geustName)||"N/A"}),(0,S.jsx)(A.A,{children:e.checkInDate||"N/A"}),(0,S.jsx)(A.A,{children:e.checkOutDate||"N/A"}),(0,S.jsx)(A.A,{children:e.status||"N/A"}),(0,S.jsxs)(A.A,{children:["\u20b9",O(e.amountPaid)||"0"]})]},e.id)))})]})})]})}),(0,S.jsx)(s.A,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:(0,S.jsxs)(r.A,{sx:{flex:1},children:[(0,S.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:"Hotel Table"}),(0,S.jsx)(c.A,{component:d.A,sx:{maxHeight:"400px",overflowY:"auto"},children:(0,S.jsxs)(a.A,{stickyHeader:!0,children:[(0,S.jsx)(h.A,{children:(0,S.jsxs)(x.A,{children:[(0,S.jsx)(A.A,{children:"ID"}),(0,S.jsx)(A.A,{children:"Hotel Name"}),(0,S.jsx)(A.A,{children:"Location"}),(0,S.jsx)(A.A,{children:"Contact"}),(0,S.jsx)(A.A,{children:"Actions"})]})}),(0,S.jsx)(u.A,{children:n.map((e=>(0,S.jsxs)(x.A,{children:[(0,S.jsx)(A.A,{children:e.id}),(0,S.jsx)(A.A,{children:e.propertyName}),(0,S.jsx)(A.A,{children:e.city}),(0,S.jsx)(A.A,{children:e.ownerMobile}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(j.A,{color:"primary",onClick:()=>V("/property-registration",{state:e.id}),children:(0,S.jsx)(I.A,{})}),(0,S.jsx)(j.A,{color:"error",onClick:()=>{return t=e.id,n="hotel",o=e.propertyName,D(t),C(n),H(o),void k(!0);var t,n,o},children:(0,S.jsx)(z.A,{})})]})]},e.id)))})]})})]})}),(0,S.jsxs)(p.A,{open:g,onClose:E,children:[(0,S.jsx)(m.A,{children:"Confirm Deletion"}),(0,S.jsx)(v.A,{children:(0,S.jsx)(b,{children:"hotel"===w?`Are you sure you want to delete the hotel "${N}"? This action cannot be undone.`:`Are you sure you want to delete the booking "${N}"? This action cannot be undone.`})}),(0,S.jsxs)(M.A,{children:[(0,S.jsx)(T.A,{onClick:E,color:"primary",children:"Cancel"}),(0,S.jsxs)(T.A,{onClick:()=>{y&&w&&("hotel"===w&&(0,B.GM)(y).then((e=>{f(n.filter((e=>e.id!==y))),R.oR.success("Hotel deleted successfully")})).catch((e=>{console.log(e),R.oR.error("Failed to delete hotel")})),E())},color:"error",autoFocus:!0,children:["Delete ","hotel"===w?"Hotel":"Booking"]})]})]})]})}}}]);
//# sourceMappingURL=627.0b076756.chunk.js.map